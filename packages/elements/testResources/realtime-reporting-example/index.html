<!DOCTYPE html>
<html>
  <head>
    <title>Install local example - Mutation test elements</title>
    <script src="/mutation-test-elements.js"></script>
  </head>

  <body>
    <a href="/">Back</a>

    <script>
      const queryParams = new URLSearchParams(window.location.search);
      const port = queryParams.get('port');
      const url = port ? `http://localhost:${port}/` : 'sse';

      const report = document.createElement('mutation-test-report-app');
      report.setAttribute('src', 'mutation-report.json');
      report.setAttribute('sse', url);
      document.body.appendChild(report);

      const app = document.getElementsByTagName('mutation-test-report-app').item(0);

      function updateTheme() {
        document.body.style.backgroundColor = app.themeBackgroundColor;
      }
      app.addEventListener('theme-changed', updateTheme);

      updateTheme();
    </script>
  </body>
</html>
