{
  "files": {
    "lighthouse-core/audits/metrics/cumulative-layout-shift.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "0",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "1",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "2",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 83,
              "line": 15
            },
            "start": {
              "column": 16,
              "line": 15
            }
          }
        },
        {
          "id": "3",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 35
            },
            "start": {
              "column": 21,
              "line": 27
            }
          }
        },
        {
          "id": "4",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 34
            },
            "start": {
              "column": 12,
              "line": 28
            }
          }
        },
        {
          "id": "5",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 36,
              "line": 29
            },
            "start": {
              "column": 11,
              "line": 29
            }
          }
        },
        {
          "id": "6",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 36,
              "line": 33
            },
            "start": {
              "column": 26,
              "line": 33
            }
          }
        },
        {
          "id": "7",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 33
            },
            "start": {
              "column": 27,
              "line": 33
            }
          }
        },
        {
          "id": "8",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 48
            },
            "start": {
              "column": 31,
              "line": 40
            }
          }
        },
        {
          "id": "9",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 47
            },
            "start": {
              "column": 12,
              "line": 41
            }
          }
        },
        {
          "id": "10",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 75
            },
            "start": {
              "column": 42,
              "line": 55
            }
          }
        },
        {
          "id": "11",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 63
            },
            "start": {
              "column": 21,
              "line": 60
            }
          }
        },
        {
          "id": "12",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 24,
              "line": 61
            },
            "start": {
              "column": 13,
              "line": 61
            }
          }
        },
        {
          "id": "13",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 38,
              "line": 62
            },
            "start": {
              "column": 14,
              "line": 62
            }
          }
        },
        {
          "id": "14",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 74
            },
            "start": {
              "column": 12,
              "line": 65
            }
          }
        },
        {
          "id": "15",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 67,
              "line": 67
            },
            "start": {
              "column": 9,
              "line": 67
            }
          }
        },
        {
          "id": "16",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 30,
              "line": 71
            },
            "start": {
              "column": 20,
              "line": 71
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst ComputedCLS = require('../../computed/metrics/cumulative-layout-shift.js');\nconst i18n = require('../../lib/i18n/i18n.js');\n\nconst UIStrings = {\n  /** Description of the Cumulative Layout Shift metric that indicates how much the page changes its layout while it loads. If big segments of the page shift their location during load, the Cumulative Layout Shift will be higher. This description is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'Cumulative Layout Shift measures the movement of visible ' +\n               'elements within the viewport. [Learn more](https://web.dev/cls/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\n/**\n * @fileoverview This metric represents the amount of visual shifting of DOM elements during page load.\n */\nclass CumulativeLayoutShift extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'cumulative-layout-shift',\n      title: str_(i18n.UIStrings.cumulativeLayoutShiftMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces'],\n    };\n  }\n\n  /**\n   * @return {LH.Audit.ScoreOptions}\n   */\n  static get defaultOptions() {\n    return {\n      // https://web.dev/cls/#what-is-a-good-cls-score\n      // This 0.1 target score was determined through both manual evaluation and large-scale analysis.\n      // see https://www.desmos.com/calculator/ksp7q91nop\n      p10: 0.1,\n      median: 0.25,\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const metricResult = await ComputedCLS.request(trace, context);\n\n    /** @type {LH.Audit.Details.DebugData} */\n    const details = {\n      type: 'debugdata',\n      items: [metricResult.debugInfo],\n    };\n\n    return {\n      score: Audit.computeLogNormalScore(\n        {p10: context.options.p10, median: context.options.median},\n        metricResult.value\n      ),\n      numericValue: metricResult.value,\n      numericUnit: 'unitless',\n      displayValue: metricResult.value.toLocaleString(context.settings.locale),\n      details,\n    };\n  }\n}\n\nmodule.exports = CumulativeLayoutShift;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/estimated-input-latency.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "22",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 34
            },
            "start": {
              "column": 21,
              "line": 26
            }
          }
        },
        {
          "id": "23",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 33
            },
            "start": {
              "column": 12,
              "line": 27
            }
          }
        },
        {
          "id": "24",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 36,
              "line": 28
            },
            "start": {
              "column": 11,
              "line": 28
            }
          }
        },
        {
          "id": "25",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 32
            },
            "start": {
              "column": 26,
              "line": 32
            }
          }
        },
        {
          "id": "26",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 32
            },
            "start": {
              "column": 27,
              "line": 32
            }
          }
        },
        {
          "id": "27",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 32
            },
            "start": {
              "column": 37,
              "line": 32
            }
          }
        },
        {
          "id": "17",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 2,
              "line": 18
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "21",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 64,
              "line": 17
            },
            "start": {
              "column": 7,
              "line": 17
            }
          }
        },
        {
          "id": "18",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 98,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "19",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 89,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "20",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 77,
              "line": 16
            },
            "start": {
              "column": 7,
              "line": 16
            }
          }
        },
        {
          "id": "29",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/estimated-input-latency-test.js:29:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 44
            },
            "start": {
              "column": 12,
              "line": 40
            }
          }
        },
        {
          "id": "31",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/estimated-input-latency.js:131:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/estimated-input-latency-test.js:27:18)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 58
            },
            "start": {
              "column": 35,
              "line": 58
            }
          }
        },
        {
          "id": "30",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'numericValue' of undefined\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/estimated-input-latency-test.js:28:38",
          "status": "Killed",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 70
            },
            "start": {
              "column": 42,
              "line": 55
            }
          }
        },
        {
          "id": "28",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'p10' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/estimated-input-latency.js:134:32)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 45
            },
            "start": {
              "column": 31,
              "line": 39
            }
          }
        },
        {
          "id": "32",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  17.1\nReceived:\n  NaN\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/estimated-input-latency-test.js:28:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 69
            },
            "start": {
              "column": 12,
              "line": 61
            }
          }
        },
        {
          "id": "33",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/estimated-input-latency-test.js:29:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 67,
              "line": 63
            },
            "start": {
              "column": 9,
              "line": 63
            }
          }
        },
        {
          "id": "34",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 67
            },
            "start": {
              "column": 20,
              "line": 67
            }
          }
        },
        {
          "id": "35",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, milliseconds}Â ms\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/estimated-input-latency.js:139:23)",
          "status": "Killed",
          "estimatedNetTime": 65,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "640"
          ],
          "coveredBy": [
            "640"
          ],
          "location": {
            "end": {
              "column": 76,
              "line": 68
            },
            "start": {
              "column": 45,
              "line": 68
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedEil = require('../../computed/metrics/estimated-input-latency.js');\n\nconst UIStrings = {\n  /** Description of the Estimated Input Latency metric that estimates the amount of time, in milliseconds, that the app takes to respond to user input. This description is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'Estimated Input Latency is an estimate of how long your app takes to respond to ' +\n      'user input, in milliseconds, during the busiest 5s window of page load. If your ' +\n      'latency is higher than 50 ms, users may perceive your app as laggy. ' +\n      '[Learn more](https://web.dev/estimated-input-latency/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass EstimatedInputLatency extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'estimated-input-latency',\n      title: str_(i18n.UIStrings.estimatedInputLatencyMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs'],\n    };\n  }\n\n  /**\n   * @return {LH.Audit.ScoreOptions}\n   */\n  static get defaultOptions() {\n    return {\n      // see https://www.desmos.com/calculator/mgd0hjqnal\n      p10: 58,\n      median: 100,\n    };\n  }\n\n  /**\n   * Audits the page to estimate input latency.\n   * @see https://github.com/GoogleChrome/lighthouse/issues/28\n   *\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedEil.request(metricComputationData, context);\n\n    return {\n      score: Audit.computeLogNormalScore(\n        {p10: context.options.p10, median: context.options.median},\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.ms, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = EstimatedInputLatency;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/first-contentful-paint-3g.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "36",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 25
            },
            "start": {
              "column": 21,
              "line": 16
            }
          }
        },
        {
          "id": "37",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 24
            },
            "start": {
              "column": 12,
              "line": 17
            }
          }
        },
        {
          "id": "38",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 38,
              "line": 18
            },
            "start": {
              "column": 11,
              "line": 18
            }
          }
        },
        {
          "id": "39",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 43,
              "line": 19
            },
            "start": {
              "column": 14,
              "line": 19
            }
          }
        },
        {
          "id": "40",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 99,
              "line": 20
            },
            "start": {
              "column": 20,
              "line": 20
            }
          }
        },
        {
          "id": "41",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 137,
              "line": 21
            },
            "start": {
              "column": 9,
              "line": 21
            }
          }
        },
        {
          "id": "42",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 23
            },
            "start": {
              "column": 26,
              "line": 23
            }
          }
        },
        {
          "id": "43",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 23
            },
            "start": {
              "column": 27,
              "line": 23
            }
          }
        },
        {
          "id": "44",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 23
            },
            "start": {
              "column": 37,
              "line": 23
            }
          }
        },
        {
          "id": "45",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'p10' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint-3g.js:134:32)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:27:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 39
            },
            "start": {
              "column": 31,
              "line": 30
            }
          }
        },
        {
          "id": "46",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toMatchInlineSnapshot(snapshot)\n\nSnapshot name: `Performance: first-contentful-paint-3g audit evaluates valid input correctly 1`\n\n- Snapshot\n+ Received\n\n  Object {\n-   \"score\": 0.99,\n+   \"score\": NaN,\n    \"value\": 2087,\n  }\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:29:75)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 38
            },
            "start": {
              "column": 12,
              "line": 31
            }
          }
        },
        {
          "id": "47",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'score' of undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:29:27)",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 63
            },
            "start": {
              "column": 42,
              "line": 46
            }
          }
        },
        {
          "id": "50",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint-3g.js:131:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:27:32)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 65,
              "line": 51
            },
            "start": {
              "column": 35,
              "line": 51
            }
          }
        },
        {
          "id": "48",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Unrecognized throttling method: undefined\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:67:15)",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 96,
              "line": 50
            },
            "start": {
              "column": 22,
              "line": 50
            }
          }
        },
        {
          "id": "49",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "TypeError: Unrecognized throttling method: \n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:67:15)",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 72,
              "line": 50
            },
            "start": {
              "column": 62,
              "line": 50
            }
          }
        },
        {
          "id": "51",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toMatchInlineSnapshot(snapshot)\n\nSnapshot name: `Performance: first-contentful-paint-3g audit evaluates valid input correctly 1`\n\n- Snapshot\n+ Received\n\n  Object {\n-   \"score\": 0.99,\n-   \"value\": 2087,\n+   \"score\": undefined,\n+   \"value\": NaN,\n  }\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:29:75)",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 62
            },
            "start": {
              "column": 12,
              "line": 54
            }
          }
        },
        {
          "id": "52",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toMatchInlineSnapshot(snapshot)\n\nSnapshot name: `Performance: first-contentful-paint-3g audit evaluates valid input correctly 1`\n\n- Snapshot\n+ Received\n\n  Object {\n-   \"score\": 0.99,\n+   \"score\": NaN,\n    \"value\": 2087,\n  }\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js:29:75)",
          "status": "Killed",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "639"
          ],
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 67,
              "line": 56
            },
            "start": {
              "column": 9,
              "line": 56
            }
          }
        },
        {
          "id": "54",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 61
            },
            "start": {
              "column": 21,
              "line": 61
            }
          }
        },
        {
          "id": "53",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 103,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "639"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 60
            },
            "start": {
              "column": 20,
              "line": 60
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst regular3G = require('../../config/constants.js').throttling.mobileRegular3G;\nconst ComputedFcp = require('../../computed/metrics/first-contentful-paint.js');\n\nclass FirstContentfulPaint3G extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'first-contentful-paint-3g',\n      title: 'First Contentful Paint (3G)',\n      description: 'First Contentful Paint 3G marks the time at which the first text or image is ' +\n        `painted while on a 3G network. [Learn more](https://developers.google.com/web/tools/lighthouse/audits/first-contentful-paint).`,\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs'],\n    };\n  }\n\n  /**\n   * @return {LH.Audit.ScoreOptions}\n   */\n  static get defaultOptions() {\n    return {\n      // 25th and 5th percentiles HTTPArchive on Fast 3G -> multiply by 1.5 for RTT differential -> median and PODR\n      // p10 is then derived from them.\n      // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n      // https://www.desmos.com/calculator/fflcrsn9sj\n      p10: 3504,\n      median: 6000,\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    /** @type {Immutable<LH.Config.Settings>} */\n    const settings = {...context.settings, throttlingMethod: 'simulate', throttling: regular3G};\n    const metricComputationData = {trace, devtoolsLog, settings};\n    const metricResult = await ComputedFcp.request(metricComputationData, context);\n\n    return {\n      score: Audit.computeLogNormalScore(\n        {p10: context.options.p10, median: context.options.median},\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: `${metricResult.timing}\\xa0ms`,\n    };\n  }\n}\n\nmodule.exports = FirstContentfulPaint3G;\n"
    },
    "lighthouse-core/audits/metrics/first-contentful-paint.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "58",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 32
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "59",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 12,
              "line": 25
            }
          }
        },
        {
          "id": "60",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 26
            },
            "start": {
              "column": 11,
              "line": 26
            }
          }
        },
        {
          "id": "61",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 30
            },
            "start": {
              "column": 26,
              "line": 30
            }
          }
        },
        {
          "id": "62",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 30
            },
            "start": {
              "column": 27,
              "line": 30
            }
          }
        },
        {
          "id": "63",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 30
            },
            "start": {
              "column": 37,
              "line": 30
            }
          }
        },
        {
          "id": "64",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 30
            },
            "start": {
              "column": 53,
              "line": 30
            }
          }
        },
        {
          "id": "55",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "56",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 92,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "57",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 72,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "66",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint.js:145:52)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:28:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 55
            },
            "start": {
              "column": 12,
              "line": 38
            }
          }
        },
        {
          "id": "65",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint.js:143:77)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:28:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 56
            },
            "start": {
              "column": 31,
              "line": 37
            }
          }
        },
        {
          "id": "67",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint.js:145:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:28:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 47
            },
            "start": {
              "column": 15,
              "line": 39
            }
          }
        },
        {
          "id": "68",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:29:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 46
            },
            "start": {
              "column": 18,
              "line": 43
            }
          }
        },
        {
          "id": "69",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 8,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 48
            }
          }
        },
        {
          "id": "70",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 10,
              "line": 53
            },
            "start": {
              "column": 18,
              "line": 50
            }
          }
        },
        {
          "id": "71",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'score' of undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:29:25)",
          "status": "Killed",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 80
            },
            "start": {
              "column": 42,
              "line": 63
            }
          }
        },
        {
          "id": "72",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint.js:141:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:28:32)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 66
            },
            "start": {
              "column": 35,
              "line": 66
            }
          }
        },
        {
          "id": "73",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 68
            },
            "start": {
              "column": 23,
              "line": 68
            }
          }
        },
        {
          "id": "74",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 68
            },
            "start": {
              "column": 23,
              "line": 68
            }
          }
        },
        {
          "id": "75",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "status": "Survived",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 68
            },
            "start": {
              "column": 23,
              "line": 68
            }
          }
        },
        {
          "id": "76",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 68
            },
            "start": {
              "column": 58,
              "line": 68
            }
          }
        },
        {
          "id": "77",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  undefined\n\nDifference:\n\n  Comparing two different types of values. Expected number but received undefined.\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:29:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 79
            },
            "start": {
              "column": 12,
              "line": 71
            }
          }
        },
        {
          "id": "78",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 77
            },
            "start": {
              "column": 20,
              "line": 77
            }
          }
        },
        {
          "id": "79",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, seconds}Â s\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-contentful-paint.js:148:23)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-contentful-paint-test.js:28:20)",
          "status": "Killed",
          "estimatedNetTime": 70,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "647"
          ],
          "coveredBy": [
            "647"
          ],
          "location": {
            "end": {
              "column": 81,
              "line": 78
            },
            "start": {
              "column": 50,
              "line": 78
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedFcp = require('../../computed/metrics/first-contentful-paint.js');\n\nconst UIStrings = {\n  /** Description of the First Contentful Paint (FCP) metric, which marks the time at which the first text or image is painted by the browser. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'First Contentful Paint marks the time at which the first text or image is ' +\n      `painted. [Learn more](https://web.dev/first-contentful-paint/).`,\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass FirstContentfulPaint extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'first-contentful-paint',\n      title: str_(i18n.UIStrings.firstContentfulPaintMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 5th percentiles HTTPArchive -> median and PODR, then p10 is derived from them.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n        // see https://www.desmos.com/calculator/oqlvmezbze\n        scoring: {\n          p10: 2336,\n          median: 4000,\n        },\n      },\n      desktop: {\n        // SELECT QUANTILES(renderStart, 21) FROM [httparchive:summary_pages.2018_12_15_desktop] LIMIT 1000\n        scoring: {\n          p10: 934,\n          median: 1600,\n        },\n      },\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedFcp.request(metricComputationData, context);\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = FirstContentfulPaint;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/first-cpu-idle.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "80",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "81",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 90,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "82",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 84,
              "line": 15
            },
            "start": {
              "column": 5,
              "line": 15
            }
          }
        },
        {
          "id": "83",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 32
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "84",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 12,
              "line": 25
            }
          }
        },
        {
          "id": "85",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 27,
              "line": 26
            },
            "start": {
              "column": 11,
              "line": 26
            }
          }
        },
        {
          "id": "86",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 30
            },
            "start": {
              "column": 26,
              "line": 30
            }
          }
        },
        {
          "id": "87",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 30
            },
            "start": {
              "column": 27,
              "line": 30
            }
          }
        },
        {
          "id": "88",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 30
            },
            "start": {
              "column": 37,
              "line": 30
            }
          }
        },
        {
          "id": "89",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 30
            },
            "start": {
              "column": 53,
              "line": 30
            }
          }
        },
        {
          "id": "90",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 56
            },
            "start": {
              "column": 31,
              "line": 37
            }
          }
        },
        {
          "id": "91",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 55
            },
            "start": {
              "column": 12,
              "line": 38
            }
          }
        },
        {
          "id": "92",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 47
            },
            "start": {
              "column": 15,
              "line": 39
            }
          }
        },
        {
          "id": "93",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 10,
              "line": 46
            },
            "start": {
              "column": 18,
              "line": 43
            }
          }
        },
        {
          "id": "94",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 8,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 48
            }
          }
        },
        {
          "id": "95",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 10,
              "line": 53
            },
            "start": {
              "column": 18,
              "line": 50
            }
          }
        },
        {
          "id": "96",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 83
            },
            "start": {
              "column": 42,
              "line": 66
            }
          }
        },
        {
          "id": "97",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 83,
              "line": 69
            },
            "start": {
              "column": 35,
              "line": 69
            }
          }
        },
        {
          "id": "98",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "99",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "100",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "101",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 58,
              "line": 71
            }
          }
        },
        {
          "id": "102",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 82
            },
            "start": {
              "column": 12,
              "line": 74
            }
          }
        },
        {
          "id": "103",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 33,
              "line": 80
            },
            "start": {
              "column": 20,
              "line": 80
            }
          }
        },
        {
          "id": "104",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 81,
              "line": 81
            },
            "start": {
              "column": 50,
              "line": 81
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedFci = require('../../computed/metrics/first-cpu-idle.js');\n\nconst UIStrings = {\n  /** Description of the First CPU Idle metric, which marks the time at which the page has displayed content and the CPU is not busy executing the page's scripts. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'First CPU Idle marks the first time at which the page\\'s main thread is ' +\n    'quiet enough to handle input.  [Learn more](https://web.dev/first-cpu-idle/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass FirstCPUIdle extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'first-cpu-idle',\n      title: str_(i18n.UIStrings.firstCPUIdleMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 5th percentiles HTTPArchive -> median and PODR, then p10 derived from them.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n        // see https://www.desmos.com/calculator/yrwes8ruci\n        scoring: {\n          p10: 3572,\n          median: 6500,\n        },\n      },\n      desktop: {\n        // SELECT QUANTILES(fullyLoaded, 21) FROM [httparchive:summary_pages.2018_12_15_desktop] LIMIT 1000\n        scoring: {\n          p10: 2468,\n          median: 4500,\n        },\n      },\n    };\n  }\n\n  /**\n   * Identify the time the page is \"first interactive\"\n   * @see https://docs.google.com/document/d/1GGiI9-7KeY3TPqS3YT271upUVimo-XiL5mwWorDUD4c/edit#\n   *\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedFci.request(metricComputationData, context);\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = FirstCPUIdle;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/first-meaningful-paint.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "108",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 32
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "109",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 12,
              "line": 25
            }
          }
        },
        {
          "id": "110",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 26
            },
            "start": {
              "column": 11,
              "line": 26
            }
          }
        },
        {
          "id": "111",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 30
            },
            "start": {
              "column": 26,
              "line": 30
            }
          }
        },
        {
          "id": "112",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 30
            },
            "start": {
              "column": 27,
              "line": 30
            }
          }
        },
        {
          "id": "113",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 30
            },
            "start": {
              "column": 37,
              "line": 30
            }
          }
        },
        {
          "id": "114",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 30
            },
            "start": {
              "column": 53,
              "line": 30
            }
          }
        },
        {
          "id": "105",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "106",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 88,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "107",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 72,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "115",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-meaningful-paint.js:146:77)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:23:23)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 56
            },
            "start": {
              "column": 31,
              "line": 37
            }
          }
        },
        {
          "id": "116",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-meaningful-paint.js:148:52)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:23:23)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 55
            },
            "start": {
              "column": 12,
              "line": 38
            }
          }
        },
        {
          "id": "117",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-meaningful-paint.js:148:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:23:23)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 47
            },
            "start": {
              "column": 15,
              "line": 39
            }
          }
        },
        {
          "id": "118",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:25:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 46
            },
            "start": {
              "column": 18,
              "line": 43
            }
          }
        },
        {
          "id": "119",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 8,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 48
            }
          }
        },
        {
          "id": "120",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 10,
              "line": 53
            },
            "start": {
              "column": 18,
              "line": 50
            }
          }
        },
        {
          "id": "121",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'score' of undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:25:28)",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 83
            },
            "start": {
              "column": 42,
              "line": 66
            }
          }
        },
        {
          "id": "122",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-meaningful-paint.js:144:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:23:38)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 69
            },
            "start": {
              "column": 35,
              "line": 69
            }
          }
        },
        {
          "id": "123",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  0.96\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:25:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "124",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "125",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  0.96\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:25:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 23,
              "line": 71
            }
          }
        },
        {
          "id": "127",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  undefined\n\nDifference:\n\n  Comparing two different types of values. Expected number but received undefined.\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:25:12)\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 82
            },
            "start": {
              "column": 12,
              "line": 74
            }
          }
        },
        {
          "id": "126",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 71
            },
            "start": {
              "column": 58,
              "line": 71
            }
          }
        },
        {
          "id": "128",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 80
            },
            "start": {
              "column": 20,
              "line": 80
            }
          }
        },
        {
          "id": "129",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, seconds}Â s\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/first-meaningful-paint.js:151:23)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js:23:23)",
          "status": "Killed",
          "estimatedNetTime": 169,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "610"
          ],
          "coveredBy": [
            "610",
            "611"
          ],
          "location": {
            "end": {
              "column": 81,
              "line": 81
            },
            "start": {
              "column": 50,
              "line": 81
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedFmp = require('../../computed/metrics/first-meaningful-paint.js');\n\nconst UIStrings = {\n  /** Description of the First Meaningful Paint (FMP) metric, which marks the time at which a majority of the content has been painted by the browser. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'First Meaningful Paint measures when the primary content of a page is ' +\n      'visible. [Learn more](https://web.dev/first-meaningful-paint/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass FirstMeaningfulPaint extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'first-meaningful-paint',\n      title: str_(i18n.UIStrings.firstMeaningfulPaintMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 5th percentiles HTTPArchive -> median and PODR, then p10 derived from them.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n        // see https://www.desmos.com/calculator/i4znkdccut\n        scoring: {\n          p10: 2336,\n          median: 4000,\n        },\n      },\n      desktop: {\n        // SELECT QUANTILES(renderStart, 21) FROM [httparchive:summary_pages.2018_12_15_desktop] LIMIT 1000\n        scoring: {\n          p10: 934,\n          median: 1600,\n        },\n      },\n    };\n  }\n\n  /**\n   * Audits the page to give a score for First Meaningful Paint.\n   * @see https://github.com/GoogleChrome/lighthouse/issues/26\n   * @see https://docs.google.com/document/d/1BR94tJdZLsin5poeet0XoTW60M0SjvOJQttKT-JK8HI/view\n   * @param {LH.Artifacts} artifacts The artifacts from the gather phase.\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedFmp.request(metricComputationData, context);\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = FirstMeaningfulPaint;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/interactive.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "133",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 38
            },
            "start": {
              "column": 21,
              "line": 30
            }
          }
        },
        {
          "id": "134",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 37
            },
            "start": {
              "column": 12,
              "line": 31
            }
          }
        },
        {
          "id": "135",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 24,
              "line": 32
            },
            "start": {
              "column": 11,
              "line": 32
            }
          }
        },
        {
          "id": "136",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 36
            },
            "start": {
              "column": 26,
              "line": 36
            }
          }
        },
        {
          "id": "137",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 36
            },
            "start": {
              "column": 27,
              "line": 36
            }
          }
        },
        {
          "id": "138",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 36
            },
            "start": {
              "column": 37,
              "line": 36
            }
          }
        },
        {
          "id": "139",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 36
            },
            "start": {
              "column": 53,
              "line": 36
            }
          }
        },
        {
          "id": "130",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "131",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 98,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "132",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 63,
              "line": 15
            },
            "start": {
              "column": 5,
              "line": 15
            }
          }
        },
        {
          "id": "140",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/interactive.js:150:77)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 62
            },
            "start": {
              "column": 31,
              "line": 43
            }
          }
        },
        {
          "id": "141",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/interactive.js:152:52)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 61
            },
            "start": {
              "column": 12,
              "line": 44
            }
          }
        },
        {
          "id": "143",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:34:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 52
            },
            "start": {
              "column": 18,
              "line": 49
            }
          }
        },
        {
          "id": "144",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 8,
              "line": 60
            },
            "start": {
              "column": 16,
              "line": 54
            }
          }
        },
        {
          "id": "142",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/interactive.js:152:22)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 53
            },
            "start": {
              "column": 15,
              "line": 45
            }
          }
        },
        {
          "id": "145",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 10,
              "line": 59
            },
            "start": {
              "column": 18,
              "line": 56
            }
          }
        },
        {
          "id": "146",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'score' of undefined\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:34:27",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 87
            },
            "start": {
              "column": 42,
              "line": 69
            }
          }
        },
        {
          "id": "147",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/interactive.js:147:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:33:24)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 72
            },
            "start": {
              "column": 35,
              "line": 72
            }
          }
        },
        {
          "id": "148",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  0.99\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:34:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 75
            },
            "start": {
              "column": 23,
              "line": 75
            }
          }
        },
        {
          "id": "151",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 75
            },
            "start": {
              "column": 58,
              "line": 75
            }
          }
        },
        {
          "id": "149",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 75
            },
            "start": {
              "column": 23,
              "line": 75
            }
          }
        },
        {
          "id": "150",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  0.99\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:34:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 75
            },
            "start": {
              "column": 23,
              "line": 75
            }
          }
        },
        {
          "id": "152",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  undefined\n\nDifference:\n\n  Comparing two different types of values. Expected number but received undefined.\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/interactive-test.js:34:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 86
            },
            "start": {
              "column": 12,
              "line": 78
            }
          }
        },
        {
          "id": "153",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 84
            },
            "start": {
              "column": 20,
              "line": 84
            }
          }
        },
        {
          "id": "154",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, seconds}Â s\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/interactive.js:155:23)",
          "status": "Killed",
          "estimatedNetTime": 132,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "597"
          ],
          "coveredBy": [
            "597",
            "598"
          ],
          "location": {
            "end": {
              "column": 60,
              "line": 85
            },
            "start": {
              "column": 50,
              "line": 85
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst Interactive = require('../../computed/metrics/interactive.js');\n\nconst UIStrings = {\n  /** Description of the Time to Interactive (TTI) metric, which evaluates when a page has completed its primary network activity and main thread work. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'Time to interactive is the amount of time it takes for the page to become fully ' +\n    'interactive. [Learn more](https://web.dev/interactive/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\n/**\n * @fileoverview This audit identifies the time the page is \"consistently interactive\".\n * Looks for the first period of at least 5 seconds after FMP where both CPU and network were quiet,\n * and returns the timestamp of the beginning of the CPU quiet period.\n * @see https://docs.google.com/document/d/1GGiI9-7KeY3TPqS3YT271upUVimo-XiL5mwWorDUD4c/edit#\n */\nclass InteractiveMetric extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'interactive',\n      title: str_(i18n.UIStrings.interactiveMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 5th percentiles HTTPArchive -> median and PODR, then p10 derived from them.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n        // see https://www.desmos.com/calculator/o98tbeyt1t\n        scoring: {\n          p10: 3785,\n          median: 7300,\n        },\n      },\n      desktop: {\n        // SELECT QUANTILES(fullyLoaded, 21) FROM [httparchive:summary_pages.2018_12_15_desktop] LIMIT 1000\n        scoring: {\n          p10: 2468,\n          median: 4500,\n        },\n      },\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await Interactive.request(metricComputationData, context);\n    const timeInMs = metricResult.timing;\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        timeInMs\n      ),\n      numericValue: timeInMs,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs}),\n    };\n  }\n}\n\nmodule.exports = InteractiveMetric;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/largest-contentful-paint.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "158",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 33
            },
            "start": {
              "column": 21,
              "line": 25
            }
          }
        },
        {
          "id": "159",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 32
            },
            "start": {
              "column": 12,
              "line": 26
            }
          }
        },
        {
          "id": "160",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 37,
              "line": 27
            },
            "start": {
              "column": 11,
              "line": 27
            }
          }
        },
        {
          "id": "161",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 93,
              "line": 31
            },
            "start": {
              "column": 26,
              "line": 31
            }
          }
        },
        {
          "id": "162",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 42,
              "line": 31
            },
            "start": {
              "column": 27,
              "line": 31
            }
          }
        },
        {
          "id": "163",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 31
            },
            "start": {
              "column": 44,
              "line": 31
            }
          }
        },
        {
          "id": "164",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 68,
              "line": 31
            },
            "start": {
              "column": 54,
              "line": 31
            }
          }
        },
        {
          "id": "165",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 92,
              "line": 31
            },
            "start": {
              "column": 70,
              "line": 31
            }
          }
        },
        {
          "id": "155",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 2,
              "line": 17
            },
            "start": {
              "column": 19,
              "line": 13
            }
          }
        },
        {
          "id": "167",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:188:52)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:26)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 64
            },
            "start": {
              "column": 12,
              "line": 39
            }
          }
        },
        {
          "id": "157",
          "mutatorName": "StringLiteral",
          "replacement": "``",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 84,
              "line": 16
            },
            "start": {
              "column": 7,
              "line": 16
            }
          }
        },
        {
          "id": "166",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:186:77)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:26)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 65
            },
            "start": {
              "column": 31,
              "line": 38
            }
          }
        },
        {
          "id": "156",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 96,
              "line": 15
            },
            "start": {
              "column": 16,
              "line": 15
            }
          }
        },
        {
          "id": "168",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:188:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:26)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 49
            },
            "start": {
              "column": 15,
              "line": 40
            }
          }
        },
        {
          "id": "169",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:46:32)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 48
            },
            "start": {
              "column": 18,
              "line": 45
            }
          }
        },
        {
          "id": "170",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:188:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:59:27)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 63
            },
            "start": {
              "column": 16,
              "line": 50
            }
          }
        },
        {
          "id": "171",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.92\nReceived: NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:61:33)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 62
            },
            "start": {
              "column": 18,
              "line": 59
            }
          }
        },
        {
          "id": "172",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'numericValue' of undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:45:25)",
          "status": "Killed",
          "estimatedNetTime": 137,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541",
            "542"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 108
            },
            "start": {
              "column": 42,
              "line": 72
            }
          }
        },
        {
          "id": "173",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:158:44)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:41)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 137,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541",
            "542"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 75
            },
            "start": {
              "column": 35,
              "line": 75
            }
          }
        },
        {
          "id": "174",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'timing' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:188:74)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:41)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 137,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541",
            "542"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 80
            },
            "start": {
              "column": 9,
              "line": 78
            }
          }
        },
        {
          "id": "175",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"Cannot read property 'timing' of undefined\"\n\n      186 |       const options = isDesktop ? context.options.desktop : context.options.mobile;\n      187 |       return stryMutAct_9fa48(\"199\") ? {} : (stryCov_9fa48(\"199\"), {\n    > 188 |         score: Audit.computeLogNormalScore(options.scoring, metricResult.timing),\n          |                                                                          ^\n      189 |         numericValue: metricResult.timing,\n      190 |         numericUnit: stryMutAct_9fa48(\"200\") ? \"\" : (stryCov_9fa48(\"200\"), 'millisecond'),\n      191 |         displayValue: str_(i18n.UIStrings.seconds, stryMutAct_9fa48(\"201\") ? {} : (stryCov_9fa48(\"201\"), {\n\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:188:74)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 94
            },
            "start": {
              "column": 19,
              "line": 80
            }
          }
        },
        {
          "id": "176",
          "mutatorName": "Regex",
          "replacement": "/Chrome\\/(\\d)/",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /NO_LCP/\nReceived message: \"UNSUPPORTED_OLD_CHROME\"\n\n      173 |             } else {\n      174 |               stryCov_9fa48(\"192\");\n    > 175 |               throw new LHError(LHError.errors.UNSUPPORTED_OLD_CHROME, stryMutAct_9fa48(\"193\") ? {} : (stryCov_9fa48(\"193\"), {\n          |                     ^\n      176 |                 featureName: stryMutAct_9fa48(\"194\") ? \"\" : (stryCov_9fa48(\"194\"), 'Largest Contentful Paint')\n      177 |               }));\n      178 |             }\n\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:175:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:89:80)",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 66,
              "line": 81
            },
            "start": {
              "column": 51,
              "line": 81
            }
          }
        },
        {
          "id": "177",
          "mutatorName": "Regex",
          "replacement": "/Chrome\\/(\\D+)/",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 66,
              "line": 81
            },
            "start": {
              "column": 51,
              "line": 81
            }
          }
        },
        {
          "id": "178",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 17,
              "line": 82
            },
            "start": {
              "column": 11,
              "line": 82
            }
          }
        },
        {
          "id": "179",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 17,
              "line": 82
            },
            "start": {
              "column": 11,
              "line": 82
            }
          }
        },
        {
          "id": "180",
          "mutatorName": "BooleanLiteral",
          "replacement": "match",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 17,
              "line": 82
            },
            "start": {
              "column": 11,
              "line": 82
            }
          }
        },
        {
          "id": "181",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /NO_LCP/\nReceived message: \"UNSUPPORTED_OLD_CHROME\"\n\n      173 |             } else {\n      174 |               stryCov_9fa48(\"192\");\n    > 175 |               throw new LHError(LHError.errors.UNSUPPORTED_OLD_CHROME, stryMutAct_9fa48(\"193\") ? {} : (stryCov_9fa48(\"193\"), {\n          |                     ^\n      176 |                 featureName: stryMutAct_9fa48(\"194\") ? \"\" : (stryCov_9fa48(\"194\"), 'Largest Contentful Paint')\n      177 |               }));\n      178 |             }\n\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:175:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:89:80)",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "182",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "183",
          "mutatorName": "LogicalOperator",
          "replacement": "milestone < 79 || err.code === 'NO_LCP'",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /NO_LCP/\nReceived message: \"UNSUPPORTED_OLD_CHROME\"\n\n      173 |             } else {\n      174 |               stryCov_9fa48(\"192\");\n    > 175 |               throw new LHError(LHError.errors.UNSUPPORTED_OLD_CHROME, stryMutAct_9fa48(\"193\") ? {} : (stryCov_9fa48(\"193\"), {\n          |                     ^\n      176 |                 featureName: stryMutAct_9fa48(\"194\") ? \"\" : (stryCov_9fa48(\"194\"), 'Largest Contentful Paint')\n      177 |               }));\n      178 |             }\n\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:175:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:89:80)",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "185",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 25,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "186",
          "mutatorName": "EqualityOperator",
          "replacement": "milestone <= 79",
          "status": "Survived",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 25,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "184",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /NO_LCP/\nReceived message: \"UNSUPPORTED_OLD_CHROME\"\n\n      173 |             } else {\n      174 |               stryCov_9fa48(\"192\");\n    > 175 |               throw new LHError(LHError.errors.UNSUPPORTED_OLD_CHROME, stryMutAct_9fa48(\"193\") ? {} : (stryCov_9fa48(\"193\"), {\n          |                     ^\n      176 |                 featureName: stryMutAct_9fa48(\"194\") ? \"\" : (stryCov_9fa48(\"194\"), 'Largest Contentful Paint')\n      177 |               }));\n      178 |             }\n\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:175:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:89:80)",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 25,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "187",
          "mutatorName": "EqualityOperator",
          "replacement": "milestone >= 79",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 25,
              "line": 87
            },
            "start": {
              "column": 11,
              "line": 87
            }
          }
        },
        {
          "id": "189",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 29,
              "line": 87
            }
          }
        },
        {
          "id": "190",
          "mutatorName": "EqualityOperator",
          "replacement": "err.code !== 'NO_LCP'",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 29,
              "line": 87
            }
          }
        },
        {
          "id": "188",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 29,
              "line": 87
            }
          }
        },
        {
          "id": "191",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 50,
              "line": 87
            },
            "start": {
              "column": 42,
              "line": 87
            }
          }
        },
        {
          "id": "192",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"NO_LCP\"\n\n      36 |     const {traceOfTab} = data;\n      37 |     if (!traceOfTab.timestamps.largestContentfulPaint) {\n    > 38 |       throw new LHError(LHError.errors.NO_LCP);\n         |             ^\n      39 |     }\n      40 | \n      41 |     return {\n\n      at Function.computeObservedMetric (lighthouse-core/computed/metrics/largest-contentful-paint.js:38:13)\n      at Function.compute_ (lighthouse-core/computed/metrics/metric.js:65:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 92
            },
            "start": {
              "column": 52,
              "line": 87
            }
          }
        },
        {
          "id": "193",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).rejects.toThrow(expected)\n\nExpected pattern: /UNSUPPORTED_OLD_CHROME/\nReceived message: \"ICU Message \\\"This version of Chrome is too old to support '{featureName}'. Use a newer version to see full results.\\\" contains a value reference (\\\"featureName\\\") that wasn't provided\"\n\n      225 |     // Throw an error if a message's value isn't provided\n      226 |     if (id && (id in values) === false) {\n    > 227 |       throw new Error(`ICU Message \"${lhlMessage}\" contains a value reference (\"${id}\") ` +\n          |             ^\n      228 |         `that wasn't provided`);\n      229 |     }\n      230 | \n\n      at _preformatValues (lighthouse-core/lib/i18n/i18n.js:227:13)\n      at _formatMessage (lighthouse-core/lib/i18n/i18n.js:291:34)\n      at getIcuMessageFn (lighthouse-core/lib/i18n/i18n.js:386:25)\n      at new LighthouseError (lighthouse-core/lib/lh-error.js:116:28)\n      at Function.audit (lighthouse-core/audits/metrics/largest-contentful-paint.js:175:21)\n    at Object.toThrow (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/expect/build/index.js:242:20)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:77:16)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "542"
          ],
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 52,
              "line": 90
            },
            "start": {
              "column": 11,
              "line": 90
            }
          }
        },
        {
          "id": "194",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 124,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "542"
          ],
          "location": {
            "end": {
              "column": 51,
              "line": 90
            },
            "start": {
              "column": 25,
              "line": 90
            }
          }
        },
        {
          "id": "195",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0.92\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:46:32)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 96
            },
            "start": {
              "column": 23,
              "line": 96
            }
          }
        },
        {
          "id": "196",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.92\nReceived: 1\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:61:33)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 96
            },
            "start": {
              "column": 23,
              "line": 96
            }
          }
        },
        {
          "id": "197",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0.92\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:46:32)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 96
            },
            "start": {
              "column": 23,
              "line": 96
            }
          }
        },
        {
          "id": "198",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: 0.92\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:46:32)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 96
            },
            "start": {
              "column": 58,
              "line": 96
            }
          }
        },
        {
          "id": "199",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeCloseTo(expected, precision)\n\nMatcher error: received value must be a number\n\nReceived has value: undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:45:39)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 107
            },
            "start": {
              "column": 12,
              "line": 99
            }
          }
        },
        {
          "id": "201",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, seconds}Â s\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/largest-contentful-paint.js:191:23)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js:44:26)",
          "status": "Killed",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "541"
          ],
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 81,
              "line": 106
            },
            "start": {
              "column": 50,
              "line": 106
            }
          }
        },
        {
          "id": "200",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 13,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "541"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 105
            },
            "start": {
              "column": 20,
              "line": 105
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedLcp = require('../../computed/metrics/largest-contentful-paint.js');\nconst LHError = require('../../lib/lh-error.js');\n\nconst UIStrings = {\n  /** Description of the Largest Contentful Paint (LCP) metric, which marks the time at which the largest text or image is painted by the browser. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'Largest Contentful Paint marks the time at which the largest text or image is ' +\n      `painted. [Learn More](https://web.dev/lighthouse-largest-contentful-paint/)`,\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass LargestContentfulPaint extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'largest-contentful-paint',\n      title: str_(i18n.UIStrings.largestContentfulPaintMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['HostUserAgent', 'traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 13th percentiles HTTPArchive -> median and p10 points.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2020_02_01_mobile?pli=1\n        // https://web.dev/lcp/#what-is-a-good-lcp-score\n        // see https://www.desmos.com/calculator/1etesp32kt\n        scoring: {\n          p10: 2500,\n          median: 4000,\n        },\n      },\n      desktop: {\n        // 25th and 5th percentiles HTTPArchive -> median and p10 points.\n        // SELECT\n        //   APPROX_QUANTILES(lcpValue, 100)[OFFSET(5)] AS p05_lcp,\n        //   APPROX_QUANTILES(lcpValue, 100)[OFFSET(25)] AS p25_lcp\n        // FROM (\n        //   SELECT CAST(JSON_EXTRACT_SCALAR(payload, \"$['_chromeUserTiming.LargestContentfulPaint']\") AS NUMERIC) AS lcpValue\n        //   FROM `httparchive.pages.2020_04_01_desktop`\n        // )\n        scoring: {\n          p10: 1200,\n          median: 2400,\n        },\n      },\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n\n    let metricResult;\n    try {\n      metricResult = await ComputedLcp.request(metricComputationData, context);\n    } catch (err) {\n      const match = artifacts.HostUserAgent.match(/Chrome\\/(\\d+)/);\n      if (!match) throw err;\n      const milestone = Number(match[1]);\n\n      // m79 is the minimum version which supports LCP\n      // https://chromium.googlesource.com/chromium/src/+/master/docs/speed/metrics_changelog/lcp.md\n      if (milestone < 79 && err.code === 'NO_LCP') {\n        throw new LHError(\n          LHError.errors.UNSUPPORTED_OLD_CHROME,\n          {featureName: 'Largest Contentful Paint'}\n        );\n      }\n      throw err;\n    }\n\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = LargestContentfulPaint;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/max-potential-fid.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "202",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "203",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 98,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "204",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 99,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "205",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 37
            },
            "start": {
              "column": 21,
              "line": 29
            }
          }
        },
        {
          "id": "206",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 36
            },
            "start": {
              "column": 12,
              "line": 30
            }
          }
        },
        {
          "id": "207",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 30,
              "line": 31
            },
            "start": {
              "column": 11,
              "line": 31
            }
          }
        },
        {
          "id": "208",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 52,
              "line": 35
            },
            "start": {
              "column": 26,
              "line": 35
            }
          }
        },
        {
          "id": "209",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 35
            },
            "start": {
              "column": 27,
              "line": 35
            }
          }
        },
        {
          "id": "210",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 35
            },
            "start": {
              "column": 37,
              "line": 35
            }
          }
        },
        {
          "id": "211",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 48
            },
            "start": {
              "column": 31,
              "line": 42
            }
          }
        },
        {
          "id": "212",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 47
            },
            "start": {
              "column": 12,
              "line": 43
            }
          }
        },
        {
          "id": "213",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 70
            },
            "start": {
              "column": 42,
              "line": 55
            }
          }
        },
        {
          "id": "214",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 83,
              "line": 58
            },
            "start": {
              "column": 35,
              "line": 58
            }
          }
        },
        {
          "id": "215",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 69
            },
            "start": {
              "column": 12,
              "line": 61
            }
          }
        },
        {
          "id": "216",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 67,
              "line": 63
            },
            "start": {
              "column": 9,
              "line": 63
            }
          }
        },
        {
          "id": "217",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 33,
              "line": 67
            },
            "start": {
              "column": 20,
              "line": 67
            }
          }
        },
        {
          "id": "218",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 68
            },
            "start": {
              "column": 45,
              "line": 68
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst ComputedFid = require('../../computed/metrics/max-potential-fid.js');\nconst i18n = require('../../lib/i18n/i18n.js');\n\nconst UIStrings = {\n  /** Description of the Maximum Potential First Input Delay metric that marks the maximum estimated time between the page receiving input (a user clicking, tapping, or typing) and the page responding. This description is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'The maximum potential First Input Delay that your users could experience is the ' +\n      'duration of the longest task. [Learn more](https://web.dev/lighthouse-max-potential-fid/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\n/**\n * @fileoverview This metric is the duration of the longest task after FCP. It is meant to capture\n * the worst case First Input Delay that a user might experience.\n * Tasks before FCP are excluded because it is unlikely that the user will try to interact with a page before it has painted anything.\n */\nclass MaxPotentialFID extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'max-potential-fid',\n      title: str_(i18n.UIStrings.maxPotentialFIDMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs'],\n    };\n  }\n\n  /**\n   * @return {LH.Audit.ScoreOptions}\n   */\n  static get defaultOptions() {\n    return {\n      // see https://www.desmos.com/calculator/onxmbblyqo\n      p10: 130,\n      median: 250,\n    };\n  }\n\n  /**\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedFid.request(metricComputationData, context);\n\n    return {\n      score: Audit.computeLogNormalScore(\n        {p10: context.options.p10, median: context.options.median},\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.ms, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = MaxPotentialFID;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/speed-index.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "222",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 32
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "223",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 12,
              "line": 25
            }
          }
        },
        {
          "id": "224",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 24,
              "line": 26
            },
            "start": {
              "column": 11,
              "line": 26
            }
          }
        },
        {
          "id": "225",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 30
            },
            "start": {
              "column": 26,
              "line": 30
            }
          }
        },
        {
          "id": "226",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 30
            },
            "start": {
              "column": 27,
              "line": 30
            }
          }
        },
        {
          "id": "227",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 30
            },
            "start": {
              "column": 37,
              "line": 30
            }
          }
        },
        {
          "id": "228",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 30
            },
            "start": {
              "column": 53,
              "line": 30
            }
          }
        },
        {
          "id": "219",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "220",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 94,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "221",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 52,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "229",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/speed-index.js:145:77)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 56
            },
            "start": {
              "column": 31,
              "line": 37
            }
          }
        },
        {
          "id": "230",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/speed-index.js:147:52)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 55
            },
            "start": {
              "column": 12,
              "line": 38
            }
          }
        },
        {
          "id": "232",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  NaN\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/speed-index-test.js:26:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 46
            },
            "start": {
              "column": 18,
              "line": 43
            }
          }
        },
        {
          "id": "231",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/speed-index.js:147:22)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 47
            },
            "start": {
              "column": 15,
              "line": 39
            }
          }
        },
        {
          "id": "233",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 8,
              "line": 54
            },
            "start": {
              "column": 16,
              "line": 48
            }
          }
        },
        {
          "id": "235",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'score' of undefined\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/speed-index-test.js:26:27",
          "status": "Killed",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 82
            },
            "start": {
              "column": 42,
              "line": 65
            }
          }
        },
        {
          "id": "234",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 1,
          "location": {
            "end": {
              "column": 10,
              "line": 53
            },
            "start": {
              "column": 18,
              "line": 50
            }
          }
        },
        {
          "id": "236",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/speed-index.js:143:45)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/speed-index-test.js:25:18)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 68
            },
            "start": {
              "column": 35,
              "line": 68
            }
          }
        },
        {
          "id": "237",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 70
            },
            "start": {
              "column": 23,
              "line": 70
            }
          }
        },
        {
          "id": "238",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "status": "Survived",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 70
            },
            "start": {
              "column": 23,
              "line": 70
            }
          }
        },
        {
          "id": "239",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "status": "Survived",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 70
            },
            "start": {
              "column": 23,
              "line": 70
            }
          }
        },
        {
          "id": "240",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "status": "Survived",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 70
            },
            "start": {
              "column": 58,
              "line": 70
            }
          }
        },
        {
          "id": "241",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: assert.strictEqual(received, expected)\n\nExpected value to strictly be equal to:\n  1\nReceived:\n  undefined\n\nDifference:\n\n  Comparing two different types of values. Expected number but received undefined.\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/speed-index-test.js:26:14\n    at Env.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmine/Env.js:778:61)\n    at Function.next.fail (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:38:22)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:118:18",
          "status": "Killed",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 81
            },
            "start": {
              "column": 12,
              "line": 73
            }
          }
        },
        {
          "id": "242",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 79
            },
            "start": {
              "column": 20,
              "line": 79
            }
          }
        },
        {
          "id": "243",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, seconds}Â s\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/speed-index.js:150:23)",
          "status": "Killed",
          "estimatedNetTime": 1204,
          "static": false,
          "testsCompleted": 1,
          "killedBy": [
            "711"
          ],
          "coveredBy": [
            "711"
          ],
          "location": {
            "end": {
              "column": 81,
              "line": 80
            },
            "start": {
              "column": 50,
              "line": 80
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst i18n = require('../../lib/i18n/i18n.js');\nconst ComputedSi = require('../../computed/metrics/speed-index.js');\n\nconst UIStrings = {\n  /** Description of the Speed Index metric, which summarizes how quickly the page looked visually complete. This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits. 'Learn More' becomes link text to additional documentation. */\n  description: 'Speed Index shows how quickly the contents of a page are visibly populated. ' +\n      '[Learn more](https://web.dev/speed-index/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass SpeedIndex extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'speed-index',\n      title: str_(i18n.UIStrings.speedIndexMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // 25th and 5th percentiles HTTPArchive -> median and PODR, then p10 derived from them.\n        // https://bigquery.cloud.google.com/table/httparchive:lighthouse.2018_04_01_mobile?pli=1\n        // see https://www.desmos.com/calculator/dvuzvpl7mi\n        scoring: {\n          p10: 3387,\n          median: 5800,\n        },\n      },\n      desktop: {\n        // SELECT QUANTILES(SpeedIndex, 21) FROM [httparchive:summary_pages.2018_12_15_desktop] LIMIT 1000\n        scoring: {\n          p10: 1311,\n          median: 2300,\n        },\n      },\n    };\n  }\n\n  /**\n   * Audits the page to give a score for the Speed Index.\n   * @see https://github.com/GoogleChrome/lighthouse/issues/197\n   * @param {LH.Artifacts} artifacts The artifacts from the gather phase.\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedSi.request(metricComputationData, context);\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.seconds, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = SpeedIndex;\nmodule.exports.UIStrings = UIStrings;\n"
    },
    "lighthouse-core/audits/metrics/total-blocking-time.js": {
      "language": "javascript",
      "mutants": [
        {
          "id": "247",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 4,
              "line": 32
            },
            "start": {
              "column": 21,
              "line": 24
            }
          }
        },
        {
          "id": "248",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 6,
              "line": 31
            },
            "start": {
              "column": 12,
              "line": 25
            }
          }
        },
        {
          "id": "249",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 32,
              "line": 26
            },
            "start": {
              "column": 11,
              "line": 26
            }
          }
        },
        {
          "id": "250",
          "mutatorName": "ArrayDeclaration",
          "replacement": "[]",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 76,
              "line": 30
            },
            "start": {
              "column": 26,
              "line": 30
            }
          }
        },
        {
          "id": "251",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 35,
              "line": 30
            },
            "start": {
              "column": 27,
              "line": 30
            }
          }
        },
        {
          "id": "252",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 51,
              "line": 30
            },
            "start": {
              "column": 37,
              "line": 30
            }
          }
        },
        {
          "id": "253",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "NoCoverage",
          "estimatedNetTime": 0,
          "static": false,
          "coveredBy": [],
          "location": {
            "end": {
              "column": 75,
              "line": 30
            },
            "start": {
              "column": 53,
              "line": 30
            }
          }
        },
        {
          "id": "244",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 2,
              "line": 16
            },
            "start": {
              "column": 19,
              "line": 12
            }
          }
        },
        {
          "id": "245",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 79,
              "line": 14
            },
            "start": {
              "column": 16,
              "line": 14
            }
          }
        },
        {
          "id": "246",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "location": {
            "end": {
              "column": 130,
              "line": 15
            },
            "start": {
              "column": 7,
              "line": 15
            }
          }
        },
        {
          "id": "254",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'mobile' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:160:77)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:36:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 66
            },
            "start": {
              "column": 31,
              "line": 37
            }
          }
        },
        {
          "id": "255",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'scoring' of undefined\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:162:52)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:36:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 65
            },
            "start": {
              "column": 12,
              "line": 38
            }
          }
        },
        {
          "id": "256",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:162:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:36:20)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 50
            },
            "start": {
              "column": 15,
              "line": 39
            }
          }
        },
        {
          "id": "257",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 1\nReceived: NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:38:26)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 49
            },
            "start": {
              "column": 18,
              "line": 46
            }
          }
        },
        {
          "id": "258",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot destructure property 'median' of 'undefined' as it is undefined.\n    at Object.getLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/statistics.js:75:29)\n    at Function.computeLogNormalScore (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/audit.js:81:35)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:162:22)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:56:27)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "location": {
            "end": {
              "column": 8,
              "line": 64
            },
            "start": {
              "column": 16,
              "line": 51
            }
          }
        },
        {
          "id": "259",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.53\nReceived: NaN\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:58:33)",
          "status": "Killed",
          "estimatedNetTime": 17044,
          "static": true,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "location": {
            "end": {
              "column": 10,
              "line": 63
            },
            "start": {
              "column": 18,
              "line": 60
            }
          }
        },
        {
          "id": "260",
          "mutatorName": "BlockStatement",
          "replacement": "{}",
          "statusReason": "TypeError: Cannot read property 'numericValue' of undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:37:19)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 4,
              "line": 98
            },
            "start": {
              "column": 42,
              "line": 80
            }
          }
        },
        {
          "id": "261",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: Did not provide necessary metric computation data\n    at Function.compute_ (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/metrics/metric.js:50:13)\n    at Function.request (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/computed/computed-artifact.js:44:29)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:158:46)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:36:35)\n    at Object.asyncJestTest (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/jasmineAsyncInstall.js:102:37)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:43:12\n    at new Promise (<anonymous>)\n    at mapper (/home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:26:19)\n    at /home/nicojs/github/stryker-js/perf/test/lighthouse/node_modules/jest-jasmine2/build/queueRunner.js:73:41",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 83,
              "line": 83
            },
            "start": {
              "column": 35,
              "line": 83
            }
          }
        },
        {
          "id": "262",
          "mutatorName": "ConditionalExpression",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.85\nReceived: 0.53\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:49:32)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 86
            },
            "start": {
              "column": 23,
              "line": 86
            }
          }
        },
        {
          "id": "263",
          "mutatorName": "ConditionalExpression",
          "replacement": "false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.53\nReceived: 0.85\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:58:33)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 86
            },
            "start": {
              "column": 23,
              "line": 86
            }
          }
        },
        {
          "id": "264",
          "mutatorName": "EqualityOperator",
          "replacement": "artifacts.TestedAsMobileDevice !== false",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.85\nReceived: 0.53\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:49:32)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 86
            },
            "start": {
              "column": 23,
              "line": 86
            }
          }
        },
        {
          "id": "266",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: expect(received).toBeCloseTo(expected, precision)\n\nMatcher error: received value must be a number\n\nReceived has value: undefined\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:37:33)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 6,
              "line": 97
            },
            "start": {
              "column": 12,
              "line": 89
            }
          }
        },
        {
          "id": "265",
          "mutatorName": "BooleanLiteral",
          "replacement": "true",
          "statusReason": "Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: 0.85\nReceived: 0.53\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:49:32)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "572"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 63,
              "line": 86
            },
            "start": {
              "column": 58,
              "line": 86
            }
          }
        },
        {
          "id": "268",
          "mutatorName": "ObjectLiteral",
          "replacement": "{}",
          "statusReason": "Error: ICU Message \"{timeInMs, number, milliseconds}Â ms\" contains a value reference (\"timeInMs\") that wasn't provided\n    at _preformatValues (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:227:13)\n    at _formatMessage (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:291:34)\n    at getIcuMessageFn (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/lib/i18n/i18n.js:386:25)\n    at Function.audit (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/audits/metrics/total-blocking-time.js:165:23)\n    at Object.<anonymous> (/home/nicojs/github/stryker-js/perf/test/lighthouse/.stryker-tmp/sandbox7363247/lighthouse-core/test/audits/metrics/total-blocking-time-test.js:36:20)",
          "status": "Killed",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "killedBy": [
            "571"
          ],
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 76,
              "line": 96
            },
            "start": {
              "column": 45,
              "line": 96
            }
          }
        },
        {
          "id": "267",
          "mutatorName": "StringLiteral",
          "replacement": "\"\"",
          "status": "Survived",
          "estimatedNetTime": 92,
          "static": false,
          "testsCompleted": 2,
          "coveredBy": [
            "571",
            "572"
          ],
          "location": {
            "end": {
              "column": 33,
              "line": 95
            },
            "start": {
              "column": 20,
              "line": 95
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../audit.js');\nconst ComputedTBT = require('../../computed/metrics/total-blocking-time.js');\nconst i18n = require('../../lib/i18n/i18n.js');\n\nconst UIStrings = {\n  /** Description of the Total Blocking Time (TBT) metric, which calculates the total duration of blocking time for a web page. Blocking times are time periods when the page would be blocked (prevented) from responding to user input (clicks, taps, and keypresses will feel slow to respond). This is displayed within a tooltip when the user hovers on the metric name to see more. No character length limits.*/\n  description: 'Sum of all time periods between FCP and Time to Interactive, ' +\n      'when task length exceeded 50ms, expressed in milliseconds. [Learn more](https://web.dev/lighthouse-total-blocking-time/).',\n};\n\nconst str_ = i18n.createMessageInstanceIdFn(__filename, UIStrings);\n\nclass TotalBlockingTime extends Audit {\n  /**\n   * @return {LH.Audit.Meta}\n   */\n  static get meta() {\n    return {\n      id: 'total-blocking-time',\n      title: str_(i18n.UIStrings.totalBlockingTimeMetric),\n      description: str_(UIStrings.description),\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n      requiredArtifacts: ['traces', 'devtoolsLogs', 'TestedAsMobileDevice'],\n    };\n  }\n\n  /**\n   * @return {{mobile: {scoring: LH.Audit.ScoreOptions}, desktop: {scoring: LH.Audit.ScoreOptions}}}\n   */\n  static get defaultOptions() {\n    return {\n      mobile: {\n        // According to a cluster telemetry run over top 10k sites on mobile, 5th percentile was 0ms,\n        // 25th percentile was 270ms and median was 895ms. These numbers include 404 pages. Picking\n        // thresholds according to our 25/75-th rule will be quite harsh scoring (a single 350ms task)\n        // after FCP will yield a score of .5. The following coefficients are semi-arbitrarily picked\n        // to give 600ms jank a score of .5 and 100ms jank a score of .999. We can tweak these numbers\n        // in the future. See https://www.desmos.com/calculator/bbsv8fedg5\n        scoring: {\n          p10: 287,\n          median: 600,\n        },\n      },\n      desktop: {\n        // Chosen in HTTP Archive desktop results to approximate curve easing described above.\n        // SELECT\n        //   APPROX_QUANTILES(tbtValue, 100)[OFFSET(40)] AS p40_tbt,\n        //   APPROX_QUANTILES(tbtValue, 100)[OFFSET(60)] AS p60_tbt\n        // FROM (\n        //   SELECT CAST(JSON_EXTRACT_SCALAR(payload, '$._TotalBlockingTime') AS NUMERIC) AS tbtValue\n        //   FROM `httparchive.pages.2020_04_01_desktop`\n        // )\n        scoring: {\n          p10: 150,\n          median: 350,\n        },\n      },\n    };\n  }\n\n  /**\n   * Audits the page to calculate Total Blocking Time.\n   *\n   * We define Blocking Time as any time interval in the loading timeline where task length exceeds\n   * 50ms. For example, if there is a 110ms main thread task, the last 60ms of it is blocking time.\n   * Total Blocking Time is the sum of all Blocking Time between First Contentful Paint and\n   * Interactive Time (TTI).\n   *\n   * @param {LH.Artifacts} artifacts\n   * @param {LH.Audit.Context} context\n   * @return {Promise<LH.Audit.Product>}\n   */\n  static async audit(artifacts, context) {\n    const trace = artifacts.traces[Audit.DEFAULT_PASS];\n    const devtoolsLog = artifacts.devtoolsLogs[Audit.DEFAULT_PASS];\n    const metricComputationData = {trace, devtoolsLog, settings: context.settings};\n    const metricResult = await ComputedTBT.request(metricComputationData, context);\n\n    const isDesktop = artifacts.TestedAsMobileDevice === false;\n    const options = isDesktop ? context.options.desktop : context.options.mobile;\n\n    return {\n      score: Audit.computeLogNormalScore(\n        options.scoring,\n        metricResult.timing\n      ),\n      numericValue: metricResult.timing,\n      numericUnit: 'millisecond',\n      displayValue: str_(i18n.UIStrings.ms, {timeInMs: metricResult.timing}),\n    };\n  }\n}\n\nmodule.exports = TotalBlockingTime;\nmodule.exports.UIStrings = UIStrings;\n"
    }
  },
  "schemaVersion": "1.0",
  "thresholds": {
    "high": 80,
    "low": 60,
    "break": null
  },
  "testFiles": {
    "lighthouse-core/test/audits/byte-efficiency/offscreen-images-test.js": {
      "tests": [
        {
          "id": "0",
          "name": "OffscreenImages audit handles images without network record",
          "location": {
            "start": {
              "column": 4,
              "line": 70
            }
          }
        },
        {
          "id": "1",
          "name": "OffscreenImages audit does not find used images",
          "location": {
            "start": {
              "column": 4,
              "line": 86
            }
          }
        },
        {
          "id": "2",
          "name": "OffscreenImages audit finds unused images",
          "location": {
            "start": {
              "column": 4,
              "line": 125
            }
          }
        },
        {
          "id": "3",
          "name": "OffscreenImages audit passes images with a specified loading attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 211
            }
          }
        },
        {
          "id": "4",
          "name": "OffscreenImages audit fails images with an unspecified or arbitrary loading attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 249
            }
          }
        },
        {
          "id": "5",
          "name": "OffscreenImages audit finds images with 0 area",
          "location": {
            "start": {
              "column": 4,
              "line": 287
            }
          }
        },
        {
          "id": "6",
          "name": "OffscreenImages audit de-dupes images",
          "location": {
            "start": {
              "column": 4,
              "line": 305
            }
          }
        },
        {
          "id": "7",
          "name": "OffscreenImages audit disregards images loaded after TTI",
          "location": {
            "start": {
              "column": 4,
              "line": 353
            }
          }
        },
        {
          "id": "8",
          "name": "OffscreenImages audit disregards images loaded after Trace End when interactive throws error",
          "location": {
            "start": {
              "column": 4,
              "line": 371
            }
          }
        },
        {
          "id": "9",
          "name": "OffscreenImages audit finds images loaded before Trace End when TTI when interactive throws error",
          "location": {
            "start": {
              "column": 4,
              "line": 388
            }
          }
        },
        {
          "id": "10",
          "name": "OffscreenImages audit disregards images loaded after last long task (Lantern)",
          "location": {
            "start": {
              "column": 4,
              "line": 405
            }
          }
        },
        {
          "id": "11",
          "name": "OffscreenImages audit finds images loaded before last long task (Lantern)",
          "location": {
            "start": {
              "column": 4,
              "line": 458
            }
          }
        },
        {
          "id": "12",
          "name": "OffscreenImages audit rethrow error when interactive throws error in Lantern",
          "location": {
            "start": {
              "column": 4,
              "line": 516
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UnusedImages =\n    require('../../../audits/byte-efficiency/offscreen-images.js');\nconst assert = require('assert').strict;\nconst createTestTrace = require('../../create-test-trace.js');\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\nfunction generateRecord({\n  resourceSizeInKb,\n  url = 'https://google.com/logo.png',\n  startTime = 0,\n  mimeType = 'image/png',\n}) {\n  return {\n    url,\n    mimeType,\n    startTime, // DevTools timestamp which is in seconds.\n    resourceSize: resourceSizeInKb * 1024,\n  };\n}\n\nfunction generateSize(width, height, prefix = 'displayed') {\n  const size = {};\n  size[`${prefix}Width`] = width;\n  size[`${prefix}Height`] = height;\n  return size;\n}\n\nfunction generateImage({\n  size,\n  x,\n  y,\n  networkRecord,\n  loading,\n  src = 'https://google.com/logo.png',\n}) {\n  Object.assign(networkRecord || {}, {url: src});\n\n  const clientRect = {\n    top: y,\n    bottom: y + size.displayedHeight,\n    left: x,\n    right: x + size.displayedWidth,\n  };\n\n  return {\n    src,\n    clientRect,\n    loading,\n    ...networkRecord,\n    ...size,\n  };\n}\n\ndescribe('OffscreenImages audit', () => {\n  let context;\n  const DEFAULT_DIMENSIONS = {innerWidth: 1920, innerHeight: 1080};\n\n  beforeEach(() => {\n    context = {settings: {throttlingMethod: 'devtools'}, computedCache: new Map()};\n  });\n\n  it('handles images without network record', () => {\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({size: generateSize(100, 100), x: 0, y: 0}),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, [], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 0);\n    });\n  });\n\n  it('does not find used images', async () => {\n    const urlB = 'https://google.com/logo2.png';\n    const urlC = 'data:image/jpeg;base64,foobar';\n    const recordA = generateRecord({resourceSizeInKb: 100});\n    const recordB = generateRecord({url: urlB, resourceSizeInKb: 100});\n    const recordC = generateRecord({url: urlC, resourceSizeInKb: 3});\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({\n          size: generateSize(200, 200),\n          x: 0,\n          y: 0,\n          networkRecord: recordA,\n        }),\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: 1080,\n          networkRecord: recordB,\n          src: urlB,\n        }),\n        generateImage({\n          size: generateSize(400, 400),\n          x: 1720,\n          y: 1080,\n          networkRecord: recordC,\n          src: urlC,\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    const auditResult = await UnusedImages.audit_(artifacts, [recordA, recordB, recordC], context);\n    assert.equal(auditResult.items.length, 0);\n  });\n\n  it('finds unused images', async () => {\n    const url = s => `https://google.com/logo${s}.png`;\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecords = [\n      generateRecord({url: url('A'), resourceSizeInKb: 100}),\n      generateRecord({url: url('B'), resourceSizeInKb: 100}),\n      generateRecord({url: url('C'), resourceSizeInKb: 100}),\n      generateRecord({url: url('D'), resourceSizeInKb: 100}),\n      generateRecord({url: url('E'), resourceSizeInKb: 100}),\n      generateRecord({url: url('F'), resourceSizeInKb: 100}),\n      generateRecord({url: url('G'), resourceSizeInKb: 100}),\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the right.\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: networkRecords[0],\n          src: url('A'),\n        }),\n        // Waaay offscreen to the bottom\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: 5000,\n          networkRecord: networkRecords[1],\n          src: url('B'),\n        }),\n        // Offscreen to the top.\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: -400,\n          networkRecord: networkRecords[2],\n          src: url('C'),\n        }),\n        // Offscreen to the top-left.\n        generateImage({\n          size: generateSize(100, 100),\n          x: -2000,\n          y: -1000,\n          networkRecord: networkRecords[3],\n          src: url('D'),\n        }),\n        // Offscreen to the bottom-right.\n        generateImage({\n          size: generateSize(100, 100),\n          x: 3000,\n          y: 2000,\n          networkRecord: networkRecords[4],\n          src: url('E'),\n        }),\n        // Half offscreen to the top, should not warn.\n        generateImage({\n          size: generateSize(1000, 1000),\n          x: 0,\n          y: -500,\n          networkRecord: networkRecords[5],\n          src: url('F'),\n        }),\n        // Offscreen to the bottom but within 3 viewports, should not warn\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: 2000,\n          networkRecord: networkRecords[6],\n          src: url('G'),\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    const auditResult = await UnusedImages.audit_(artifacts, networkRecords, context);\n    expect(auditResult.items).toMatchObject([\n      {url: url('A')},\n      {url: url('B')},\n      {url: url('C')},\n      {url: url('D')},\n      {url: url('E')},\n    ]);\n  });\n\n  it('passes images with a specified loading attribute', async () => {\n    const url = s => `https://google.com/logo${s}.png`;\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecords = [\n      generateRecord({url: url('A'), resourceSizeInKb: 100}),\n      generateRecord({url: url('B'), resourceSizeInKb: 100}),\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the right, but lazy loaded.\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: networkRecords[0],\n          loading: 'lazy',\n          src: url('A'),\n        }),\n        // Offscreen to the bottom, but eager loaded.\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: 5000,\n          networkRecord: networkRecords[1],\n          loading: 'eager',\n          src: url('B'),\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, networkRecords, context).then(auditResult => {\n      assert.equal(auditResult.items.length, 0);\n    });\n  });\n\n  it('fails images with an unspecified or arbitrary loading attribute', async () => {\n    const url = s => `https://google.com/logo${s}.png`;\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecords = [\n      generateRecord({url: url('A'), resourceSizeInKb: 100}),\n      generateRecord({url: url('B'), resourceSizeInKb: 100}),\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the right with auto loading (same as not specifying the attribute).\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: networkRecords[0],\n          loading: 'auto',\n          src: url('A'),\n        }),\n        // Offscreen to the bottom, with an arbitrary loading attribute.\n        generateImage({\n          size: generateSize(100, 100),\n          x: 0,\n          y: 5000,\n          networkRecord: networkRecords[1],\n          loading: 'imagination',\n          src: url('B'),\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, networkRecords, context).then(auditResult => {\n      assert.equal(auditResult.items.length, 2);\n    });\n  });\n\n  it('finds images with 0 area', () => {\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecord = generateRecord({resourceSizeInKb: 100});\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({size: generateSize(0, 0), x: 0, y: 0, networkRecord}),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, [networkRecord], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 1);\n      assert.equal(auditResult.items[0].wastedBytes, 100 * 1024);\n    });\n  });\n\n  it('de-dupes images', () => {\n    const urlB = 'https://google.com/logo2.png';\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecords = [\n      generateRecord({resourceSizeInKb: 50}),\n      generateRecord({resourceSizeInKb: 50}),\n      generateRecord({url: urlB, resourceSizeInKb: 200}),\n      generateRecord({url: urlB, resourceSizeInKb: 90}),\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({\n          size: generateSize(50, 50),\n          x: 0,\n          y: 0,\n          networkRecord: networkRecords[0],\n        }),\n        generateImage({\n          size: generateSize(1000, 1000),\n          x: 1000,\n          y: 1000,\n          networkRecord: networkRecords[1],\n        }),\n        generateImage({\n          size: generateSize(50, 50),\n          x: 0,\n          y: 5000,\n          networkRecord: networkRecords[2],\n          src: urlB,\n        }),\n        generateImage({\n          size: generateSize(400, 400),\n          x: 0,\n          y: 5000,\n          networkRecord: networkRecords[3],\n          src: urlB,\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, networkRecords, context).then(auditResult => {\n      assert.equal(auditResult.items.length, 1);\n    });\n  });\n\n  it('disregards images loaded after TTI', () => {\n    const topLevelTasks = [{ts: 1900, duration: 100}];\n    const networkRecord = generateRecord({resourceSizeInKb: 100, startTime: 3});\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the right.\n        generateImage({size: generateSize(200, 200), x: 3000, y: 0, networkRecord}),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, [networkRecord], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 0);\n    });\n  });\n\n  it('disregards images loaded after Trace End when interactive throws error', () => {\n    const networkRecord = generateRecord({resourceSizeInKb: 100, startTime: 3});\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the right.\n        generateImage({size: generateSize(200, 200), x: 3000, y: 0, networkRecord}),\n      ],\n      traces: {defaultPass: createTestTrace({traceEnd: 2000})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, [networkRecord], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 0);\n    });\n  });\n\n  it('finds images loaded before Trace End when TTI when interactive throws error', () => {\n    const networkRecord = generateRecord({resourceSizeInKb: 100});\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        // Offscreen to the bottom.\n        generateImage({size: generateSize(100, 100), x: 0, y: 5000, networkRecord}),\n      ],\n      traces: {defaultPass: createTestTrace({traceEnd: 2000})},\n      devtoolsLogs: {},\n    };\n\n    return UnusedImages.audit_(artifacts, [networkRecord], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 1);\n    });\n  });\n\n  it('disregards images loaded after last long task (Lantern)', () => {\n    context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const wastedSize = 100 * 1024;\n    const recordA = {\n      url: 'https://example.com/a',\n      resourceSize: wastedSize,\n      requestId: 'a',\n      startTime: 1,\n      priority: 'High',\n      timing: {receiveHeadersEnd: 1.25},\n    };\n    const recordB = {\n      url: 'https://example.com/b',\n      resourceSize: wastedSize,\n      requestId: 'b',\n      startTime: 2.25,\n      priority: 'High',\n      timing: {receiveHeadersEnd: 2.5},\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([recordA, recordB]);\n\n    const topLevelTasks = [\n      {ts: 1975, duration: 50},\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({\n          size: generateSize(0, 0),\n          x: 0,\n          y: 0,\n          networkRecord: recordA,\n          src: recordA.url,\n        }),\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: recordB,\n          src: recordB.url,\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    return UnusedImages.audit_(artifacts, [recordA, recordB], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 1);\n      assert.equal(auditResult.items[0].url, recordA.url);\n      assert.equal(auditResult.items[0].wastedBytes, wastedSize);\n    });\n  });\n\n  it('finds images loaded before last long task (Lantern)', () => {\n    context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const wastedSize = 100 * 1024;\n    const recordA = {\n      url: 'https://example.com/a',\n      resourceSize: wastedSize,\n      requestId: 'a',\n      startTime: 1,\n      priority: 'High',\n      timing: {receiveHeadersEnd: 1.25},\n    };\n    const recordB = {\n      url: 'https://example.com/b',\n      resourceSize: wastedSize,\n      requestId: 'b',\n      startTime: 1.25,\n      priority: 'High',\n      timing: {receiveHeadersEnd: 1.5},\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([recordA, recordB]);\n\n    // Enough tasks to spread out graph.\n    const topLevelTasks = [\n      {ts: 1000, duration: 10},\n      {ts: 1050, duration: 10},\n      {ts: 1975, duration: 50},\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({\n          size: generateSize(0, 0),\n          x: 0,\n          y: 0,\n          networkRecord: recordA,\n          src: recordA.url,\n        }),\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: recordB,\n          src: recordB.url,\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({topLevelTasks})},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    return UnusedImages.audit_(artifacts, [recordA, recordB], context).then(auditResult => {\n      assert.equal(auditResult.items.length, 2);\n      assert.equal(auditResult.items[0].url, recordA.url);\n      assert.equal(auditResult.items[0].wastedBytes, wastedSize);\n      assert.equal(auditResult.items[1].url, recordB.url);\n      assert.equal(auditResult.items[1].wastedBytes, wastedSize);\n    });\n  });\n\n  it('rethrow error when interactive throws error in Lantern', async () => {\n    context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const networkRecords = [\n      generateRecord({url: 'a', resourceSizeInKb: 100, startTime: 3}),\n      generateRecord({url: 'b', resourceSizeInKb: 100, startTime: 4}),\n    ];\n    const artifacts = {\n      ViewportDimensions: DEFAULT_DIMENSIONS,\n      ImageElements: [\n        generateImage({\n          size: generateSize(0, 0),\n          x: 0,\n          y: 0,\n          networkRecord: networkRecords[0],\n          src: 'a',\n        }),\n        generateImage({\n          size: generateSize(200, 200),\n          x: 3000,\n          y: 0,\n          networkRecord: networkRecords[1],\n          src: 'b',\n        }),\n      ],\n      traces: {defaultPass: createTestTrace({traceEnd: 2000})},\n      devtoolsLogs: {},\n    };\n\n    try {\n      await UnusedImages.audit_(artifacts, networkRecords, context);\n    } catch (err) {\n      assert.ok(err.message.includes('Did not provide necessary metric computation data'));\n      return;\n    }\n    assert.ok(false);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/autocomplete-test.js": {
      "tests": [
        {
          "id": "13",
          "name": "Best Practices: autocomplete audit fails when an there is no autocomplete attribute set",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "14",
          "name": "Best Practices: autocomplete audit fails when an there is an invalid autocomplete attribute set",
          "location": {
            "start": {
              "column": 4,
              "line": 73
            }
          }
        },
        {
          "id": "15",
          "name": "Best Practices: autocomplete audit passes when an there is a valid autocomplete attribute set",
          "location": {
            "start": {
              "column": 4,
              "line": 131
            }
          }
        },
        {
          "id": "16",
          "name": "Best Practices: autocomplete audit not applicable when an there is no autofill prediction and no attribute set",
          "location": {
            "start": {
              "column": 4,
              "line": 183
            }
          }
        },
        {
          "id": "17",
          "name": "Best Practices: autocomplete audit fails when autocomplete is valid but prefix is invalid",
          "location": {
            "start": {
              "column": 4,
              "line": 221
            }
          }
        },
        {
          "id": "18",
          "name": "Best Practices: autocomplete audit fails when autocomplete prefix is valid but out of order",
          "location": {
            "start": {
              "column": 4,
              "line": 260
            }
          }
        },
        {
          "id": "19",
          "name": "Best Practices: autocomplete audit creates a warning when there is an invalid attribute set",
          "location": {
            "start": {
              "column": 4,
              "line": 323
            }
          }
        },
        {
          "id": "20",
          "name": "Best Practices: autocomplete audit creates a warning when the tokens are valid but out of order",
          "location": {
            "start": {
              "column": 4,
              "line": 367
            }
          }
        },
        {
          "id": "21",
          "name": "Autocomplete Audit: Check Attribute Validity returns false if the attribute is empty",
          "location": {
            "start": {
              "column": 4,
              "line": 419
            }
          }
        },
        {
          "id": "22",
          "name": "Autocomplete Audit: Check Attribute Validity returns true if attribute has optional \"section=\" token",
          "location": {
            "start": {
              "column": 4,
              "line": 437
            }
          }
        },
        {
          "id": "23",
          "name": "Autocomplete Audit: Check Attribute Validity returns true if all tokens are valid and in order",
          "location": {
            "start": {
              "column": 4,
              "line": 455
            }
          }
        },
        {
          "id": "24",
          "name": "Autocomplete Audit: Check Attribute Validity returns true for hasValidTokens and false for isValidOrder\n      when tokens are valid but out of order",
          "location": {
            "start": {
              "column": 4,
              "line": 473
            }
          }
        },
        {
          "id": "25",
          "name": "Autocomplete Audit: Check Attribute Validity returns false for invalid tokens",
          "location": {
            "start": {
              "column": 4,
              "line": 492
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst Autocomplete = require('../../audits/autocomplete.js');\n\n\ndescribe('Best Practices: autocomplete audit', () => {\n  it('fails when an there is no autocomplete attribute set', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: null,\n                prediction: 'HTML_TYPE_CREDIT_CARD_NAME_FULL',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"name_cc\">',\n            },\n            {\n              id: '',\n              name: 'CCNo',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: null,\n                prediction: 'HTML_TYPE_CREDIT_CARD_NUMBER',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"CCNo\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const expectedItems = [\n      {\n        'current': '',\n        'node': {\n          'nodeLabel': 'input',\n          'snippet': '<input type=\"text\" name=\"name_cc\">',\n          'type': 'node',\n        },\n        'suggestion': 'cc-name',\n      },\n      {\n        'current': '',\n        'node': {\n          'nodeLabel': 'input',\n          'snippet': '<input type=\"text\" name=\"CCNo\">',\n          'type': 'node',\n        },\n        'suggestion': 'cc-number',\n      },\n    ];\n    const {score, details} = Autocomplete.audit(artifacts);\n    expect(score).toBe(0);\n    expect(details.items).toStrictEqual(expectedItems);\n  });\n\n  it('fails when an there is an invalid autocomplete attribute set', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'namez',\n                prediction: 'UNKNOWN_TYPE',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"name_cc\" autocomplete=\"namez\">',\n            },\n            {\n              id: '',\n              name: 'CCNo',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'ccc-num',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NUMBER',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"CCNo\" autocomplete=\"ccc-num\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {score, details} = Autocomplete.audit(artifacts);\n    expect(score).toBe(0);\n    expect(details.items).toStrictEqual([\n      {\n        current: 'namez',\n        node: {\n          nodeLabel: 'input',\n          snippet: '<input type=\"text\" name=\"name_cc\" autocomplete=\"namez\">',\n          type: 'node',\n        },\n        suggestion: expect.toBeDisplayString('Requires manual review'),\n      },\n      {\n        current: 'ccc-num',\n        node: {\n          nodeLabel: 'input',\n          snippet: '<input type=\"text\" name=\"CCNo\" autocomplete=\"ccc-num\">',\n          type: 'node',\n        },\n        suggestion: 'cc-number',\n      },\n    ]);\n  });\n\n  it('passes when an there is a valid autocomplete attribute set', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc',\n              placeholder: '',\n              autocomplete: {\n                property: 'section-red shipping cc-name',\n                attribute: 'section-red shipping cc-name',\n                prediction: 'UNKNOWN_TYPE',\n              },\n              nodeLabel: 'textarea',\n              // eslint-disable-next-line max-len\n              snippet: '<textarea type=\"text\" name=\"name_cc\" autocomplete=\"section-red shipping cc-name\">',\n            },\n            {\n              id: '',\n              name: 'CCNo',\n              placeholder: '',\n              autocomplete: {\n                property: 'cc-number',\n                attribute: 'cc-number',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NUMBER',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"CCNo\" autocomplete=\"cc-number\">',\n            },\n            {\n              id: '',\n              name: 'mobile-number',\n              placeholder: '',\n              autocomplete: {\n                property: 'section-red shipping mobile tel',\n                attribute: 'section-red shipping mobile tel',\n                prediction: 'HTML_TYPE_TEL',\n              },\n              nodeLabel: 'input',\n              // eslint-disable-next-line max-len\n              snippet: '<input name=\"mobile-number\" autocomplete=\"section-red shipping mobile tel\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {score} = Autocomplete.audit(artifacts);\n    expect(score).toBe(1);\n  });\n\n  it('not applicable when an there is no autofill prediction and no attribute set', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'edge_case',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: null,\n                prediction: 'UNKNOWN_TYPE',\n              },\n              nodeLabel: 'textarea',\n              snippet: '<textarea type=\"text\" name=\"edge_case\">',\n            },\n            {\n              id: '',\n              name: 'random',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: null,\n                prediction: 'UNKNOWN_TYPE',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"random\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {notApplicable} = Autocomplete.audit(artifacts);\n    expect(notApplicable).toBe(true);\n  });\n\n  it('fails when autocomplete is valid but prefix is invalid', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'sectio-red cc-name',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NAME_FULL',\n              },\n              autofillPredict: 'HTML_TYPE_CREDIT_CARD_NAME_FULL',\n              nodeLabel: 'textarea',\n              snippet: '<textarea type=\"text\" name=\"name_cc2\" autocomplete=\"sectio-red cc-name\">',\n            },\n            {\n              id: '',\n              name: 'CCNo2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'shippin name',\n                prediction: 'NAME_FULL',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"CCNo2\" autocomplete=\"shippin name\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {score} = Autocomplete.audit(artifacts);\n    expect(score).toBe(0);\n  });\n\n  it('fails when autocomplete prefix is valid but out of order', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'shipping section-red cc-name',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NAME_FULL',\n              },\n              nodeLabel: 'textarea',\n              // eslint-disable-next-line max-len\n              snippet: '<textarea type=\"text\" name=\"name_cc2\" autocomplete=\"shipping section-red cc-name\">',\n            },\n            {\n              id: '',\n              name: 'CCNo2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'shipping section-red mobile tel',\n                prediction: 'HTML_TYPE_TEL',\n              },\n              nodeLabel: 'input',\n              // eslint-disable-next-line max-len\n              snippet: '<input type=\"text\" name=\"CCNo2\" autocomplete=\"shipping section-red mobile tel\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const expectedItems = [\n      {\n        current: 'shipping section-red cc-name',\n        node: {\n          nodeLabel: 'textarea',\n          // eslint-disable-next-line max-len\n          snippet: '<textarea type=\"text\" name=\"name_cc2\" autocomplete=\"shipping section-red cc-name\">',\n          type: 'node',\n        },\n        suggestion: 'Review order of tokens',\n      },\n      {\n        current: 'shipping section-red mobile tel',\n        node: {\n          nodeLabel: 'input',\n          // eslint-disable-next-line max-len\n          snippet: '<input type=\"text\" name=\"CCNo2\" autocomplete=\"shipping section-red mobile tel\">',\n          type: 'node',\n        },\n        suggestion: 'Review order of tokens',\n      },\n    ];\n    const {score, details} = Autocomplete.audit(artifacts);\n    expect(score).toBe(0);\n    expect(details.items).toStrictEqual(expectedItems);\n  });\n\n  it('creates a warning when there is an invalid attribute set', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'namez',\n                prediction: 'UNKNOWN_TYPE',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"name_cc\" autocomplete=\"namez\">',\n            },\n            {\n              id: '',\n              name: 'CCNo',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'ccc-num',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NUMBER',\n              },\n              nodeLabel: 'input',\n              snippet: '<input type=\"text\" name=\"CCNo\" autocomplete=\"ccc-num\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {warnings} = Autocomplete.audit(artifacts);\n\n    expect(warnings).toEqual([\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('`autocomplete` token(s): \"namez\" is invalid in <input type=\"text\" name=\"name_cc\" autocomplete=\"namez\">'),\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('`autocomplete` token(s): \"ccc-num\" is invalid in <input type=\"text\" name=\"CCNo\" autocomplete=\"ccc-num\">'),\n    ]);\n  });\n\n  it('creates a warning when the tokens are valid but out of order', () => {\n    const artifacts = {\n      FormElements: [\n        {\n          inputs: [\n            {\n              id: '',\n              name: 'name_cc2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'shipping section-red cc-name',\n                prediction: 'HTML_TYPE_CREDIT_CARD_NAME_FULL',\n              },\n              nodeLabel: 'textarea',\n              // eslint-disable-next-line max-len\n              snippet: '<textarea type=\"text\" name=\"name_cc2\" autocomplete=\"shipping section-red cc-name\">',\n            },\n            {\n              id: '',\n              name: 'CCNo2',\n              placeholder: '',\n              autocomplete: {\n                property: '',\n                attribute: 'shipping section-red mobile tel',\n                prediction: 'HTML_TYPE_TEL',\n              },\n              nodeLabel: 'input',\n              // eslint-disable-next-line max-len\n              snippet: '<input type=\"text\" name=\"CCNo2\" autocomplete=\"shipping section-red mobile tel\">',\n            },\n          ],\n          labels: [],\n        },\n      ],\n    };\n    const {warnings} = Autocomplete.audit(artifacts);\n\n    expect(warnings).toEqual([\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('`autocomplete` token(s): \"shipping section-red cc-name\" is invalid in <textarea type=\"text\" name=\"name_cc2\" autocomplete=\"shipping section-red cc-name\">'),\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('Review order of tokens: \"shipping section-red cc-name\" in <textarea type=\"text\" name=\"name_cc2\" autocomplete=\"shipping section-red cc-name\">'),\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('`autocomplete` token(s): \"shipping section-red mobile tel\" is invalid in <input type=\"text\" name=\"CCNo2\" autocomplete=\"shipping section-red mobile tel\">'),\n      // eslint-disable-next-line max-len\n      expect.toBeDisplayString('Review order of tokens: \"shipping section-red mobile tel\" in <input type=\"text\" name=\"CCNo2\" autocomplete=\"shipping section-red mobile tel\">'),\n    ]);\n  });\n});\n\ndescribe('Autocomplete Audit: Check Attribute Validity', () => {\n  it('returns false if the attribute is empty', () => {\n    const input = {\n      id: '',\n      name: '',\n      placeholder: '',\n      autocomplete: {\n        property: '',\n        attribute: '',\n        prediction: '',\n      },\n      nodeLabel: '',\n      snippet: '',\n    };\n    const output = Autocomplete.checkAttributeValidity(input);\n    const expectedOutput = {hasValidTokens: false};\n    expect(output).toStrictEqual(expectedOutput);\n  });\n\n  it('returns true if attribute has optional \"section=\" token', () => {\n    const input = {\n      id: '',\n      name: '',\n      placeholder: '',\n      autocomplete: {\n        property: 'section-foo name',\n        attribute: 'section-foo name',\n        prediction: '',\n      },\n      nodeLabel: '',\n      snippet: '',\n    };\n    const output = Autocomplete.checkAttributeValidity(input);\n    const expectedOutput = {hasValidTokens: true, isValidOrder: true};\n    expect(output).toStrictEqual(expectedOutput);\n  });\n\n  it('returns true if all tokens are valid and in order', () => {\n    const input = {\n      id: '',\n      name: '',\n      placeholder: '',\n      autocomplete: {\n        property: 'shipping mobile tel',\n        attribute: 'shipping mobile tel',\n        prediction: '',\n      },\n      nodeLabel: '',\n      snippet: '',\n    };\n    const output = Autocomplete.checkAttributeValidity(input);\n    const expectedOutput = {hasValidTokens: true, isValidOrder: true};\n    expect(output).toStrictEqual(expectedOutput);\n  });\n\n  it(`returns true for hasValidTokens and false for isValidOrder\n      when tokens are valid but out of order`, () => {\n    const input = {\n      id: '',\n      name: '',\n      placeholder: '',\n      autocomplete: {\n        property: '',\n        attribute: 'mobile shipping tel',\n        prediction: '',\n      },\n      nodeLabel: '',\n      snippet: '',\n    };\n    const output = Autocomplete.checkAttributeValidity(input);\n    const expectedOutput = {hasValidTokens: true, isValidOrder: false};\n    expect(output).toStrictEqual(expectedOutput);\n  });\n\n  it('returns false for invalid tokens', () => {\n    const input = {\n      id: '',\n      name: '',\n      placeholder: '',\n      autocomplete: {\n        property: '',\n        attribute: 'invalid-token',\n        prediction: '',\n      },\n      nodeLabel: '',\n      snippet: '',\n    };\n    const output = Autocomplete.checkAttributeValidity(input);\n    const expectedOutput = {hasValidTokens: false};\n    expect(output).toStrictEqual(expectedOutput);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/unsized-images-test.js": {
      "tests": [
        {
          "id": "26",
          "name": "Sized images audit passes when an image is a css image",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        },
        {
          "id": "27",
          "name": "Sized images audit passes when an image is a shadowroot image",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        },
        {
          "id": "28",
          "name": "Sized images audit passes when an image has absolute css position",
          "location": {
            "start": {
              "column": 4,
              "line": 51
            }
          }
        },
        {
          "id": "29",
          "name": "Sized images audit passes when an image has fixed css position",
          "location": {
            "start": {
              "column": 4,
              "line": 62
            }
          }
        },
        {
          "id": "30",
          "name": "Sized images audit has empty width fails when an image only has attribute height",
          "location": {
            "start": {
              "column": 6,
              "line": 74
            }
          }
        },
        {
          "id": "31",
          "name": "Sized images audit has empty width fails when an image only has css height",
          "location": {
            "start": {
              "column": 6,
              "line": 84
            }
          }
        },
        {
          "id": "32",
          "name": "Sized images audit has empty width fails when an image only has attribute height & css height",
          "location": {
            "start": {
              "column": 6,
              "line": 94
            }
          }
        },
        {
          "id": "33",
          "name": "Sized images audit has empty height fails when an image only has attribute width",
          "location": {
            "start": {
              "column": 6,
              "line": 106
            }
          }
        },
        {
          "id": "34",
          "name": "Sized images audit has empty height fails when an image only has css width",
          "location": {
            "start": {
              "column": 6,
              "line": 116
            }
          }
        },
        {
          "id": "35",
          "name": "Sized images audit has empty height fails when an image only has attribute width & css width",
          "location": {
            "start": {
              "column": 6,
              "line": 126
            }
          }
        },
        {
          "id": "36",
          "name": "Sized images audit fails when an image has empty width and height",
          "location": {
            "start": {
              "column": 4,
              "line": 137
            }
          }
        },
        {
          "id": "37",
          "name": "Sized images audit has valid width and height passes when an image has attribute width and css height",
          "location": {
            "start": {
              "column": 6,
              "line": 148
            }
          }
        },
        {
          "id": "38",
          "name": "Sized images audit has valid width and height passes when an image has attribute width and attribute height",
          "location": {
            "start": {
              "column": 6,
              "line": 158
            }
          }
        },
        {
          "id": "39",
          "name": "Sized images audit has valid width and height passes when an image has css width and attribute height",
          "location": {
            "start": {
              "column": 6,
              "line": 168
            }
          }
        },
        {
          "id": "40",
          "name": "Sized images audit has valid width and height passes when an image has css width and css height",
          "location": {
            "start": {
              "column": 6,
              "line": 178
            }
          }
        },
        {
          "id": "41",
          "name": "Sized images audit has valid width and height passes when an image has css & attribute width and css height",
          "location": {
            "start": {
              "column": 6,
              "line": 188
            }
          }
        },
        {
          "id": "42",
          "name": "Sized images audit has valid width and height passes when an image has css & attribute width and attribute height",
          "location": {
            "start": {
              "column": 6,
              "line": 198
            }
          }
        },
        {
          "id": "43",
          "name": "Sized images audit has valid width and height passes when an image has css & attribute height and css width",
          "location": {
            "start": {
              "column": 6,
              "line": 208
            }
          }
        },
        {
          "id": "44",
          "name": "Sized images audit has valid width and height passes when an image has css & attribute height and attribute width",
          "location": {
            "start": {
              "column": 6,
              "line": 218
            }
          }
        },
        {
          "id": "45",
          "name": "Sized images audit has valid width and height passes when an image has css & attribute height and css & attribute width",
          "location": {
            "start": {
              "column": 6,
              "line": 228
            }
          }
        },
        {
          "id": "46",
          "name": "Sized images audit has invalid width fails when an image has invalid width attribute",
          "location": {
            "start": {
              "column": 6,
              "line": 240
            }
          }
        },
        {
          "id": "47",
          "name": "Sized images audit has invalid width fails when an image has invalid height attribute",
          "location": {
            "start": {
              "column": 6,
              "line": 250
            }
          }
        },
        {
          "id": "48",
          "name": "Sized images audit has invalid width fails when an image has invalid css width",
          "location": {
            "start": {
              "column": 6,
              "line": 260
            }
          }
        },
        {
          "id": "49",
          "name": "Sized images audit has invalid width fails when an image has invalid css height",
          "location": {
            "start": {
              "column": 6,
              "line": 270
            }
          }
        },
        {
          "id": "50",
          "name": "Sized images audit has invalid width passes when an image has invalid width attribute, and valid css width",
          "location": {
            "start": {
              "column": 6,
              "line": 280
            }
          }
        },
        {
          "id": "51",
          "name": "Sized images audit has invalid width passes when an image has invalid height attribute, and valid css height",
          "location": {
            "start": {
              "column": 6,
              "line": 290
            }
          }
        },
        {
          "id": "52",
          "name": "Sized images audit has invalid width passes when an image has invalid css width, and valid attribute width",
          "location": {
            "start": {
              "column": 6,
              "line": 300
            }
          }
        },
        {
          "id": "53",
          "name": "Sized images audit has invalid width passes when an image has invalid css height, and valid attribute height",
          "location": {
            "start": {
              "column": 6,
              "line": 310
            }
          }
        },
        {
          "id": "54",
          "name": "Sized images audit has invalid width passes when an image has invalid css width & height, and valid attribute width & height",
          "location": {
            "start": {
              "column": 6,
              "line": 320
            }
          }
        },
        {
          "id": "55",
          "name": "Sized images audit has invalid width passes when an image has invalid attribute width & height, and valid css width & height",
          "location": {
            "start": {
              "column": 6,
              "line": 331
            }
          }
        },
        {
          "id": "56",
          "name": "Sized images audit has invalid width fails when an image has invalid attribute width & height, and invalid css width & height",
          "location": {
            "start": {
              "column": 6,
              "line": 342
            }
          }
        },
        {
          "id": "57",
          "name": "Sized images audit is not applicable when there are no images",
          "location": {
            "start": {
              "column": 4,
              "line": 354
            }
          }
        },
        {
          "id": "58",
          "name": "Sized images audit can return multiple unsized images",
          "location": {
            "start": {
              "column": 4,
              "line": 362
            }
          }
        },
        {
          "id": "59",
          "name": "Size attribute validity check fails if it is empty",
          "location": {
            "start": {
              "column": 4,
              "line": 400
            }
          }
        },
        {
          "id": "60",
          "name": "Size attribute validity check fails on non-numeric characters",
          "location": {
            "start": {
              "column": 4,
              "line": 404
            }
          }
        },
        {
          "id": "61",
          "name": "Size attribute validity check fails on zero input",
          "location": {
            "start": {
              "column": 4,
              "line": 415
            }
          }
        },
        {
          "id": "62",
          "name": "Size attribute validity check passes on non-zero non-negative integer input",
          "location": {
            "start": {
              "column": 4,
              "line": 419
            }
          }
        },
        {
          "id": "63",
          "name": "CSS size property validity check fails if it was never defined",
          "location": {
            "start": {
              "column": 4,
              "line": 427
            }
          }
        },
        {
          "id": "64",
          "name": "CSS size property validity check fails if it is empty",
          "location": {
            "start": {
              "column": 4,
              "line": 431
            }
          }
        },
        {
          "id": "65",
          "name": "CSS size property validity check fails if it is auto",
          "location": {
            "start": {
              "column": 4,
              "line": 435
            }
          }
        },
        {
          "id": "66",
          "name": "CSS size property validity check passes if it is defined and not auto",
          "location": {
            "start": {
              "column": 4,
              "line": 439
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UnsizedImagesAudit = require('../../audits/unsized-images.js');\n\n/* eslint-env jest */\n\nfunction generateImage(props, src = 'https://google.com/logo.png', isCss = false,\n  isInShadowDOM = false, cssComputedPosition = 'static') {\n  const image = {src, isCss, isInShadowDOM, cssComputedPosition};\n  Object.assign(image, props);\n  return image;\n}\n\ndescribe('Sized images audit', () => {\n  function runAudit(props) {\n    const result = UnsizedImagesAudit.audit({\n      ImageElements: [\n        generateImage(props),\n      ],\n    });\n    return result;\n  }\n\n  it('passes when an image is a css image', async () => {\n    const result = await runAudit({\n      isCss: true,\n      attributeWidth: '',\n      attributeHeight: '',\n      cssWidth: '',\n      cssHeight: '',\n    });\n    expect(result.score).toEqual(1);\n  });\n\n  it('passes when an image is a shadowroot image', async () => {\n    const result = await runAudit({\n      isInShadowDOM: true,\n      attributeWidth: '',\n      attributeHeight: '',\n      cssWidth: '',\n      cssHeight: '',\n    });\n    expect(result.score).toEqual(1);\n  });\n\n  it('passes when an image has absolute css position', async () => {\n    const result = await runAudit({\n      cssComputedPosition: 'absolute',\n      attributeWidth: '',\n      attributeHeight: '',\n      cssWidth: '',\n      cssHeight: '',\n    });\n    expect(result.score).toEqual(1);\n  });\n\n  it('passes when an image has fixed css position', async () => {\n    const result = await runAudit({\n      cssComputedPosition: 'fixed',\n      attributeWidth: '',\n      attributeHeight: '',\n      cssWidth: '',\n      cssHeight: '',\n    });\n    expect(result.score).toEqual(1);\n  });\n\n  describe('has empty width', () => {\n    it('fails when an image only has attribute height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '100',\n        cssWidth: '',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image only has css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '',\n        cssWidth: '',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image only has attribute height & css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '100',\n        cssWidth: '',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(0);\n    });\n  });\n\n  describe('has empty height', () => {\n    it('fails when an image only has attribute width', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '',\n        cssWidth: '',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image only has css width', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '',\n        cssWidth: '100',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image only has attribute width & css width', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '',\n        cssWidth: '100',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n  });\n\n  it('fails when an image has empty width and height', async () => {\n    const result = await runAudit({\n      attributeWidth: '',\n      attributeHeight: '',\n      cssWidth: '',\n      cssHeight: '',\n    });\n    expect(result.score).toEqual(0);\n  });\n\n  describe('has valid width and height', () => {\n    it('passes when an image has attribute width and css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '',\n        cssWidth: '',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has attribute width and attribute height', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '100',\n        cssWidth: '',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css width and attribute height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css width and css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '',\n        cssWidth: '100',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css & attribute width and css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '',\n        cssWidth: '100',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css & attribute width and attribute height', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css & attribute height and css width', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css & attribute height and attribute width', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '100',\n        cssWidth: '',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has css & attribute height and css & attribute width', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n  });\n\n  describe('has invalid width', () => {\n    it('fails when an image has invalid width attribute', async () => {\n      const result = await runAudit({\n        attributeWidth: '-200',\n        attributeHeight: '100',\n        cssWidth: '',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image has invalid height attribute', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '-200',\n        cssWidth: '',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image has invalid css width', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '',\n        cssWidth: 'auto',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('fails when an image has invalid css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '',\n        cssWidth: '100',\n        cssHeight: 'auto',\n      });\n      expect(result.score).toEqual(0);\n    });\n\n    it('passes when an image has invalid width attribute, and valid css width', async () => {\n      const result = await runAudit({\n        attributeWidth: '-200',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: '',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has invalid height attribute, and valid css height', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '-200',\n        cssWidth: '',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has invalid css width, and valid attribute width', async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '',\n        cssWidth: 'auto',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has invalid css height, and valid attribute height', async () => {\n      const result = await runAudit({\n        attributeWidth: '',\n        attributeHeight: '100',\n        cssWidth: '100',\n        cssHeight: 'auto',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has invalid css width & height, and valid attribute width & height',\n    async () => {\n      const result = await runAudit({\n        attributeWidth: '100',\n        attributeHeight: '100',\n        cssWidth: 'auto',\n        cssHeight: 'auto',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('passes when an image has invalid attribute width & height, and valid css width & height',\n    async () => {\n      const result = await runAudit({\n        attributeWidth: '-200',\n        attributeHeight: '-200',\n        cssWidth: '100',\n        cssHeight: '100',\n      });\n      expect(result.score).toEqual(1);\n    });\n\n    it('fails when an image has invalid attribute width & height, and invalid css width & height',\n    async () => {\n      const result = await runAudit({\n        attributeWidth: '-200',\n        attributeHeight: '-200',\n        cssWidth: 'auto',\n        cssHeight: 'auto',\n      });\n      expect(result.score).toEqual(0);\n    });\n  });\n\n  it('is not applicable when there are no images', async () => {\n    const result = await UnsizedImagesAudit.audit({\n      ImageElements: [],\n    });\n    expect(result.notApplicable).toEqual(true);\n    expect(result.score).toEqual(1);\n  });\n\n  it('can return multiple unsized images', async () => {\n    const result = await UnsizedImagesAudit.audit({\n      ImageElements: [\n        generateImage(\n          {\n            attributeWidth: '',\n            attributeHeight: '',\n            cssWidth: '',\n            cssHeight: '',\n          },\n          'image1.png'\n        ),\n        generateImage(\n          {\n            attributeWidth: '100',\n            attributeHeight: '150',\n          },\n          'image2.png'\n        ),\n        generateImage(\n          {\n            attributeWidth: '',\n            attributeHeight: '',\n            cssWidth: '',\n            cssHeight: '',\n          },\n          'image3.png'\n        ),\n      ],\n    });\n    expect(result.score).toEqual(0);\n    expect(result.details.items).toHaveLength(2);\n    const srcs = result.details.items.map(item => item.url);\n    expect(srcs).toEqual(['image1.png', 'image3.png']);\n  });\n});\n\ndescribe('Size attribute validity check', () => {\n  it('fails if it is empty', () => {\n    expect(UnsizedImagesAudit.isValidAttr('')).toEqual(false);\n  });\n\n  it('fails on non-numeric characters', () => {\n    expect(UnsizedImagesAudit.isValidAttr('zero')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('1002$')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('s-5')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('3,000')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('100.0')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('2/3')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('-2020')).toEqual(false);\n    expect(UnsizedImagesAudit.isValidAttr('+2020')).toEqual(false);\n  });\n\n  it('fails on zero input', () => {\n    expect(UnsizedImagesAudit.isValidAttr('0')).toEqual(false);\n  });\n\n  it('passes on non-zero non-negative integer input', () => {\n    expect(UnsizedImagesAudit.isValidAttr('1')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidAttr('250')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidAttr('4000000')).toEqual(true);\n  });\n});\n\ndescribe('CSS size property validity check', () => {\n  it('fails if it was never defined', () => {\n    expect(UnsizedImagesAudit.isValidCss(undefined)).toEqual(false);\n  });\n\n  it('fails if it is empty', () => {\n    expect(UnsizedImagesAudit.isValidCss('')).toEqual(false);\n  });\n\n  it('fails if it is auto', () => {\n    expect(UnsizedImagesAudit.isValidCss('auto')).toEqual(false);\n  });\n\n  it('passes if it is defined and not auto', () => {\n    expect(UnsizedImagesAudit.isValidCss('200')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('300.5')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('150px')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('80%')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('5cm')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('20rem')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('7vw')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('-20')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('0')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('three')).toEqual(true);\n    expect(UnsizedImagesAudit.isValidCss('-20')).toEqual(true);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/duplicated-javascript-test.js": {
      "tests": [
        {
          "id": "67",
          "name": "DuplicatedJavascript computed artifact works (simple)",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        },
        {
          "id": "68",
          "name": "DuplicatedJavascript computed artifact works (complex)",
          "location": {
            "start": {
              "column": 4,
              "line": 41
            }
          }
        },
        {
          "id": "69",
          "name": "DuplicatedJavascript computed artifact .audit",
          "location": {
            "start": {
              "column": 4,
              "line": 316
            }
          }
        },
        {
          "id": "70",
          "name": "DuplicatedJavascript computed artifact _getNodeModuleName",
          "location": {
            "start": {
              "column": 4,
              "line": 359
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst DuplicatedJavascript = require('../../../audits/byte-efficiency/duplicated-javascript.js');\nconst trace = require('../../fixtures/traces/lcp-m78.json');\nconst devtoolsLog = require('../../fixtures/traces/lcp-m78.devtools.log.json');\nconst {loadSourceMapFixture} = require('../../test-utils.js');\n\ndescribe('DuplicatedJavascript computed artifact', () => {\n  it('works (simple)', async () => {\n    const context = {computedCache: new Map(), options: {ignoreThresholdInBytes: 200}};\n    const {map, content} = loadSourceMapFixture('foo.min');\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/foo1.min.js', map},\n        {scriptUrl: 'https://example.com/foo2.min.js', map},\n      ],\n      ScriptElements: [\n        {src: 'https://example.com/foo1.min.js', content},\n        {src: 'https://example.com/foo2.min.js', content},\n      ],\n    };\n    const networkRecords = [{url: 'https://example.com', resourceType: 'Document'}];\n    const results = await DuplicatedJavascript.audit_(artifacts, networkRecords, context);\n    expect({items: results.items, wastedBytesByUrl: results.wastedBytesByUrl})\n      .toMatchInlineSnapshot(`\n      Object {\n        \"items\": Array [],\n        \"wastedBytesByUrl\": Map {},\n      }\n    `);\n  });\n\n  it('works (complex)', async () => {\n    const context = {computedCache: new Map(), options: {ignoreThresholdInBytes: 200}};\n    const bundleData1 = loadSourceMapFixture('coursehero-bundle-1');\n    const bundleData2 = loadSourceMapFixture('coursehero-bundle-2');\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/coursehero-bundle-1.js', map: bundleData1.map},\n        {scriptUrl: 'https://example.com/coursehero-bundle-2.js', map: bundleData2.map},\n      ],\n      ScriptElements: [\n        {src: 'https://example.com/coursehero-bundle-1.js', content: bundleData1.content},\n        {src: 'https://example.com/coursehero-bundle-2.js', content: bundleData2.content},\n      ],\n    };\n    const networkRecords = [{url: 'https://example.com', resourceType: 'Document'}];\n    const results = await DuplicatedJavascript.audit_(artifacts, networkRecords, context);\n    expect({items: results.items, wastedBytesByUrl: results.wastedBytesByUrl})\n      .toMatchInlineSnapshot(`\n      Object {\n        \"items\": Array [\n          Object {\n            \"source\": \"Control/assets/js/vendor/ng/select/select.js\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 16009,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 16009,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 16009,\n          },\n          Object {\n            \"source\": \"Control/assets/js/vendor/ng/select/angular-sanitize.js\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 3015,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 3015,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 3015,\n          },\n          Object {\n            \"source\": \"node_modules/@babel/runtime\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 502,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 502,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 502,\n          },\n          Object {\n            \"source\": \"js/src/utils/service/amplitude-service.ts\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 445,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 437,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 437,\n          },\n          Object {\n            \"source\": \"js/src/search/results/store/filter-actions.ts\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 315,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 312,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 312,\n          },\n          Object {\n            \"source\": \"js/src/search/results/store/item/resource-types.ts\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 258,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 256,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 256,\n          },\n          Object {\n            \"source\": \"js/src/search/results/store/filter-store.ts\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 4197,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 4175,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 4175,\n          },\n          Object {\n            \"source\": \"js/src/search/results/view/filter/autocomplete-list.tsx\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 377,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 374,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 374,\n          },\n          Object {\n            \"source\": \"js/src/search/results/view/filter/autocomplete-filter.tsx\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 1262,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 1258,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 1258,\n          },\n          Object {\n            \"source\": \"js/src/search/results/view/filter/autocomplete-filter-with-icon.tsx\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 890,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 889,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 889,\n          },\n          Object {\n            \"source\": \"js/src/common/component/school-search.tsx\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 1927,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 1754,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 1754,\n          },\n          Object {\n            \"source\": \"js/src/common/component/search/abstract-taxonomy-search.tsx\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"sourceTransferBytes\": 1024,\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"sourceTransferBytes\": 1022,\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 1022,\n          },\n          Object {\n            \"source\": \"Other\",\n            \"subItems\": Object {\n              \"items\": Array [\n                Object {\n                  \"url\": \"https://example.com/coursehero-bundle-1.js\",\n                },\n                Object {\n                  \"url\": \"https://example.com/coursehero-bundle-2.js\",\n                },\n              ],\n              \"type\": \"subitems\",\n            },\n            \"totalBytes\": 0,\n            \"url\": \"\",\n            \"wastedBytes\": 542,\n          },\n        ],\n        \"wastedBytesByUrl\": Map {\n          \"https://example.com/coursehero-bundle-2.js\" => 27925,\n          \"https://example.com/coursehero-bundle-1.js\" => 2620,\n        },\n      }\n    `);\n  });\n\n  it('.audit', async () => {\n    // Use a real trace fixture, but the bundle stuff.\n    const bundleData1 = loadSourceMapFixture('coursehero-bundle-1');\n    const bundleData2 = loadSourceMapFixture('coursehero-bundle-2');\n    const artifacts = {\n      URL: {finalUrl: 'https://www.paulirish.com'},\n      devtoolsLogs: {\n        [DuplicatedJavascript.DEFAULT_PASS]: devtoolsLog,\n      },\n      traces: {\n        [DuplicatedJavascript.DEFAULT_PASS]: trace,\n      },\n      SourceMaps: [\n        {\n          scriptUrl: 'https://www.paulirish.com/javascripts/firebase-performance.js',\n          map: bundleData1.map,\n        },\n        {\n          scriptUrl: 'https://www.paulirish.com/javascripts/firebase-app.js',\n          map: bundleData2.map,\n        },\n      ],\n      ScriptElements: [\n        {\n          src: 'https://www.paulirish.com/javascripts/firebase-performance.js',\n          content: bundleData1.content,\n        },\n        {\n          src: 'https://www.paulirish.com/javascripts/firebase-app.js',\n          content: bundleData2.content,\n        },\n      ],\n    };\n\n    const ultraSlowThrottling = {rttMs: 150, throughputKbps: 100, cpuSlowdownMultiplier: 8};\n    const settings = {throttlingMethod: 'simulate', throttling: ultraSlowThrottling};\n    const context = {settings, computedCache: new Map()};\n    const results = await DuplicatedJavascript.audit(artifacts, context);\n\n    // Without the `wastedBytesByUrl` this would be zero because the items don't define a url.\n    expect(results.details.overallSavingsMs).toBe(300);\n  });\n\n  it('_getNodeModuleName', () => {\n    const testCases = [\n      ['node_modules/package/othermodule.js', 'package'],\n      ['node_modules/somemodule/node_modules/package/othermodule.js', 'package'],\n      [\n        'node_modules/somemodule/node_modules/somemodule2/node_modules/somemodule2/othermodule.js',\n        'somemodule2',\n      ],\n      ['node_modules/@lh/ci', '@lh/ci'],\n      ['node_modules/blahblah/node_modules/@lh/ci', '@lh/ci'],\n    ];\n    for (const [input, expected] of testCases) {\n      expect(DuplicatedJavascript._getNodeModuleName(input)).toBe(expected);\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/font-display-test.js": {
      "tests": [
        {
          "id": "71",
          "name": "Performance: Font Display audit fails when not all fonts have a correct font-display rule",
          "location": {
            "start": {
              "column": 4,
              "line": 31
            }
          }
        },
        {
          "id": "72",
          "name": "Performance: Font Display audit resolves URLs relative to stylesheet URL when available",
          "location": {
            "start": {
              "column": 4,
              "line": 80
            }
          }
        },
        {
          "id": "73",
          "name": "Performance: Font Display audit passes when all fonts have a correct font-display rule",
          "location": {
            "start": {
              "column": 4,
              "line": 137
            }
          }
        },
        {
          "id": "74",
          "name": "Performance: Font Display audit should handle real-world font-face declarations",
          "location": {
            "start": {
              "column": 4,
              "line": 189
            }
          }
        },
        {
          "id": "75",
          "name": "Performance: Font Display audit handles varied font-display declarations",
          "location": {
            "start": {
              "column": 4,
              "line": 236
            }
          }
        },
        {
          "id": "76",
          "name": "Performance: Font Display audit handles custom source URLs from sourcemaps",
          "location": {
            "start": {
              "column": 4,
              "line": 269
            }
          }
        },
        {
          "id": "77",
          "name": "Performance: Font Display audit should not flag a URL for which there is not @font-face at all",
          "location": {
            "start": {
              "column": 4,
              "line": 290
            }
          }
        },
        {
          "id": "78",
          "name": "Performance: Font Display audit should handle mixed content",
          "location": {
            "start": {
              "column": 4,
              "line": 308
            }
          }
        },
        {
          "id": "79",
          "name": "Performance: Font Display audit should dedupe warnings by origin when there are multiple uncheckable fonts",
          "location": {
            "start": {
              "column": 4,
              "line": 343
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst FontDisplayAudit = require('../../audits/font-display.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Performance: Font Display audit', () => {\n  let networkRecords;\n  let stylesheet;\n  let context;\n\n  beforeEach(() => {\n    stylesheet = {content: '', header: {}};\n    context = {computedCache: new Map()};\n  });\n\n  function getArtifacts() {\n    return {\n      devtoolsLogs: {[FontDisplayAudit.DEFAULT_PASS]: networkRecordsToDevtoolsLog(networkRecords)},\n      URL: {finalUrl: 'https://example.com/foo/bar/page'},\n      CSSUsage: {stylesheets: [stylesheet]},\n    };\n  }\n\n  it('fails when not all fonts have a correct font-display rule', async () => {\n    stylesheet.content = `\n      @font-face {\n        /* try with \" */\n        src: url(\"./font-a.woff\");\n      }\n\n      @font-face {\n        font-display: 'optional'; // invalid quotes, should still fail for being invalid rule\n        /* try up a directory with ' */\n        src: url('../font-b.woff');\n      }\n\n      @font-face {\n        font-display: optional // missing a semi-colon, should still fail for being invalid block\n        /* try no path with no quotes ' */\n        src: url(font.woff);\n      }\n    `;\n\n    networkRecords = [\n      {\n        url: 'https://example.com/foo/bar/font-a.woff',\n        endTime: 3, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://example.com/foo/font-b.woff',\n        endTime: 5, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://example.com/foo/bar/font.woff',\n        endTime: 2, startTime: 1,\n        resourceType: 'Font',\n      },\n    ];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    const items = [\n      {url: networkRecords[0].url, wastedMs: 2000},\n      {url: networkRecords[1].url, wastedMs: 3000},\n      {url: networkRecords[2].url, wastedMs: 1000},\n    ];\n    expect(result.score).toEqual(0);\n    expect(result.details.items).toEqual(items);\n    expect(result.warnings).toEqual([]);\n  });\n\n  it('resolves URLs relative to stylesheet URL when available', async () => {\n    stylesheet.header.sourceURL = 'https://cdn.example.com/foo/bar/file.css';\n    stylesheet.content = `\n      @font-face {\n        font-display: block;\n        /* try with \" and same directory */\n        src: url(\"./font-a.woff\");\n      }\n\n      @font-face {\n        font-display: block;\n        /* try with \" and site origin */\n        src: url(\"https://example.com/foo/bar/document-font.woff\");\n      }\n\n      @font-face {\n        font-display: fallback;\n        /* try up a directory with ' */\n        src: url('../font-b.woff');\n      }\n\n      @font-face {\n        font-display: optional;\n        /* try no path with no quotes ' */\n        src: url(font.woff);\n      }\n    `;\n\n    networkRecords = [\n      {\n        url: 'https://example.com/foo/bar/document-font.woff',\n        endTime: 3, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://cdn.example.com/foo/bar/font-a.woff',\n        endTime: 3, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://cdn.example.com/foo/font-b.woff',\n        endTime: 5, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://cdn.example.com/foo/bar/font.woff',\n        endTime: 2, startTime: 1,\n        resourceType: 'Font',\n      },\n    ];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.score).toEqual(1);\n    expect(result.details.items).toEqual([]);\n    expect(result.warnings).toEqual([]);\n  });\n\n  it('passes when all fonts have a correct font-display rule', async () => {\n    stylesheet.content = `\n      @font-face {\n        /* make sure we can handle carriage returns */\n        \\r\\n\n        font-display: block;\n        /* try with \" */\n        src: url(\"./font-a.woff\");\n      }\n\n      @font-face {\\r\n        font-display: fallback;\n        /* try up a directory with ' */\n        src: url('../font-b.woff');\n      }\n\n      @font-face {\\n\n        font-display: optional;\n        /* try no path with no quotes ' */\n        src: url(font.woff);\n      }\n    `;\n\n    networkRecords = [\n      {\n        url: 'https://example.com/foo/bar/font-a.woff',\n        endTime: 3, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://example.com/foo/font-b.woff',\n        endTime: 5, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://example.com/foo/bar/font.woff',\n        endTime: 2, startTime: 1,\n        resourceType: 'Font',\n      },\n      {\n        url: 'data:application/font-woff',\n        endTime: 7, startTime: 1,\n        resourceType: 'Font',\n      },\n    ];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.score).toEqual(1);\n    expect(result.details.items).toEqual([]);\n    expect(result.warnings).toEqual([]);\n  });\n\n  it('should handle real-world font-face declarations', async () => {\n    /* eslint-disable max-len, no-useless-escape */\n    stylesheet.content = `\n      @font-face{font-family:CNN Clock;src:url(//edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.eot) format(\"embedded-opentype\"),url(//edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.woff2) format(\"woff2\"),url(//edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.woff) format(\"woff\"),url(//edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.ttf) format(\"truetype\");font-weight:900;font-style:normal}\n      @font-face{font-family:FAVE-CNN;src:url(\n        \"//registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.eot\")\n        ;src:       url(\"//registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.eot?#iefix\") format(\"embedded-opentype\"),url(\"//registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.woff\") format(\"woff\"),url(\"//registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.ttf\") format(\"truetype\"),url(\"//registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.svg?#cnn-icons\") format(\"svg\");font-weight:700;font-style:normal}\n      @font-face{font-family:\\'FontAwesome\\';src:url(\\'../fonts/fontawesome-webfont.eot?v=4.6.1\\');src:url(\\'../fonts/fontawesome-webfont.eot?#iefix&v=4.6.1\\') format(\\'embedded-opentype\\'),url(\\'../fonts/fontawesome-webfont.woff2?v=4.6.1\\') format(\\'woff2\\'),url(\\'../fonts/fontawesome-webfont.woff?v=4.6.1\\') format(\\'woff\\'),url(\\'../fonts/fontawesome-webfont.ttf?v=4.6.1\\') format(\\'truetype\\'),url(\\'../fonts/fontawesome-webfont.svg?v=4.6.1#fontawesomeregular\\') format(\\'svg\\');font-weight:normal;font-style:normal;font-display:swap;}\n      @font-face {   font-family: \\'Lato\\';   font-style: normal;   font-weight: 900;   src: local(\\'Lato Black\\'), local(\\'Lato-Black\\'), url(https://fonts.gstatic.com/s/lato/v14/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2) format(\\'woff2\\');   unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD; }\n    `;\n    /* eslint-enable max-len, no-useless-escape */\n\n    networkRecords = [\n      {\n        url: 'https://edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.woff2',\n        startTime: 1, endTime: 5,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.woff',\n        startTime: 1, endTime: 5,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://example.com/foo/fonts/fontawesome-webfont.woff2?v=4.6.1',\n        startTime: 1, endTime: 5,\n        resourceType: 'Font',\n      },\n      {\n        url: 'https://fonts.gstatic.com/s/lato/v14/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2',\n        startTime: 1, endTime: 5,\n        resourceType: 'Font',\n      },\n    ];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.score).toEqual(0);\n    expect(result.details.items.map(item => item.url)).toEqual([\n      'https://edition.i.cdn.cnn.com/.a/fonts/cnn/3.7.2/cnnclock-black.woff2',\n      'https://registry.api.cnn.io/assets/fave/fonts/2.0.15/cnnsans-bold.woff',\n      // FontAwesome should pass\n      // 'https://example.com/foo/fonts/fontawesome-webfont.woff2?v=4.6.1',\n      'https://fonts.gstatic.com/s/lato/v14/S6u9w4BMUTPHh50XSwiPGQ3q5d0.woff2',\n    ]);\n    expect(result.warnings).toEqual([]);\n  });\n\n  it('handles varied font-display declarations', async () => {\n    stylesheet.content = `\n      @font-face {\n        src: url(font-0.woff);\n        font-display: swap\n      }\n\n      @font-face {src: url(font-1.woff);font-display   : fallback\n      }\n\n      @font-face {\n        src: url(font-2.woff);\n        font-display:optional}\n\n      @font-face {\n        src: url(font-3.woff);\n        font-display    :  swap  ;  }\n\n      @font-face {src: url(font-4.woff);font-display:swap;}\n    `;\n\n    networkRecords = Array.from({length: 5}).map((_, idx) => ({\n      url: `https://example.com/foo/bar/font-${idx}.woff`,\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }));\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.details.items).toEqual([]);\n    expect(result.score).toEqual(1);\n    expect(result.warnings).toEqual([]);\n  });\n\n  it('handles custom source URLs from sourcemaps', async () => {\n    // Make sure we don't use sourceURL when it's not a valid URL, see https://github.com/GoogleChrome/lighthouse/issues/8534\n    stylesheet.header.sourceURL = 'custom-url-from-source-map';\n    stylesheet.content = `\n      @font-face {\n        src: url(font-0.woff);\n        font-display: swap\n      }\n    `;\n\n    networkRecords = [{\n      url: `https://example.com/foo/bar/font-0.woff`,\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.details.items).toEqual([]);\n    expect(result.score).toEqual(1);\n  });\n\n  it('should not flag a URL for which there is not @font-face at all', async () => {\n    // Sometimes the content does not come through, see https://github.com/GoogleChrome/lighthouse/issues/8493\n    stylesheet.content = ``;\n\n    networkRecords = [{\n      url: `https://example.com/foo/bar/font-0.woff`,\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.details.items).toEqual([]);\n    expect(result.score).toEqual(1);\n    expect(result.warnings).toHaveLength(1);\n    expect(result.warnings[0])\n      .toBeDisplayString(/value for the origin https:\\/\\/example\\.com\\.$/);\n  });\n\n  it('should handle mixed content', async () => {\n    networkRecords = [{\n      url: `https://example.com/foo/bar/font-0.woff`,\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }, {\n      url: `https://example.com/foo/bar/font-1.woff`,\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }];\n\n    const artifacts = getArtifacts();\n    artifacts.CSSUsage.stylesheets = [\n      {content: '', header: {}},\n      {\n        content: `\n          @font-face {\n            /* try with \" */\n            src: url(\"./font-0.woff\");\n          }\n        `,\n        header: {},\n      },\n    ];\n    const result = await FontDisplayAudit.audit(artifacts, context);\n    expect(result.details.items).toEqual([{\n      url: `https://example.com/foo/bar/font-0.woff`,\n      wastedMs: 1000,\n    }]);\n    expect(result.score).toEqual(0);\n    expect(result.warnings).toHaveLength(1);\n    expect(result.warnings[0])\n      .toBeDisplayString(/value for the origin https:\\/\\/example\\.com\\.$/);\n  });\n\n  it('should dedupe warnings by origin when there are multiple uncheckable fonts', async () => {\n    stylesheet.content = ``;\n\n    networkRecords = [{\n      url: 'https://example.com/foo/bar/font-a.woff',\n      endTime: 3, startTime: 1,\n      resourceType: 'Font',\n    }, {\n      url: 'https://example.com/foo/font-b.woff',\n      endTime: 5, startTime: 1,\n      resourceType: 'Font',\n    }, {\n      url: 'https://example.com/foo/bar/font.woff',\n      endTime: 2, startTime: 1,\n      resourceType: 'Font',\n    }, {\n      url: 'https://fonts.gstatic.com/s/would-you-look-at-this-font.woff2',\n      endTime: 7, startTime: 1,\n      resourceType: 'Font',\n    }];\n\n    const result = await FontDisplayAudit.audit(getArtifacts(), context);\n    expect(result.details.items).toHaveLength(0);\n    expect(result.score).toEqual(1);\n\n    expect(result.warnings).toHaveLength(2);\n    expect(result.warnings[0])\n      // Plural 'values' for multiple fonts.\n      .toBeDisplayString(/values for the origin https:\\/\\/example\\.com\\.$/);\n    expect(result.warnings[1])\n      .toBeDisplayString(/value for the origin https:\\/\\/fonts\\.gstatic\\.com\\.$/);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/font-size-test.js": {
      "tests": [
        {
          "id": "80",
          "name": "SEO: Font size audit fails when viewport is not set",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        },
        {
          "id": "81",
          "name": "SEO: Font size audit fails when less than 60% of text is legible",
          "location": {
            "start": {
              "column": 4,
              "line": 38
            }
          }
        },
        {
          "id": "82",
          "name": "SEO: Font size audit passes when there is no text",
          "location": {
            "start": {
              "column": 4,
              "line": 59
            }
          }
        },
        {
          "id": "83",
          "name": "SEO: Font size audit passes when more than 60% of text is legible",
          "location": {
            "start": {
              "column": 4,
              "line": 78
            }
          }
        },
        {
          "id": "84",
          "name": "SEO: Font size audit groups entries with same source, sorts them by coverage",
          "location": {
            "start": {
              "column": 4,
              "line": 98
            }
          }
        },
        {
          "id": "85",
          "name": "SEO: Font size audit adds a category for failing text that wasn't analyzed",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "86",
          "name": "SEO: Font size audit informs user if audit haven't covered all text on the page",
          "location": {
            "start": {
              "column": 4,
              "line": 161
            }
          }
        },
        {
          "id": "87",
          "name": "SEO: Font size audit maintains 2 trailing decimal places",
          "location": {
            "start": {
              "column": 4,
              "line": 180
            }
          }
        },
        {
          "id": "88",
          "name": "SEO: Font size audit maintains 2 trailing decimal places with only 1 leading digit",
          "location": {
            "start": {
              "column": 4,
              "line": 199
            }
          }
        },
        {
          "id": "89",
          "name": "SEO: Font size audit is not applicable on desktop",
          "location": {
            "start": {
              "column": 4,
              "line": 218
            }
          }
        },
        {
          "id": "90",
          "name": "SEO: Font size audit attributes source of style to inline node stylesheet",
          "location": {
            "start": {
              "column": 6,
              "line": 247
            }
          }
        },
        {
          "id": "91",
          "name": "SEO: Font size audit attributes source of style to attributes node stylesheet",
          "location": {
            "start": {
              "column": 6,
              "line": 269
            }
          }
        },
        {
          "id": "92",
          "name": "SEO: Font size audit attributes source of style to external stylesheet",
          "location": {
            "start": {
              "column": 6,
              "line": 291
            }
          }
        },
        {
          "id": "93",
          "name": "SEO: Font size audit attributes source of style to inline <style>",
          "location": {
            "start": {
              "column": 6,
              "line": 313
            }
          }
        },
        {
          "id": "94",
          "name": "SEO: Font size audit attributes source of style to inline <style> with rule on the same line as <style>",
          "location": {
            "start": {
              "column": 6,
              "line": 338
            }
          }
        },
        {
          "id": "95",
          "name": "SEO: Font size audit attributes source of style to inline <style> with magic sourceURL comment",
          "location": {
            "start": {
              "column": 6,
              "line": 363
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst FontSizeAudit = require('../../../audits/seo/font-size.js');\nconst assert = require('assert').strict;\n\nconst URL = {\n  requestedUrl: 'https://example.com',\n  finalUrl: 'https://example.com',\n};\nconst validViewport = 'width=device-width';\n\n/* eslint-env jest */\n\ndescribe('SEO: Font size audit', () => {\n  const makeMetaElements = viewport => [{name: 'viewport', content: viewport}];\n  const getFakeContext = () => ({computedCache: new Map()});\n\n  it('fails when viewport is not set', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: [],\n      FontSize: [],\n      TestedAsMobileDevice: true,\n    };\n\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation)\n      .toBeDisplayString('Text is illegible because there\\'s ' +\n        'no viewport meta tag optimized for mobile screens.');\n  });\n\n  it('fails when less than 60% of text is legible', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 100,\n        failingTextLength: 41,\n        analyzedFailingTextLength: 41,\n        analyzedFailingNodesData: [\n          {nodeId: 1, textLength: 10, fontSize: 10, parentNode: {nodeName: 'p', attributes: []}},\n          {nodeId: 2, textLength: 31, fontSize: 11, parentNode: {nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.displayValue).toBeDisplayString('59% legible text');\n  });\n\n  it('passes when there is no text', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 0,\n        failingTextLength: 0,\n        analyzedFailingTextLength: 0,\n        analyzedFailingNodesData: [\n          {nodeId: 1, textLength: 0, fontSize: 11, parentNode: {nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('passes when more than 60% of text is legible', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 330,\n        failingTextLength: 33,\n        analyzedFailingTextLength: 33,\n        analyzedFailingNodesData: [\n          {nodeId: 1, textLength: 11, fontSize: 10, parentNode: {nodeName: 'p', attributes: []}},\n          {nodeId: 2, textLength: 22, fontSize: 11, parentNode: {nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 1);\n    expect(auditResult.displayValue).toBeDisplayString('90% legible text');\n  });\n\n  it('groups entries with same source, sorts them by coverage', async () => {\n    const style1 = {\n      styleSheetId: 1,\n      type: 'Regular',\n      range: {\n        startLine: 123,\n        startColumn: 10,\n      },\n    };\n    const style2 = {\n      styleSheetId: 1,\n      type: 'Regular',\n      range: {\n        startLine: 0,\n        startColumn: 10,\n      },\n    };\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 7,\n        failingTextLength: 7,\n        analyzedFailingTextLength: 7,\n        analyzedFailingNodesData: [\n          {nodeId: 1, textLength: 3, fontSize: 11, parentNode: {}, cssRule: style1},\n          {nodeId: 2, textLength: 2, fontSize: 10, parentNode: {}, cssRule: style2},\n          {nodeId: 3, textLength: 2, fontSize: 10, parentNode: {}, cssRule: style2},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n    assert.equal(auditResult.details.items[0].coverage, '57.14%');\n    expect(auditResult.displayValue).toBeDisplayString('0% legible text');\n  });\n\n  it('adds a category for failing text that wasn\\'t analyzed', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 100,\n        failingTextLength: 50,\n        analyzedFailingTextLength: 10,\n        analyzedFailingNodesData: [\n          {textLength: 10, fontSize: 10, parentNode: {nodeId: 1, nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 3);\n    assert.equal(auditResult.details.items[1].source.type, 'code');\n    expect(auditResult.details.items[1].source.value).toBeDisplayString('Add\\'l illegible text');\n    assert.equal(auditResult.details.items[1].coverage, '40.00%');\n    expect(auditResult.displayValue).toBeDisplayString('50% legible text');\n  });\n\n  it('informs user if audit haven\\'t covered all text on the page', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 100,\n        failingTextLength: 50,\n        analyzedFailingTextLength: 50,\n        analyzedFailingNodesData: [\n          {textLength: 50, fontSize: 10, parentNode: {nodeId: 1, nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.displayValue).toBeDisplayString('50% legible text');\n  });\n\n  it('maintains 2 trailing decimal places', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 323,\n        failingTextLength: 33,\n        analyzedFailingTextLength: 33,\n        analyzedFailingNodesData: [\n          {textLength: 11, fontSize: 10, parentNode: {nodeId: 1, nodeName: 'p', attributes: []}},\n          {textLength: 22, fontSize: 11, parentNode: {nodeId: 2, nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    expect(auditResult.displayValue).toBeDisplayString('89.78% legible text');\n  });\n\n  it('maintains 2 trailing decimal places with only 1 leading digit', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: makeMetaElements(validViewport),\n      FontSize: {\n        totalTextLength: 323,\n        failingTextLength: 315,\n        analyzedFailingTextLength: 315,\n        analyzedFailingNodesData: [\n          {textLength: 311, fontSize: 10, parentNode: {nodeId: 1, nodeName: 'p', attributes: []}},\n          {textLength: 4, fontSize: 11, parentNode: {nodeId: 2, nodeName: 'p', attributes: []}},\n        ],\n      },\n      TestedAsMobileDevice: true,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    expect(auditResult.displayValue).toBeDisplayString('2.48% legible text');\n  });\n\n  it('is not applicable on desktop', async () => {\n    const artifacts = {\n      URL,\n      MetaElements: [],\n      FontSize: {},\n      TestedAsMobileDevice: false,\n    };\n    const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n    expect(auditResult.score).toBe(1);\n    expect(auditResult.notApplicable).toBe(true);\n  });\n\n  describe('attributes source of style', () => {\n    async function runFontSizeAuditWithSingleFailingStyle(style, nodeProperties) {\n      const artifacts = {\n        URL,\n        MetaElements: makeMetaElements(validViewport),\n        FontSize: {\n          analyzedFailingNodesData: [\n            {textLength: 1, fontSize: 1, parentNode: {...nodeProperties}, cssRule: style},\n          ],\n        },\n        TestedAsMobileDevice: true,\n      };\n      const auditResult = await FontSizeAudit.audit(artifacts, getFakeContext());\n      expect(auditResult.details.items).toHaveLength(1);\n      return auditResult;\n    }\n\n    it('to inline node stylesheet', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        type: 'Inline',\n      }, {\n        parentNode: {attributes: ['id', 'my-parent']},\n        nodeName: 'p',\n        attributes: ['class', 'my-p'],\n      });\n\n      expect(auditResult.details.items[0]).toMatchObject({\n        source: {\n          type: 'url',\n          value: URL.finalUrl,\n        },\n        selector: {\n          type: 'node',\n          selector: '#my-parent',\n          snippet: '<p class=\"my-p\">',\n        },\n      });\n    });\n\n    it('to attributes node stylesheet', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        type: 'Attributes',\n      }, {\n        parentNode: {attributes: ['id', 'my-parent']},\n        nodeName: 'font',\n        attributes: ['size', '10px'],\n      });\n\n      expect(auditResult.details.items[0]).toMatchObject({\n        source: {\n          type: 'url',\n          value: URL.finalUrl,\n        },\n        selector: {\n          type: 'node',\n          selector: '#my-parent',\n          snippet: '<font size=\"10px\">',\n        },\n      });\n    });\n\n    it('to external stylesheet', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        stylesheet: {\n          sourceURL: 'http://www.example.com/styles-1.css',\n        },\n        type: 'Regular',\n        range: {\n          startLine: 50,\n          startColumn: 50,\n        },\n      });\n\n      assert.equal(auditResult.details.items.length, 1);\n      assert.deepEqual(auditResult.details.items[0].source, {\n        type: 'source-location',\n        url: 'http://www.example.com/styles-1.css',\n        urlProvider: 'network',\n        line: 50,\n        column: 50,\n      });\n    });\n\n    it('to inline <style>', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        stylesheet: {\n          sourceURL: 'http://www.example.com',\n          isInline: true,\n          startLine: 5,\n          startColumn: 5,\n        },\n        type: 'Regular',\n        range: {\n          startLine: 10,\n          startColumn: 10,\n        },\n      });\n\n      assert.equal(auditResult.details.items.length, 1);\n      assert.deepEqual(auditResult.details.items[0].source, {\n        type: 'source-location',\n        url: 'http://www.example.com',\n        urlProvider: 'network',\n        line: 15,\n        column: 10,\n      });\n    });\n\n    it('to inline <style> with rule on the same line as <style>', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        stylesheet: {\n          sourceURL: 'http://www.example.com',\n          isInline: true,\n          startLine: 5,\n          startColumn: 5,\n        },\n        type: 'Regular',\n        range: {\n          startLine: 0,\n          startColumn: 10,\n        },\n      });\n\n      assert.equal(auditResult.details.items.length, 1);\n      assert.deepEqual(auditResult.details.items[0].source, {\n        type: 'source-location',\n        url: 'http://www.example.com',\n        urlProvider: 'network',\n        line: 5,\n        column: 15,\n      });\n    });\n\n    it('to inline <style> with magic sourceURL comment', async () => {\n      const auditResult = await runFontSizeAuditWithSingleFailingStyle({\n        stylesheet: {\n          sourceURL: 'something-magical.css',\n          isInline: true,\n          hasSourceURL: true,\n          startLine: 5,\n          startColumn: 5,\n        },\n        type: 'Regular',\n        range: {\n          startLine: 10,\n          startColumn: 10,\n        },\n      });\n\n      assert.equal(auditResult.details.items.length, 1);\n      assert.deepEqual(auditResult.details.items[0].source, {\n        type: 'source-location',\n        url: 'something-magical.css',\n        urlProvider: 'comment',\n        line: 10,\n        column: 10,\n      });\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/service-worker-test.js": {
      "tests": [
        {
          "id": "96",
          "name": "Offline: service worker audit passes when given a controlling service worker",
          "location": {
            "start": {
              "column": 4,
              "line": 70
            }
          }
        },
        {
          "id": "97",
          "name": "Offline: service worker audit fails when controlling service worker is not activated",
          "location": {
            "start": {
              "column": 4,
              "line": 84
            }
          }
        },
        {
          "id": "98",
          "name": "Offline: service worker audit discards service worker registrations for other origins",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "99",
          "name": "Offline: service worker audit fails when page URL is out of scope",
          "location": {
            "start": {
              "column": 4,
              "line": 108
            }
          }
        },
        {
          "id": "100",
          "name": "Offline: service worker audit fails when start_url is out of scope",
          "location": {
            "start": {
              "column": 4,
              "line": 123
            }
          }
        },
        {
          "id": "101",
          "name": "Offline: service worker audit fails when explicit scopeURL puts the page URL out of scope",
          "location": {
            "start": {
              "column": 4,
              "line": 146
            }
          }
        },
        {
          "id": "102",
          "name": "Offline: service worker audit fails when explicit scopeURL puts the start_url out of scope",
          "location": {
            "start": {
              "column": 4,
              "line": 162
            }
          }
        },
        {
          "id": "103",
          "name": "Offline: service worker audit passes when both outside default scope but explicit scopeURL puts it back in",
          "location": {
            "start": {
              "column": 4,
              "line": 179
            }
          }
        },
        {
          "id": "104",
          "name": "Offline: service worker audit passes when multiple SWs control the scope",
          "location": {
            "start": {
              "column": 4,
              "line": 193
            }
          }
        },
        {
          "id": "105",
          "name": "Offline: service worker audit passes when multiple SWs control the origin but only one is in scope",
          "location": {
            "start": {
              "column": 4,
              "line": 210
            }
          }
        },
        {
          "id": "106",
          "name": "Offline: service worker audit fails when multiple SWs control the origin but are all out of scope",
          "location": {
            "start": {
              "column": 4,
              "line": 233
            }
          }
        },
        {
          "id": "107",
          "name": "Offline: service worker audit fails when SW that controls start_url is different than SW that controls page",
          "location": {
            "start": {
              "column": 4,
              "line": 257
            }
          }
        },
        {
          "id": "108",
          "name": "Offline: service worker audit fails when a manifest was not found",
          "location": {
            "start": {
              "column": 4,
              "line": 283
            }
          }
        },
        {
          "id": "109",
          "name": "Offline: service worker audit fails when a manifest is invalid",
          "location": {
            "start": {
              "column": 4,
              "line": 297
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ServiceWorker = require('../../audits/service-worker.js');\nconst URL = require('../../lib/url-shim.js');\nconst manifestParser = require('../../lib/manifest-parser.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nfunction getBaseDirectory(urlStr) {\n  const url = new URL(urlStr);\n  return url.origin + url.pathname.substring(0, url.pathname.lastIndexOf('/') + 1);\n}\n\n/**\n * Create a ServiceWorker artifact from an array of SW config opts.\n * @param {Array<{scriptURL: string, status: string, scopeURL?: string}>} swOpts\n * @return {LH.Artifact['ServiceWorker']}\n */\nfunction createSWArtifact(swOpts) {\n  const artifact = {versions: [], registrations: []};\n  swOpts.forEach((sw, index) => {\n    artifact.versions.push({\n      registrationId: `${index}`,\n      status: sw.status,\n      scriptURL: sw.scriptURL,\n    });\n    const scopeURL = sw.scopeURL || getBaseDirectory(sw.scriptURL);\n    assert.ok(scopeURL.endsWith('/')); // required by SW spec.\n\n    artifact.registrations.push({\n      registrationId: `${index}`,\n      scopeURL,\n    });\n  });\n\n  return artifact;\n}\n\n/**\n * Create a set of artifacts for the ServiceWorker audit.\n * @param {Array<{scriptURL: string, status: string, scopeURL?: string}>} swOpts\n * @param {string} finalUrl\n * @param {{}|string|null} manifestJsonOrObject WebAppManifest object or string or null if no manifest desired.\n */\nfunction createArtifacts(swOpts, finalUrl, manifestJsonOrObject) {\n  const manifestUrl = getBaseDirectory(finalUrl) + 'manifest.json';\n  let WebAppManifest;\n  if (manifestJsonOrObject === null) {\n    WebAppManifest = null;\n  } else {\n    const manifestJson = typeof manifestJsonOrObject === 'object' ?\n      JSON.stringify(manifestJsonOrObject) : manifestJsonOrObject;\n    WebAppManifest = manifestParser(manifestJson, manifestUrl, finalUrl);\n  }\n\n  return {\n    ServiceWorker: createSWArtifact(swOpts),\n    URL: {finalUrl},\n    WebAppManifest,\n  };\n}\n\ndescribe('Offline: service worker audit', () => {\n  it('passes when given a controlling service worker', () => {\n    const finalUrl = 'https://example.com';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 1);\n    assert.deepStrictEqual(output.details.scopeUrl, 'https://example.com/');\n    assert.deepStrictEqual(output.details.scriptUrl, 'https://example.com/sw.js');\n  });\n\n  it('fails when controlling service worker is not activated', () => {\n    const finalUrl = 'https://example.com';\n    const swOpts = [{\n      status: 'redundant',\n      scriptURL: 'https://example.com/sw.js',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 0);\n  });\n\n  it('discards service worker registrations for other origins', () => {\n    const finalUrl = 'https://example.com';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://other-example.com',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 0);\n  });\n\n  it('fails when page URL is out of scope', () => {\n    const finalUrl = 'https://example.com/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/serviceworker/sw.js',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    assert.ok(output.details === undefined);\n    expect(output.explanation).toBeDisplayString('This origin has one or more service workers, ' +\n      'however the page (https://example.com/index.html) is not in scope.');\n  });\n\n  it('fails when start_url is out of scope', () => {\n    const finalUrl = 'https://example.com/serviceworker/index.html';\n    const scriptURL = 'https://example.com/serviceworker/sw.js';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL,\n    }];\n    const startUrl = 'https://example.com/';\n    const manifest = {start_url: startUrl};\n\n    const scopeURL = 'https://example.com/serviceworker/';\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    assert.deepStrictEqual(output.details, {\n      type: 'debugdata',\n      scriptUrl: scriptURL,\n      scopeUrl: scopeURL,\n    });\n    expect(output.explanation).toBeDisplayString('This page is controlled by a service worker, ' +\n      `however the \\`start_url\\` (${startUrl}) is not in the service worker's scope (${scopeURL})`);\n  });\n\n  it('fails when explicit scopeURL puts the page URL out of scope', () => {\n    const finalUrl = 'https://example.com/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n      scopeURL: 'https://example.com/serviceworker/',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    assert.ok(output.details === undefined);\n    expect(output.explanation).toBeDisplayString('This origin has one or more service workers, ' +\n      `however the page (${finalUrl}) is not in scope.`);\n  });\n\n  it('fails when explicit scopeURL puts the start_url out of scope', () => {\n    const finalUrl = 'https://example.com/serviceworker/index.html';\n    const scopeURL = 'https://example.com/serviceworker/';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n      scopeURL,\n    }];\n    const startUrl = 'https://example.com/';\n    const manifest = {start_url: startUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    expect(output.explanation).toBeDisplayString(\n      /service worker,.*\\(.*\\) is not in the service worker's scope \\(.*\\)/);\n  });\n\n  it('passes when both outside default scope but explicit scopeURL puts it back in', () => {\n    const finalUrl = 'https://example.com/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/serviceworker/sw.js',\n      // can happen when 'Service-Worker-Allowed' header widens max scope.\n      scopeURL: 'https://example.com/',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 1);\n  });\n\n  it('passes when multiple SWs control the scope', () => {\n    const finalUrl = 'https://example.com/project/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/sw.js',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 1);\n    assert.deepStrictEqual(output.details.scopeUrl, 'https://example.com/project/');\n    assert.deepStrictEqual(output.details.scriptUrl, 'https://example.com/project/sw.js');\n  });\n\n  it('passes when multiple SWs control the origin but only one is in scope', () => {\n    const finalUrl = 'https://example.com/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n      scopeURL: 'https://example.com/project/',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/sw.js',\n      scopeURL: 'https://example.com/project/',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/subproject/sw.js',\n      scopeURL: 'https://example.com/',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.deepStrictEqual(output.score, 1);\n    assert.deepStrictEqual(output.details.scopeUrl, 'https://example.com/');\n    assert.deepStrictEqual(output.details.scriptUrl, 'https://example.com/project/subproject/sw.js');\n  });\n\n  it('fails when multiple SWs control the origin but are all out of scope', () => {\n    const finalUrl = 'https://example.com/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n      scopeURL: 'https://example.com/project/',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/sw.js',\n      scopeURL: 'https://example.com/project/',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/subproject/sw.js',\n      scopeURL: 'https://example.com/project/',\n    }];\n    const manifest = {start_url: finalUrl};\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    assert.ok(output.details === undefined);\n    expect(output.explanation).toBeDisplayString('This origin has one or more service workers, ' +\n      `however the page (${finalUrl}) is not in scope.`);\n  });\n\n  it('fails when SW that controls start_url is different than SW that controls page', () => {\n    // Tests that most specific SW found for page.\n    const finalUrl = 'https://example.com/project/index.html';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n    }, {\n      status: 'activated',\n      scriptURL: 'https://example.com/project/sw.js',\n    }];\n    const startUrl = 'https://example.com/index.html';\n    const manifest = {start_url: startUrl};\n\n    const scopeURL = 'https://example.com/project/';\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    assert.deepStrictEqual(output.details, {\n      type: 'debugdata',\n      scriptUrl: 'https://example.com/project/sw.js',\n      scopeUrl: scopeURL,\n    });\n    expect(output.explanation).toBeDisplayString('This page is controlled by a service worker, ' +\n      `however the \\`start_url\\` (${startUrl}) is not in the service worker's scope (${scopeURL})`);\n  });\n\n  it('fails when a manifest was not found', () => {\n    const finalUrl = 'https://example.com';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n    }];\n    const manifest = null;\n\n    const output = ServiceWorker.audit(createArtifacts(swOpts, finalUrl, manifest));\n    assert.strictEqual(output.score, 0);\n    expect(output.explanation).toBeDisplayString('This page is controlled by a service worker, ' +\n      'however no `start_url` was found because no manifest was fetched.');\n  });\n\n  it('fails when a manifest is invalid', () => {\n    const finalUrl = 'https://example.com';\n    const swOpts = [{\n      status: 'activated',\n      scriptURL: 'https://example.com/sw.js',\n    }];\n    const artifacts = createArtifacts(swOpts, finalUrl, '{,;}');\n\n    const output = ServiceWorker.audit(artifacts);\n    assert.strictEqual(output.score, 0);\n    expect(output.explanation).toBeDisplayString('This page is controlled by a service worker, ' +\n      'however no `start_url` was found because manifest failed to parse as valid JSON');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/uses-rel-preload-test.js": {
      "tests": [
        {
          "id": "110",
          "name": "Performance: uses-rel-preload audit should suggest preload resource",
          "location": {
            "start": {
              "column": 4,
              "line": 76
            }
          }
        },
        {
          "id": "111",
          "name": "Performance: uses-rel-preload audit should suggest preload for worthy records",
          "location": {
            "start": {
              "column": 4,
              "line": 164
            }
          }
        },
        {
          "id": "112",
          "name": "Performance: uses-rel-preload audit should warn about failed preload attempts",
          "location": {
            "start": {
              "column": 4,
              "line": 175
            }
          }
        },
        {
          "id": "113",
          "name": "Performance: uses-rel-preload audit should not warn about failed preload attempts between frames",
          "location": {
            "start": {
              "column": 4,
              "line": 210
            }
          }
        },
        {
          "id": "114",
          "name": "Performance: uses-rel-preload audit shouldn't suggest preload for already preloaded records",
          "location": {
            "start": {
              "column": 4,
              "line": 247
            }
          }
        },
        {
          "id": "115",
          "name": "Performance: uses-rel-preload audit shouldn't suggest preload for requests in other frames",
          "location": {
            "start": {
              "column": 4,
              "line": 260
            }
          }
        },
        {
          "id": "116",
          "name": "Performance: uses-rel-preload audit shouldn't suggest preload for protocol data",
          "location": {
            "start": {
              "column": 4,
              "line": 270
            }
          }
        },
        {
          "id": "117",
          "name": "Performance: uses-rel-preload audit shouldn't suggest preload for protocol blob",
          "location": {
            "start": {
              "column": 4,
              "line": 283
            }
          }
        },
        {
          "id": "118",
          "name": "Performance: uses-rel-preload audit shouldn't suggest preload for protocol intent",
          "location": {
            "start": {
              "column": 4,
              "line": 295
            }
          }
        },
        {
          "id": "119",
          "name": "Performance: uses-rel-preload audit does not throw on a real trace/devtools log",
          "location": {
            "start": {
              "column": 4,
              "line": 307
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\n'use strict';\n\n/* eslint-env jest */\n\nconst UsesRelPreload = require('../../audits/uses-rel-preload.js');\nconst assert = require('assert').strict;\n\nconst pwaTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\nconst createTestTrace = require('../create-test-trace.js');\n\nconst defaultMainResourceUrl = 'http://www.example.com/';\nconst defaultMainResource = {\n  requestId: '1',\n  url: defaultMainResourceUrl,\n  startTime: 0,\n  priority: 'VeryHigh',\n  timing: {\n    connectStart: 147.848,\n    connectEnd: 180.71,\n    sslStart: 151.87,\n    sslEnd: 180.704,\n    sendStart: 181.443,\n    sendEnd: 181.553,\n    receiveHeadersEnd: 500,\n  },\n};\n\ndescribe('Performance: uses-rel-preload audit', () => {\n  const mockArtifacts = (networkRecords, finalUrl) => {\n    return {\n      traces: {[UsesRelPreload.DEFAULT_PASS]: createTestTrace({traceEnd: 5000})},\n      devtoolsLogs: {[UsesRelPreload.DEFAULT_PASS]: networkRecordsToDevtoolsLog(networkRecords)},\n      URL: {finalUrl},\n    };\n  };\n\n  function getMockNetworkRecords() {\n    const secondRecordUrl = 'http://www.example.com/script.js';\n    return [\n      defaultMainResource,\n      {\n        requestId: '2',\n        startTime: 10,\n        isLinkPreload: false,\n        url: secondRecordUrl,\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: defaultMainResourceUrl,\n        },\n      }, {\n        // Normally this request would be flagged for preloading.\n        requestId: '3',\n        startTime: 20,\n        isLinkPreload: false,\n        url: 'http://www.example.com/a-different-script.js',\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: secondRecordUrl,\n        },\n      },\n    ];\n  }\n\n  it('should suggest preload resource', () => {\n    const rootNodeUrl = 'http://example.com:3000';\n    const mainDocumentNodeUrl = 'http://www.example.com:3000';\n    const scriptNodeUrl = 'http://www.example.com/script.js';\n    const scriptAddedNodeUrl = 'http://www.example.com/script-added.js';\n    const scriptSubNodeUrl = 'http://sub.example.com/script-sub.js';\n    const scriptOtherNodeUrl = 'http://otherdomain.com/script-other.js';\n\n    const networkRecords = [\n      {\n        requestId: '2',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 0,\n        endTime: 0.5,\n        timing: {receiveHeadersEnd: 500},\n        url: rootNodeUrl,\n      },\n      {\n        requestId: '2:redirect',\n        resourceType: 'Document',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 0.5,\n        endTime: 1,\n        timing: {receiveHeadersEnd: 500},\n        url: mainDocumentNodeUrl,\n      },\n      {\n        requestId: '3',\n        resourceType: 'Script',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 1,\n        endTime: 2,\n        timing: {receiveHeadersEnd: 1000},\n        url: scriptNodeUrl,\n        initiator: {type: 'parser', url: mainDocumentNodeUrl},\n      },\n      {\n        requestId: '4',\n        resourceType: 'Script',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 2,\n        endTime: 3.25,\n        timing: {receiveHeadersEnd: 1250},\n        url: scriptAddedNodeUrl,\n        initiator: {type: 'script', url: scriptNodeUrl},\n      },\n      {\n        requestId: '5',\n        resourceType: 'Script',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 2,\n        endTime: 3,\n        timing: {receiveHeadersEnd: 1000},\n        url: scriptSubNodeUrl,\n        initiator: {type: 'script', url: scriptNodeUrl},\n      },\n      {\n        requestId: '6',\n        resourceType: 'Script',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 2,\n        endTime: 3.5,\n        timing: {receiveHeadersEnd: 1500},\n        url: scriptOtherNodeUrl,\n        initiator: {type: 'script', url: scriptNodeUrl},\n      },\n    ];\n\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(\n      output => {\n        assert.equal(output.details.overallSavingsMs, 330);\n        assert.equal(output.details.items.length, 2);\n        assert.equal(output.details.items[0].url, scriptSubNodeUrl);\n        assert.equal(output.details.items[0].wastedMs, 330);\n        assert.equal(output.details.items[1].url, scriptAddedNodeUrl);\n        assert.equal(output.details.items[1].wastedMs, 180);\n      }\n    );\n  });\n\n  it(`should suggest preload for worthy records`, () => {\n    const networkRecords = getMockNetworkRecords();\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(output => {\n      assert.equal(output.details.overallSavingsMs, 314);\n      assert.equal(output.details.items.length, 1);\n    });\n  });\n\n  it(`should warn about failed preload attempts`, async () => {\n    const networkRecords = [\n      ...getMockNetworkRecords(),\n      {\n        requestId: '4',\n        startTime: 10,\n        isLinkPreload: true,\n        url: 'http://www.example.com/preload.css',\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: defaultMainResourceUrl,\n        },\n      },\n      {\n        requestId: '5',\n        startTime: 15,\n        isLinkPreload: false,\n        url: 'http://www.example.com/preload.css',\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: defaultMainResourceUrl,\n        },\n      },\n    ];\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreload.audit(artifacts, context);\n    expect(result.warnings).toHaveLength(1);\n  });\n\n  it(`should not warn about failed preload attempts between frames`, async () => {\n    const networkRecords = [\n      ...getMockNetworkRecords(),\n      {\n        frameId: 'frameA',\n        requestId: '4',\n        startTime: 10,\n        isLinkPreload: true,\n        url: 'http://www.example.com/preload.css',\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: defaultMainResourceUrl,\n        },\n      },\n      {\n        frameId: 'frameB',\n        requestId: '5',\n        startTime: 15,\n        isLinkPreload: false,\n        url: 'http://www.example.com/preload.css',\n        timing: defaultMainResource.timing,\n        priority: 'High',\n        initiator: {\n          type: 'parser',\n          url: defaultMainResourceUrl,\n        },\n      },\n    ];\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreload.audit(artifacts, context);\n    expect(result.warnings).toBeUndefined();\n  });\n\n  it(`shouldn't suggest preload for already preloaded records`, () => {\n    const networkRecords = getMockNetworkRecords();\n    networkRecords[2].isLinkPreload = true;\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(output => {\n      assert.equal(output.score, 1);\n      assert.equal(output.details.overallSavingsMs, 0);\n      assert.equal(output.details.items.length, 0);\n    });\n  });\n\n  it(`shouldn't suggest preload for requests in other frames`, async () => {\n    const networkRecords = getMockNetworkRecords();\n    networkRecords[2].frameId = 'not a matching frame';\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreload.audit(artifacts, context);\n    expect(result).toMatchObject({score: 1, details: {overallSavingsMs: 0, items: []}});\n  });\n\n  it(`shouldn't suggest preload for protocol data`, () => {\n    const networkRecords = getMockNetworkRecords();\n    networkRecords[2].protocol = 'data';\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(output => {\n      assert.equal(output.score, 1);\n      assert.equal(output.details.overallSavingsMs, 0);\n      assert.equal(output.details.items.length, 0);\n    });\n  });\n\n  it(`shouldn't suggest preload for protocol blob`, () => {\n    const networkRecords = getMockNetworkRecords();\n    networkRecords[2].protocol = 'blob';\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(output => {\n      assert.equal(output.numericValue, 0);\n      assert.equal(output.details.items.length, 0);\n    });\n  });\n\n  it(`shouldn't suggest preload for protocol intent`, () => {\n    const networkRecords = getMockNetworkRecords();\n    networkRecords[2].protocol = 'intent';\n\n    const artifacts = mockArtifacts(networkRecords, defaultMainResourceUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    return UsesRelPreload.audit(artifacts, context).then(output => {\n      assert.equal(output.numericValue, 0);\n      assert.equal(output.details.items.length, 0);\n    });\n  });\n\n  it('does not throw on a real trace/devtools log', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://pwa.rocks/'},\n      traces: {\n        [UsesRelPreload.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [UsesRelPreload.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const settings = {throttlingMethod: 'provided'};\n    const context = {settings, computedCache: new Map()};\n    const result = await UsesRelPreload.audit(artifacts, context);\n    assert.equal(result.score, 1);\n    assert.equal(result.numericValue, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/image-size-responsive-test.js": {
      "tests": [
        {
          "id": "120",
          "name": "Images: size audit identifies when an image invalid image",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "121",
          "name": "Images: size audit is empty identifies when an image is empty along width",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "122",
          "name": "Images: size audit is empty identifies when an image is empty along height",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "123",
          "name": "Images: size audit too small to bother testing identifies when an image is too small along width",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "124",
          "name": "Images: size audit too small to bother testing identifies when an image is too small along height",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "125",
          "name": "Images: size audit identifies when an image is an SVG image",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "126",
          "name": "Images: size audit identifies when an image is a css image",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "127",
          "name": "Images: size audit identifies when an image uses object-fit",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "128",
          "name": "Images: size audit identifies when an image uses PixelArt scaling",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "129",
          "name": "Images: size audit identifies when an image uses srcset density descriptor",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "130",
          "name": "Images: size audit visibility identifies when an image has no client area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "131",
          "name": "Images: size audit visibility identifies when an image is above the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "132",
          "name": "Images: size audit visibility identifies when an image is almost above the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "133",
          "name": "Images: size audit visibility identifies when an image is below the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "134",
          "name": "Images: size audit visibility identifies when an image is almost below the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "135",
          "name": "Images: size audit visibility identifies when an image is to the left of the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "136",
          "name": "Images: size audit visibility identifies when an image is almost to the left of the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "137",
          "name": "Images: size audit visibility identifies when an image is to the right of the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "138",
          "name": "Images: size audit visibility identifies when an image is almost to the right of the visible area",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "139",
          "name": "Images: size audit check size DPR = 1 identifies when an image is an icon with right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "140",
          "name": "Images: size audit check size DPR = 1 identifies when an image is an icon with an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "141",
          "name": "Images: size audit check size DPR = 1 identifies when an image has right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "142",
          "name": "Images: size audit check size DPR = 1 identifies when an image has an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "143",
          "name": "Images: size audit check size DPR = 2 identifies when an image is an icon with right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "144",
          "name": "Images: size audit check size DPR = 2 identifies when an image is an icon with an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "145",
          "name": "Images: size audit check size DPR = 2 identifies when an image has right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "146",
          "name": "Images: size audit check size DPR = 2 identifies when an image has an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "148",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image is an icon with right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "148",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image is an icon with right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "149",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image is an icon with an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "151",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image has right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "151",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image has right size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "152",
          "name": "Images: size audit check size DPR = higher than 2 identifies when an image has an invalid size",
          "location": {
            "start": {
              "column": 6,
              "line": 33
            }
          }
        },
        {
          "id": "153",
          "name": "Images: size audit de-dupes images",
          "location": {
            "start": {
              "column": 4,
              "line": 368
            }
          }
        },
        {
          "id": "154",
          "name": "Images: size audit sorts images by size delta",
          "location": {
            "start": {
              "column": 4,
              "line": 394
            }
          }
        },
        {
          "id": "155",
          "name": "Images: size audit shows the right expected size",
          "location": {
            "start": {
              "column": 4,
              "line": 427
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ImageSizeResponsiveAudit = require('../../audits/image-size-responsive.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nconst WIDTH = 800;\nconst HEIGHT = 600;\n\nfunction generateImage(clientSize, naturalSize, props, src = 'https://google.com/logo.png') {\n  const image = {src, mimeType: 'image/png'};\n  const clientRect = {\n    clientRect: {\n      top: 0,\n      bottom: clientSize.displayedHeight,\n      left: 0,\n      right: clientSize.displayedWidth,\n    },\n  };\n  Object.assign(image, clientSize, naturalSize, clientRect, props);\n  return image;\n}\n\ndescribe('Images: size audit', () => {\n  function testImage(condition, data) {\n    const description = `identifies when an image ${condition}`;\n    it(description, () => {\n      const result = ImageSizeResponsiveAudit.audit({\n        ImageElements: [\n          generateImage(\n            {displayedWidth: data.clientSize[0], displayedHeight: data.clientSize[1]},\n            {naturalWidth: data.naturalSize[0], naturalHeight: data.naturalSize[1]},\n            data.props\n          ),\n        ],\n        ViewportDimensions: {\n          innerWidth: WIDTH,\n          innerHeight: HEIGHT,\n          devicePixelRatio: data.devicePixelRatio || 1,\n        },\n      });\n      let details = '';\n      if (result.score === 0) {\n        const {displayedSize: displayed, actualSize: actual, expectedSize: expected} =\n            result.details.items[0];\n        details = ` (displayed: ${displayed}, actual: ${actual}, expected: ${expected})`;\n      }\n      assert.strictEqual(result.score, data.score, `score does not match${details}`);\n    });\n  }\n\n  testImage('invalid image', {\n    score: 0,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n  });\n\n  describe('is empty', () => {\n    testImage('is empty along width', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [0, 5],\n    });\n\n    testImage('is empty along height', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 0],\n    });\n  });\n\n  describe('too small to bother testing', () => {\n    testImage('is too small along width', {\n      score: 1,\n      clientSize: [1, 100],\n      naturalSize: [5, 5],\n    });\n\n    testImage('is too small along height', {\n      score: 1,\n      clientSize: [100, 1],\n      naturalSize: [5, 5],\n    });\n  });\n\n  testImage('is an SVG image', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n    props: {\n      mimeType: 'image/svg+xml',\n    },\n  });\n\n  testImage('is a css image', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n    props: {\n      isCss: true,\n    },\n  });\n\n  testImage('uses object-fit', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n    props: {\n      usesObjectFit: true,\n    },\n  });\n\n  testImage('uses PixelArt scaling', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n    props: {\n      usesPixelArtScaling: true,\n    },\n  });\n\n  testImage('uses srcset density descriptor', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [5, 5],\n    props: {\n      usesSrcSetDensityDescriptor: true,\n    },\n  });\n\n  describe('visibility', () => {\n    testImage('has no client area', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: 0,\n          bottom: 0,\n          left: 0,\n          right: 0,\n        },\n      },\n    });\n\n    testImage('is above the visible area', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: -1 - 100,\n          bottom: -1,\n          left: 0,\n          right: 100,\n        },\n      },\n    });\n\n    testImage('is almost above the visible area', {\n      score: 0,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: - 100,\n          bottom: 0,\n          left: 0,\n          right: 100,\n        },\n      },\n    });\n\n    testImage('is below the visible area', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: HEIGHT + 1,\n          bottom: HEIGHT + 1 + 100,\n          left: 0,\n          right: 100,\n        },\n      },\n    });\n\n    testImage('is almost below the visible area', {\n      score: 0,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: HEIGHT,\n          bottom: HEIGHT + 100,\n          left: 0,\n          right: 100,\n        },\n      },\n    });\n\n    testImage('is to the left of the visible area', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: 0,\n          bottom: 100,\n          left: -1 - 100,\n          right: -1,\n        },\n      },\n    });\n\n    testImage('is almost to the left of the visible area', {\n      score: 0,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: 0,\n          bottom: 100,\n          left: -100,\n          right: 0,\n        },\n      },\n    });\n\n    testImage('is to the right of the visible area', {\n      score: 1,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: 0,\n          bottom: 100,\n          left: WIDTH + 1,\n          right: WIDTH + 1 + 100,\n        },\n      },\n    });\n\n    testImage('is almost to the right of the visible area', {\n      score: 0,\n      clientSize: [100, 100],\n      naturalSize: [5, 5],\n      props: {\n        clientRect: {\n          top: 0,\n          bottom: 100,\n          left: WIDTH,\n          right: WIDTH + 100,\n        },\n      },\n    });\n  });\n\n  describe('check size', () => {\n    describe('DPR = 1', () => {\n      testImage('is an icon with right size', {\n        score: 1,\n        clientSize: [64, 64],\n        naturalSize: [64, 64],\n      });\n\n      testImage('is an icon with an invalid size', {\n        score: 0,\n        clientSize: [64, 64],\n        naturalSize: [63, 63],\n      });\n\n      testImage('has right size', {\n        score: 1,\n        clientSize: [65, 65],\n        naturalSize: [49, 49],\n      });\n\n      testImage('has an invalid size', {\n        score: 0,\n        clientSize: [65, 65],\n        naturalSize: [48, 48],\n      });\n    });\n\n    describe('DPR = 2', () => {\n      testImage('is an icon with right size', {\n        score: 1,\n        clientSize: [64, 64],\n        naturalSize: [128, 128],\n        devicePixelRatio: 2,\n      });\n\n      testImage('is an icon with an invalid size', {\n        score: 0,\n        clientSize: [64, 64],\n        naturalSize: [127, 127],\n        devicePixelRatio: 2,\n      });\n\n      testImage('has right size', {\n        score: 1,\n        clientSize: [65, 65],\n        naturalSize: [98, 98],\n        devicePixelRatio: 2,\n      });\n\n      testImage('has an invalid size', {\n        score: 0,\n        clientSize: [65, 65],\n        naturalSize: [97, 97],\n        devicePixelRatio: 2,\n      });\n    });\n\n    describe('DPR = higher than 2', () => {\n      testImage('is an icon with right size', {\n        score: 1,\n        clientSize: [64, 64],\n        naturalSize: [128, 128],\n        devicePixelRatio: 2.625,\n\n      });\n\n      testImage('is an icon with right size', {\n        score: 1,\n        clientSize: [64, 64],\n        naturalSize: [128, 128],\n        devicePixelRatio: 3,\n      });\n\n      testImage('is an icon with an invalid size', {\n        score: 0,\n        clientSize: [64, 64],\n        naturalSize: [127, 127],\n        devicePixelRatio: 2.625,\n      });\n\n      testImage('has right size', {\n        score: 1,\n        clientSize: [65, 65],\n        naturalSize: [98, 98],\n        devicePixelRatio: 2.625,\n      });\n\n      testImage('has right size', {\n        score: 1,\n        clientSize: [65, 65],\n        naturalSize: [98, 98],\n        devicePixelRatio: 3,\n      });\n\n      testImage('has an invalid size', {\n        score: 0,\n        clientSize: [65, 65],\n        naturalSize: [97, 97],\n        devicePixelRatio: 2.625,\n      });\n    });\n  });\n\n  it('de-dupes images', () => {\n    const result = ImageSizeResponsiveAudit.audit({\n      ImageElements: [\n        generateImage(\n          {displayedWidth: 80, displayedHeight: 40},\n          {naturalWidth: 40, naturalHeight: 20}\n        ),\n        generateImage(\n          {displayedWidth: 160, displayedHeight: 80},\n          {naturalWidth: 40, naturalHeight: 20}\n        ),\n        generateImage(\n          {displayedWidth: 60, displayedHeight: 30},\n          {naturalWidth: 40, naturalHeight: 20}\n        ),\n      ],\n      ViewportDimensions: {\n        innerWidth: WIDTH,\n        innerHeight: HEIGHT,\n        devicePixelRatio: 1,\n      },\n    });\n    assert.equal(result.details.items.length, 1);\n    assert.equal(result.details.items[0].expectedSize, '160 x 80');\n  });\n\n  it('sorts images by size delta', () => {\n    const result = ImageSizeResponsiveAudit.audit({\n      ImageElements: [\n        generateImage(\n          {displayedWidth: 80, displayedHeight: 40},\n          {naturalWidth: 40, naturalHeight: 20},\n          {},\n          'image1.png'\n        ),\n        generateImage(\n          {displayedWidth: 120, displayedHeight: 60},\n          {naturalWidth: 40, naturalHeight: 20},\n          {},\n          'image2.png'\n        ),\n        generateImage(\n          {displayedWidth: 90, displayedHeight: 45},\n          {naturalWidth: 40, naturalHeight: 20},\n          {},\n          'image3.png'\n        ),\n      ],\n      ViewportDimensions: {\n        innerWidth: WIDTH,\n        innerHeight: HEIGHT,\n        devicePixelRatio: 1,\n      },\n    });\n    assert.equal(result.details.items.length, 3);\n    const srcs = result.details.items.map(item => item.url);\n    assert.deepEqual(srcs, ['image2.png', 'image3.png', 'image1.png']);\n  });\n\n  it('shows the right expected size', () => {\n    const result = ImageSizeResponsiveAudit.audit({\n      ImageElements: [\n        generateImage(\n          {displayedWidth: 80, displayedHeight: 40},\n          {naturalWidth: 40, naturalHeight: 20}\n        ),\n      ],\n      ViewportDimensions: {\n        innerWidth: WIDTH,\n        innerHeight: HEIGHT,\n        devicePixelRatio: 2.71,\n      },\n    });\n    assert.equal(result.details.items.length, 1);\n    assert.equal(result.details.items[0].expectedSize, '160 x 80');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/is-crawlable-test.js": {
      "tests": [
        {
          "id": "156",
          "name": "SEO: Is page crawlable audit fails when page is blocked from indexing with a robots metatag",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "157",
          "name": "SEO: Is page crawlable audit succeeds when there are no blocking directives in the metatag",
          "location": {
            "start": {
              "column": 4,
              "line": 52
            }
          }
        },
        {
          "id": "158",
          "name": "SEO: Is page crawlable audit succeeds when there is no robots metatag",
          "location": {
            "start": {
              "column": 4,
              "line": 73
            }
          }
        },
        {
          "id": "159",
          "name": "SEO: Is page crawlable audit fails when page is blocked from indexing with a header",
          "location": {
            "start": {
              "column": 4,
              "line": 93
            }
          }
        },
        {
          "id": "160",
          "name": "SEO: Is page crawlable audit succeeds when there are no blocking directives in the robots header",
          "location": {
            "start": {
              "column": 4,
              "line": 140
            }
          }
        },
        {
          "id": "161",
          "name": "SEO: Is page crawlable audit succeeds when there is no robots header and robots.txt is unavailable",
          "location": {
            "start": {
              "column": 4,
              "line": 163
            }
          }
        },
        {
          "id": "162",
          "name": "SEO: Is page crawlable audit ignores UA specific directives",
          "location": {
            "start": {
              "column": 4,
              "line": 183
            }
          }
        },
        {
          "id": "163",
          "name": "SEO: Is page crawlable audit fails when page is blocked from indexing by robots.txt",
          "location": {
            "start": {
              "column": 4,
              "line": 206
            }
          }
        },
        {
          "id": "164",
          "name": "SEO: Is page crawlable audit succeeds when page is allowed by robots.txt",
          "location": {
            "start": {
              "column": 4,
              "line": 258
            }
          }
        },
        {
          "id": "165",
          "name": "SEO: Is page crawlable audit returns all failing items",
          "location": {
            "start": {
              "column": 4,
              "line": 296
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst IsCrawlableAudit = require('../../../audits/seo/is-crawlable.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('SEO: Is page crawlable audit', () => {\n  const makeMetaElements = content => [{name: 'robots', content}];\n\n  it('fails when page is blocked from indexing with a robots metatag', () => {\n    const robotsValues = [\n      'noindex',\n      'none',\n      'foo, noindex, bar',\n      'all, none, all',\n      '     noindex      ',\n      'unavailable_after: 25 Jun 2010 15:00:00 PST',\n      ' Unavailable_after: 25-Aug-2007 15:00:00 EST',\n    ];\n\n    const allRuns = robotsValues.map(robotsValue => {\n      const finalUrl = 'https://example.com/';\n      const mainResource = {\n        url: finalUrl,\n        responseHeaders: [],\n      };\n      const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n      const artifacts = {\n        devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n        URL: {finalUrl},\n        MetaElements: makeMetaElements(robotsValue),\n        RobotsTxt: {},\n      };\n\n      const context = {computedCache: new Map()};\n      return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n        assert.equal(auditResult.score, 0);\n        assert.equal(auditResult.details.items.length, 1);\n      });\n    });\n\n    return Promise.all(allRuns);\n  });\n\n  it('succeeds when there are no blocking directives in the metatag', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      requestMainResource: () => Promise.resolve(mainResource),\n      MetaElements: makeMetaElements('all, noarchive'),\n      RobotsTxt: {},\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('succeeds when there is no robots metatag', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      MetaElements: [],\n      RobotsTxt: {},\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('fails when page is blocked from indexing with a header', () => {\n    const robotsHeaders = [\n      [\n        {name: 'x-robots-tag', value: 'noindex'},\n      ],\n      [\n        {name: 'X-Robots-Tag', value: 'all'},\n        {name: 'x-robots-tag', value: 'none'},\n      ],\n      [\n        {name: 'X-ROBOTS-TAG', value: 'all, none'},\n      ],\n      [\n        {name: 'x-robots-tag', value: '    noindex    '},\n      ],\n      [\n        {name: 'x-robots-tag', value: 'unavailable_after: 25 Jun 2010 15:00:00 PST'},\n      ],\n      [\n        {name: 'x-robots-tag', value: 'all, unavailable_after: 25-Jun-2010 15:00:00 PST'},\n      ],\n    ];\n\n    const allRuns = robotsHeaders.map(headers => {\n      const finalUrl = 'https://example.com/';\n      const mainResource = {\n        url: finalUrl,\n        responseHeaders: headers,\n      };\n      const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n      const artifacts = {\n        devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n        URL: {finalUrl},\n        MetaElements: [],\n        RobotsTxt: {},\n      };\n\n      const context = {computedCache: new Map()};\n      return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n        assert.equal(auditResult.score, 0);\n        assert.equal(auditResult.details.items.length, 1);\n      });\n    });\n\n    return Promise.all(allRuns);\n  });\n\n  it('succeeds when there are no blocking directives in the robots header', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [\n        {name: 'X-Robots-Tag', value: 'all, nofollow'},\n        {name: 'X-Robots-Tag', value: 'unavailable_after: 25 Jun 2045 15:00:00 PST'},\n      ],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      MetaElements: [],\n      RobotsTxt: {},\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('succeeds when there is no robots header and robots.txt is unavailable', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      MetaElements: [],\n      RobotsTxt: {},\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('ignores UA specific directives', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [\n        {name: 'x-robots-tag', value: 'googlebot: unavailable_after: 25 Jun 2007 15:00:00 PST'},\n        {name: 'x-robots-tag', value: 'unavailable_after: 25 Jun 2045 15:00:00 PST'},\n      ],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      MetaElements: [],\n      RobotsTxt: {},\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('fails when page is blocked from indexing by robots.txt', () => {\n    const robotsTxts = [\n      {\n        content: `User-agent: *\n        Disallow: /`,\n      },\n      {\n        content: `User-agent: *\n        Disallow: /test/page.html`,\n      },\n      {\n        content: `User-agent: *\n        Disallow:\n\n        User-agent: *\n        Disallow: /`,\n      },\n      {\n        content: `User-agent: *\n        Disallow: /one/\n        Disallow: /two/\n        Disallow: /test/\n        Allow: page.html\n        # Allow: /test/page.html\n        Allow: /test/page.html /someother/url.html`,\n      },\n    ];\n\n    const allRuns = robotsTxts.map(robotsTxt => {\n      const finalUrl = 'http://example.com/test/page.html';\n      const mainResource = {\n        url: finalUrl,\n        responseHeaders: [],\n      };\n      const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n      const artifacts = {\n        devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n        URL: {finalUrl},\n        MetaElements: [],\n        RobotsTxt: robotsTxt,\n      };\n\n      const context = {computedCache: new Map()};\n      return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n        assert.equal(auditResult.score, 0);\n        assert.equal(auditResult.details.items.length, 1);\n      });\n    });\n\n    return Promise.all(allRuns);\n  });\n\n  it('succeeds when page is allowed by robots.txt', () => {\n    const robotsTxts = [\n      {\n        content: `User-agent: SomeBot\n        Disallow: /`,\n      },\n      {\n        content: `User-agent: *\n        Disallow: /_/\n        Disallow: /search?q=*\n        Disallow: /test/\n        Allow: /test/page.html`,\n      },\n    ];\n\n    const allRuns = robotsTxts.map(robotsTxt => {\n      const finalUrl = 'http://example.com/test/page.html';\n      const mainResource = {\n        url: finalUrl,\n        responseHeaders: [],\n      };\n      const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n      const artifacts = {\n        devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n        URL: {finalUrl},\n        MetaElements: [],\n        RobotsTxt: robotsTxt,\n      };\n\n      const context = {computedCache: new Map()};\n      return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n        assert.equal(auditResult.score, 1);\n      });\n    });\n\n    return Promise.all(allRuns);\n  });\n\n  it('returns all failing items', () => {\n    const finalUrl = 'http://example.com/test/page.html';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [\n        {name: 'x-robots-tag', value: 'none'},\n        {name: 'x-robots-tag', value: 'noindex'},\n      ],\n    };\n    const robotsTxt = {\n      content: `User-agent: *\n      Disallow: /`,\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[IsCrawlableAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      MetaElements: makeMetaElements('noindex'),\n      RobotsTxt: robotsTxt,\n    };\n\n    const context = {computedCache: new Map()};\n    return IsCrawlableAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 0);\n      assert.equal(auditResult.details.items.length, 4);\n\n      expect(auditResult.details.items).toMatchInlineSnapshot(`\n        Array [\n          Object {\n            \"source\": Object {\n              \"snippet\": \"<meta name=\\\\\"robots\\\\\" content=\\\\\"noindex\\\\\" />\",\n              \"type\": \"node\",\n            },\n          },\n          Object {\n            \"source\": \"x-robots-tag: none\",\n          },\n          Object {\n            \"source\": \"x-robots-tag: noindex\",\n          },\n          Object {\n            \"source\": Object {\n              \"column\": 0,\n              \"line\": 1,\n              \"type\": \"source-location\",\n              \"url\": \"http://example.com/robots.txt\",\n              \"urlProvider\": \"network\",\n            },\n          },\n        ]\n      `);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/uses-rel-preconnect-test.js": {
      "tests": [
        {
          "id": "166",
          "name": "Performance: uses-rel-preconnect audit shouldn't suggest preconnect for same origin",
          "location": {
            "start": {
              "column": 4,
              "line": 39
            }
          }
        },
        {
          "id": "167",
          "name": "Performance: uses-rel-preconnect audit shouldn't suggest preconnect when initiator is main resource",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        },
        {
          "id": "168",
          "name": "Performance: uses-rel-preconnect audit shouldn't suggest non http(s) protocols as preconnect",
          "location": {
            "start": {
              "column": 4,
              "line": 77
            }
          }
        },
        {
          "id": "169",
          "name": "Performance: uses-rel-preconnect audit shouldn't suggest preconnect when already connected to the origin",
          "location": {
            "start": {
              "column": 4,
              "line": 95
            }
          }
        },
        {
          "id": "170",
          "name": "Performance: uses-rel-preconnect audit shouldn't suggest preconnect when request has been fired after 15s",
          "location": {
            "start": {
              "column": 4,
              "line": 119
            }
          }
        },
        {
          "id": "171",
          "name": "Performance: uses-rel-preconnect audit warns when origin has preconnect directive but not used",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "172",
          "name": "Performance: uses-rel-preconnect audit should only list an origin once",
          "location": {
            "start": {
              "column": 4,
              "line": 166
            }
          }
        },
        {
          "id": "173",
          "name": "Performance: uses-rel-preconnect audit should give a list of important preconnected origins",
          "location": {
            "start": {
              "column": 4,
              "line": 203
            }
          }
        },
        {
          "id": "174",
          "name": "Performance: uses-rel-preconnect audit should pass if the correct number of preconnects found",
          "location": {
            "start": {
              "column": 4,
              "line": 258
            }
          }
        },
        {
          "id": "175",
          "name": "Performance: uses-rel-preconnect audit should pass with a warning if too many preconnects found",
          "location": {
            "start": {
              "column": 4,
              "line": 301
            }
          }
        },
        {
          "id": "176",
          "name": "Performance: uses-rel-preconnect audit should pass with a warning if the page preconnects to an origin that isnt used",
          "location": {
            "start": {
              "column": 4,
              "line": 332
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\n'use strict';\n\n/* eslint-env jest */\n\nconst UsesRelPreconnect = require('../../audits/uses-rel-preconnect.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\nconst createTestTrace = require('../create-test-trace.js');\n\nconst mainResource = {\n  url: 'https://www.example.com/',\n  timing: {receiveHeadersEnd: 0.5},\n  endTime: 1,\n};\n\nfunction buildArtifacts(networkRecords) {\n  const trace = createTestTrace({\n    timeOrigin: 0,\n    largestContentfulPaint: 5000,\n    topLevelTasks: [{ts: 1000, duration: 50}],\n  });\n  const devtoolsLog = networkRecordsToDevtoolsLog(networkRecords);\n\n  return {\n    LinkElements: [],\n    URL: {finalUrl: mainResource.url},\n    devtoolsLogs: {defaultPass: devtoolsLog},\n    traces: {defaultPass: trace},\n  };\n}\n\ndescribe('Performance: uses-rel-preconnect audit', () => {\n  it(`shouldn't suggest preconnect for same origin`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://www.example.com/request',\n        timing: {receiveHeadersEnd: 3},\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(score, 1);\n    assert.equal(numericValue, 0);\n    assert.equal(details.items.length, 0);\n  });\n\n  it(`shouldn't suggest preconnect when initiator is main resource`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn.example.com/request',\n        initiator: {\n          type: 'parser',\n          url: mainResource.url,\n        },\n        timing: {receiveHeadersEnd: 3},\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(score, 1);\n    assert.equal(numericValue, 0);\n    assert.equal(details.items.length, 0);\n  });\n\n  it(`shouldn't suggest non http(s) protocols as preconnect`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'data:text/plain;base64,hello',\n        initiator: {},\n        timing: {receiveHeadersEnd: 3},\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(score, 1);\n    assert.equal(numericValue, 0);\n    assert.equal(details.items.length, 0);\n  });\n\n  it(`shouldn't suggest preconnect when already connected to the origin`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn.example.com/request',\n        initiator: {},\n        timing: {\n          dnsStart: -1,\n          dnsEnd: -1,\n          connectEnd: -1,\n          connectStart: -1,\n          receiveHeadersEnd: 3,\n        },\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(score, 1);\n    assert.equal(numericValue, 0);\n    assert.equal(details.items.length, 0);\n  });\n\n  it(`shouldn't suggest preconnect when request has been fired after 15s`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn.example.com/request',\n        initiator: {},\n        startTime: 16,\n        timing: {receiveHeadersEnd: 20},\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(score, 1);\n    assert.equal(numericValue, 0);\n    assert.equal(details.items.length, 0);\n  });\n\n  it(`warns when origin has preconnect directive but not used`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn.example.com/request',\n        initiator: {},\n        startTime: 2,\n        timing: {\n          dnsStart: 100,\n          connectStart: 150,\n          connectEnd: 300,\n          receiveHeadersEnd: 2.3,\n        },\n      },\n    ];\n\n    const artifacts = {\n      ...buildArtifacts(networkRecords),\n      LinkElements: [{rel: 'preconnect', href: 'https://cdn.example.com/'}],\n    };\n\n    const context = {settings: {}, computedCache: new Map()};\n    const {score, warnings} = await UsesRelPreconnect.audit(artifacts, context);\n    expect(score).toBe(1);\n    expect(warnings).toHaveLength(1);\n    expect(warnings[0]).toBeDisplayString(/cdn.example.com.*not used/);\n  });\n\n  it(`should only list an origin once`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn.example.com/first',\n        initiator: {},\n        startTime: 2,\n        timing: {\n          dnsStart: 100,\n          connectStart: 150,\n          connectEnd: 300,\n          receiveHeadersEnd: 2.3,\n        },\n      },\n      {\n        url: 'https://cdn.example.com/second',\n        initiator: {},\n        startTime: 3,\n        timing: {\n          dnsStart: 300,\n          connectStart: 350,\n          connectEnd: 400,\n          receiveHeadersEnd: 3.4,\n        },\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {numericValue, details} = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(numericValue, 300);\n    assert.equal(details.items.length, 1);\n    assert.deepStrictEqual(details.items, [\n      {url: 'https://cdn.example.com', wastedMs: 300},\n    ]);\n  });\n\n  it(`should give a list of important preconnected origins`, async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'http://cdn.example.com/first',\n        initiator: {},\n        startTime: 2,\n        timing: {\n          dnsStart: 100,\n          connectStart: 250,\n          connectEnd: 300,\n          receiveHeadersEnd: 2.3,\n        },\n      },\n      {\n        url: 'https://othercdn.example.com/second',\n        initiator: {},\n        startTime: 1.2,\n        timing: {\n          dnsStart: 100,\n          connectStart: 200,\n          connectEnd: 600,\n          receiveHeadersEnd: 1.8,\n        },\n      },\n      {\n        url: 'https://unimportant.example.com/second',\n        initiator: {},\n        startTime: 6,\n        endTime: 8, // ends *after* LCP\n        timing: {\n          dnsStart: 100,\n          connectStart: 200,\n          connectEnd: 600,\n          receiveHeadersEnd: 1.8,\n        },\n      },\n    ];\n\n    const artifacts = buildArtifacts(networkRecords);\n    const context = {settings: {}, computedCache: new Map()};\n    const {\n      numericValue,\n      details,\n      warnings,\n    } = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(numericValue, 300);\n    assert.equal(details.items.length, 2);\n    assert.deepStrictEqual(details.items, [\n      {url: 'https://othercdn.example.com', wastedMs: 300},\n      {url: 'http://cdn.example.com', wastedMs: 150},\n    ]);\n    assert.equal(warnings.length, 0);\n  });\n\n  it('should pass if the correct number of preconnects found', async () => {\n    const networkRecords = [\n      mainResource,\n      {\n        url: 'https://cdn1.example.com/first',\n        initiator: {},\n        startTime: 2,\n        timing: {\n          dnsStart: 100,\n          dnsEnd: 100,\n          connectStart: 250,\n          connectEnd: 250,\n          receiveHeadersEnd: 2.3,\n        },\n      },\n      {\n        url: 'https://cdn2.example.com/first',\n        initiator: {},\n        startTime: 2,\n        timing: {\n          dnsStart: 100,\n          dnsEnd: 100,\n          connectStart: 250,\n          connectEnd: 250,\n          receiveHeadersEnd: 2.3,\n        },\n      },\n    ];\n\n    const artifacts = {\n      ...buildArtifacts(networkRecords),\n      LinkElements: [\n        {rel: 'preconnect', href: 'https://cdn1.example.com/'},\n        {rel: 'preconnect', href: 'https://cdn2.example.com/'},\n      ],\n    };\n\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(result.score, 1);\n    assert.deepStrictEqual(result.warnings, []);\n  });\n\n  it('should pass with a warning if too many preconnects found', async () => {\n    const timing = {\n      dnsStart: 100,\n      dnsEnd: 100,\n      connectStart: 250,\n      connectEnd: 250,\n      receiveHeadersEnd: 2.1,\n    };\n\n    const networkRecords = [\n      mainResource,\n      {url: 'https://cdn1.example.com/first', initiator: {}, startTime: 2, timing},\n      {url: 'https://cdn2.example.com/first', initiator: {}, startTime: 2, timing},\n      {url: 'https://cdn3.example.com/first', initiator: {}, startTime: 2, timing},\n    ];\n\n    const artifacts = {\n      ...buildArtifacts(networkRecords),\n      LinkElements: [\n        {rel: 'preconnect', href: 'https://cdn1.example.com/'},\n        {rel: 'preconnect', href: 'https://cdn2.example.com/'},\n        {rel: 'preconnect', href: 'https://cdn3.example.com/'},\n      ],\n    };\n\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(result.score, 1);\n    assert.equal(result.warnings.length, 1);\n  });\n\n  it('should pass with a warning if the page preconnects to an origin that isnt used', async () => {\n    const artifacts = {\n      ...buildArtifacts([mainResource]),\n      LinkElements: [\n        {rel: 'preconnect', href: 'https://definitely-not-used.example.com/'},\n      ],\n    };\n\n    const context = {settings: {}, computedCache: new Map()};\n    const result = await UsesRelPreconnect.audit(artifacts, context);\n    assert.equal(result.score, 1);\n    assert.equal(result.warnings.length, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/audit-test.js": {
      "tests": [
        {
          "id": "177",
          "name": "Audit throws if an audit does not override the meta",
          "location": {
            "start": {
              "column": 4,
              "line": 48
            }
          }
        },
        {
          "id": "178",
          "name": "Audit does not throw if an audit overrides the meta",
          "location": {
            "start": {
              "column": 4,
              "line": 52
            }
          }
        },
        {
          "id": "179",
          "name": "Audit throws if an audit does not override audit()",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        },
        {
          "id": "180",
          "name": "Audit does not throw if an audit overrides audit()",
          "location": {
            "start": {
              "column": 4,
              "line": 60
            }
          }
        },
        {
          "id": "181",
          "name": "Audit generateAuditResult scoreDisplayMode defaults to BINARY scoring when no scoreDisplayMode is set",
          "location": {
            "start": {
              "column": 8,
              "line": 66
            }
          }
        },
        {
          "id": "182",
          "name": "Audit generateAuditResult scoreDisplayMode does not override scoreDisplayMode and is scored when it is NUMERIC",
          "location": {
            "start": {
              "column": 8,
              "line": 73
            }
          }
        },
        {
          "id": "183",
          "name": "Audit generateAuditResult scoreDisplayMode switches to an ERROR and is not scored if an errorMessage is passed in",
          "location": {
            "start": {
              "column": 8,
              "line": 80
            }
          }
        },
        {
          "id": "184",
          "name": "Audit generateAuditResult scoreDisplayMode switches to an ERROR and is not scored if an errorMessage is passed in with null",
          "location": {
            "start": {
              "column": 8,
              "line": 89
            }
          }
        },
        {
          "id": "185",
          "name": "Audit generateAuditResult scoreDisplayMode switches to NOT_APPLICABLE and is not scored if product was marked notApplicable",
          "location": {
            "start": {
              "column": 8,
              "line": 98
            }
          }
        },
        {
          "id": "186",
          "name": "Audit generateAuditResult throws if an audit returns a score > 1",
          "location": {
            "start": {
              "column": 6,
              "line": 107
            }
          }
        },
        {
          "id": "187",
          "name": "Audit generateAuditResult throws if an audit returns a score < 0",
          "location": {
            "start": {
              "column": 6,
              "line": 112
            }
          }
        },
        {
          "id": "188",
          "name": "Audit generateAuditResult throws if an audit returns a score that's not a number",
          "location": {
            "start": {
              "column": 6,
              "line": 117
            }
          }
        },
        {
          "id": "189",
          "name": "Audit generateAuditResult throws if an audit does not return a result with a score",
          "location": {
            "start": {
              "column": 6,
              "line": 123
            }
          }
        },
        {
          "id": "190",
          "name": "Audit generateAuditResult clamps the score to two decimals",
          "location": {
            "start": {
              "column": 6,
              "line": 127
            }
          }
        },
        {
          "id": "191",
          "name": "Audit generateAuditResult chooses the title if score is passing",
          "location": {
            "start": {
              "column": 6,
              "line": 132
            }
          }
        },
        {
          "id": "192",
          "name": "Audit generateAuditResult chooses the failureTitle if score is failing",
          "location": {
            "start": {
              "column": 6,
              "line": 138
            }
          }
        },
        {
          "id": "193",
          "name": "Audit generateAuditResult chooses the title if audit is not scored due to scoreDisplayMode",
          "location": {
            "start": {
              "column": 6,
              "line": 144
            }
          }
        },
        {
          "id": "194",
          "name": "Audit sets state of non-applicable audits",
          "location": {
            "start": {
              "column": 4,
              "line": 152
            }
          }
        },
        {
          "id": "195",
          "name": "Audit sets state of failed audits",
          "location": {
            "start": {
              "column": 4,
              "line": 159
            }
          }
        },
        {
          "id": "196",
          "name": "Audit makeSnippetDetails Transforms code to lines array",
          "location": {
            "start": {
              "column": 6,
              "line": 169
            }
          }
        },
        {
          "id": "197",
          "name": "Audit makeSnippetDetails Truncates long lines",
          "location": {
            "start": {
              "column": 6,
              "line": 184
            }
          }
        },
        {
          "id": "198",
          "name": "Audit makeSnippetDetails Limits the number of lines if there are no line messages",
          "location": {
            "start": {
              "column": 6,
              "line": 200
            }
          }
        },
        {
          "id": "199",
          "name": "Audit makeSnippetDetails Does not omit lines if fewer than 4 lines would be omitted",
          "location": {
            "start": {
              "column": 6,
              "line": 213
            }
          }
        },
        {
          "id": "200",
          "name": "Audit makeSnippetDetails Limits the number of lines around line messages",
          "location": {
            "start": {
              "column": 6,
              "line": 235
            }
          }
        },
        {
          "id": "201",
          "name": "Audit makeListDetails Generates list details",
          "location": {
            "start": {
              "column": 6,
              "line": 264
            }
          }
        },
        {
          "id": "202",
          "name": "Audit #computeLogNormalScore clamps the score to two decimal places",
          "location": {
            "start": {
              "column": 6,
              "line": 275
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/audit.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\n// Extend the Audit class but fail to implement meta. It should throw errors.\nclass A extends Audit {}\nclass B extends Audit {\n  static get meta() {\n    return {};\n  }\n\n  static audit() {}\n}\n\nclass PassOrFailAudit extends Audit {\n  static get meta() {\n    return {\n      id: 'pass-or-fail',\n      title: 'Passing',\n      failureTitle: 'Failing',\n      description: 'A pass or fail audit',\n      requiredArtifacts: [],\n    };\n  }\n}\n\nclass NumericAudit extends Audit {\n  static get meta() {\n    return {\n      id: 'numeric-time',\n      title: 'Numbersssss',\n      description: '01000000001011011111100001010100',\n      requiredArtifacts: [],\n      scoreDisplayMode: Audit.SCORING_MODES.NUMERIC,\n    };\n  }\n}\n\ndescribe('Audit', () => {\n  it('throws if an audit does not override the meta', () => {\n    assert.throws(_ => A.meta);\n  });\n\n  it('does not throw if an audit overrides the meta', () => {\n    assert.doesNotThrow(_ => B.meta);\n  });\n\n  it('throws if an audit does not override audit()', () => {\n    assert.throws(_ => A.audit());\n  });\n\n  it('does not throw if an audit overrides audit()', () => {\n    assert.doesNotThrow(_ => B.audit());\n  });\n\n  describe('generateAuditResult', () => {\n    describe('scoreDisplayMode', () => {\n      it('defaults to BINARY scoring when no scoreDisplayMode is set', () => {\n        assert.strictEqual(PassOrFailAudit.meta.scoreDisplayMode, undefined);\n        const auditResult = Audit.generateAuditResult(PassOrFailAudit, {score: 1});\n        assert.strictEqual(auditResult.scoreDisplayMode, Audit.SCORING_MODES.BINARY);\n        assert.strictEqual(auditResult.score, 1);\n      });\n\n      it('does not override scoreDisplayMode and is scored when it is NUMERIC', () => {\n        assert.strictEqual(NumericAudit.meta.scoreDisplayMode, Audit.SCORING_MODES.NUMERIC);\n        const auditResult = Audit.generateAuditResult(NumericAudit, {score: 1});\n        assert.strictEqual(auditResult.scoreDisplayMode, Audit.SCORING_MODES.NUMERIC);\n        assert.strictEqual(auditResult.score, 1);\n      });\n\n      it('switches to an ERROR and is not scored if an errorMessage is passed in', () => {\n        const errorMessage = 'ERRRRR';\n        const auditResult = Audit.generateAuditResult(NumericAudit, {score: 1, errorMessage});\n\n        assert.strictEqual(auditResult.scoreDisplayMode, Audit.SCORING_MODES.ERROR);\n        assert.strictEqual(auditResult.errorMessage, errorMessage);\n        assert.strictEqual(auditResult.score, null);\n      });\n\n      it('switches to an ERROR and is not scored if an errorMessage is passed in with null', () => {\n        const errorMessage = 'ERRRRR';\n        const auditResult = Audit.generateAuditResult(NumericAudit, {score: null, errorMessage});\n\n        assert.strictEqual(auditResult.scoreDisplayMode, Audit.SCORING_MODES.ERROR);\n        assert.strictEqual(auditResult.errorMessage, errorMessage);\n        assert.strictEqual(auditResult.score, null);\n      });\n\n      it('switches to NOT_APPLICABLE and is not scored if product was marked notApplicable', () => {\n        const auditResult = Audit.generateAuditResult(PassOrFailAudit,\n            {score: 1, notApplicable: true});\n\n        assert.strictEqual(auditResult.scoreDisplayMode, Audit.SCORING_MODES.NOT_APPLICABLE);\n        assert.strictEqual(auditResult.score, null);\n      });\n    });\n\n    it('throws if an audit returns a score > 1', () => {\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: 100}), /is > 1/);\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: 2}), /is > 1/);\n    });\n\n    it('throws if an audit returns a score < 0', () => {\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: -0.1}), /is < 0/);\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: -100}), /is < 0/);\n    });\n\n    it('throws if an audit returns a score that\\'s not a number', () => {\n      const re = /Invalid score/;\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: NaN}), re);\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {score: 'string'}), re);\n    });\n\n    it('throws if an audit does not return a result with a score', () => {\n      assert.throws(_ => Audit.generateAuditResult(PassOrFailAudit, {}), /requires a score/);\n    });\n\n    it('clamps the score to two decimals', () => {\n      const auditResult = Audit.generateAuditResult(PassOrFailAudit, {score: 0.29666666666666663});\n      assert.strictEqual(auditResult.score, 0.3);\n    });\n\n    it('chooses the title if score is passing', () => {\n      const auditResult = Audit.generateAuditResult(PassOrFailAudit, {score: 1});\n      assert.strictEqual(auditResult.score, 1);\n      assert.equal(auditResult.title, 'Passing');\n    });\n\n    it('chooses the failureTitle if score is failing', () => {\n      const auditResult = Audit.generateAuditResult(PassOrFailAudit, {score: 0});\n      assert.strictEqual(auditResult.score, 0);\n      assert.equal(auditResult.title, 'Failing');\n    });\n\n    it('chooses the title if audit is not scored due to scoreDisplayMode', () => {\n      const auditResult = Audit.generateAuditResult(PassOrFailAudit,\n          {score: 0, errorMessage: 'what errors lurk'});\n      assert.strictEqual(auditResult.score, null);\n      assert.equal(auditResult.title, 'Passing');\n    });\n  });\n\n  it('sets state of non-applicable audits', () => {\n    const providedResult = {score: 1, notApplicable: true};\n    const result = Audit.generateAuditResult(B, providedResult);\n    assert.equal(result.score, null);\n    assert.equal(result.scoreDisplayMode, 'notApplicable');\n  });\n\n  it('sets state of failed audits', () => {\n    const providedResult = {score: 1, errorMessage: 'It did not work'};\n    const result = Audit.generateAuditResult(B, providedResult);\n    assert.equal(result.score, null);\n    assert.equal(result.scoreDisplayMode, 'error');\n  });\n\n  describe('makeSnippetDetails', () => {\n    const maxLinesAroundMessage = 10;\n\n    it('Transforms code to lines array', () => {\n      const details = Audit.makeSnippetDetails({\n        content: 'a\\nb\\nc',\n        title: 'Title',\n        lineMessages: [],\n        generalMessages: [],\n      });\n\n      assert.equal(details.lines.length, 3);\n      assert.deepEqual(details.lines[1], {\n        lineNumber: 2,\n        content: 'b',\n      });\n    });\n\n    it('Truncates long lines', () => {\n      const details = Audit.makeSnippetDetails({\n        content: Array(1001).join('-'),\n        title: 'Title',\n        lineMessages: [],\n        generalMessages: [],\n      });\n\n      assert.equal(details.lines[0].truncated, true);\n      assert.ok(details.lines[0].content.length < 1000);\n    });\n\n    function makeLines(lineCount) {\n      return Array(lineCount + 1).join('-\\n');\n    }\n\n    it('Limits the number of lines if there are no line messages', () => {\n      const details = Audit.makeSnippetDetails({\n        content: makeLines(100),\n        title: 'Title',\n        lineMessages: [],\n        generalMessages: [{\n          message: 'General',\n        }],\n        maxLinesAroundMessage,\n      });\n      expect(details.lines.length).toBe(2 * maxLinesAroundMessage + 1);\n    });\n\n    it('Does not omit lines if fewer than 4 lines would be omitted', () => {\n      const details = Audit.makeSnippetDetails({\n        content: makeLines(200),\n        title: 'Title',\n        lineMessages: [\n          // without the special logic for small gaps lines 71-73 would be missing\n          {\n            // putting last message first to make sure makeSnippetDetails doesn't depend on order\n            lineNumber: 84,\n            message: 'Message 2',\n          }, {\n            lineNumber: 60,\n            message: 'Message 1',\n          }],\n        generalMessages: [],\n        maxLinesAroundMessage,\n      });\n\n      const normalExpectedLineNumber = 2 * (maxLinesAroundMessage * 2 + 1);\n      assert.equal(details.lines.length, normalExpectedLineNumber + 3);\n    });\n\n    it('Limits the number of lines around line messages', () => {\n      const content = makeLines(99) + 'A\\n' + makeLines(99) + '\\nB';\n      const allLines = content.split('\\n');\n      const details = Audit.makeSnippetDetails({\n        content,\n        title: 'Title',\n        lineMessages: [{\n          lineNumber: allLines.findIndex(l => l === 'A') + 1,\n          message: 'a',\n        }, {\n          lineNumber: allLines.findIndex(l => l === 'B') + 1,\n          message: 'b',\n        }],\n        generalMessages: [],\n        maxLinesAroundMessage,\n      });\n\n      // 2 line messages and their surounding lines, second line with message only has preceding lines\n      const lineCount = maxLinesAroundMessage * 3 + 2;\n      assert.equal(details.lines.length, lineCount);\n      const lastLine = details.lines.slice(-1)[0];\n      assert.deepEqual(lastLine, {\n        lineNumber: 201,\n        content: 'B',\n      });\n    });\n  });\n\n  describe('makeListDetails', () => {\n    it('Generates list details', () => {\n      const details = Audit.makeListDetails([1, 2, 3]);\n\n      assert.deepEqual(details, {\n        type: 'list',\n        items: [1, 2, 3],\n      });\n    });\n  });\n\n  describe('#computeLogNormalScore', () => {\n    it('clamps the score to two decimal places', () => {\n      const params = {\n        median: 1000,\n        p10: 500,\n      };\n\n      assert.strictEqual(Audit.computeLogNormalScore(params, 0), 1);\n      assert.strictEqual(Audit.computeLogNormalScore(params, 250), 0.99);\n      assert.strictEqual(Audit.computeLogNormalScore(params, 1500), 0.23);\n      assert.strictEqual(Audit.computeLogNormalScore(params, 2500), 0.05);\n      assert.strictEqual(Audit.computeLogNormalScore(params, 4000), 0.01);\n      assert.strictEqual(Audit.computeLogNormalScore(params, 4100), 0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/byte-efficiency-audit-test.js": {
      "tests": [
        {
          "id": "203",
          "name": "Byte efficiency base audit #estimateTransferSize should estimate by resource type compression ratio when no network info available",
          "location": {
            "start": {
              "column": 6,
              "line": 54
            }
          }
        },
        {
          "id": "204",
          "name": "Byte efficiency base audit #estimateTransferSize should return transferSize when asset matches",
          "location": {
            "start": {
              "column": 6,
              "line": 61
            }
          }
        },
        {
          "id": "205",
          "name": "Byte efficiency base audit #estimateTransferSize should estimate by network compression ratio when asset does not match",
          "location": {
            "start": {
              "column": 6,
              "line": 67
            }
          }
        },
        {
          "id": "206",
          "name": "Byte efficiency base audit #estimateTransferSize should not error when missing resource size",
          "location": {
            "start": {
              "column": 6,
              "line": 73
            }
          }
        },
        {
          "id": "207",
          "name": "Byte efficiency base audit #estimateTransferSize should not error when resource size is 0",
          "location": {
            "start": {
              "column": 6,
              "line": 79
            }
          }
        },
        {
          "id": "208",
          "name": "Byte efficiency base audit should format details",
          "location": {
            "start": {
              "column": 4,
              "line": 86
            }
          }
        },
        {
          "id": "209",
          "name": "Byte efficiency base audit should set the numericValue",
          "location": {
            "start": {
              "column": 4,
              "line": 95
            }
          }
        },
        {
          "id": "210",
          "name": "Byte efficiency base audit should score the wastedMs",
          "location": {
            "start": {
              "column": 4,
              "line": 111
            }
          }
        },
        {
          "id": "211",
          "name": "Byte efficiency base audit should throw on invalid graph",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "212",
          "name": "Byte efficiency base audit should populate KiB",
          "location": {
            "start": {
              "column": 4,
              "line": 147
            }
          }
        },
        {
          "id": "213",
          "name": "Byte efficiency base audit should sort on wastedBytes",
          "location": {
            "start": {
              "column": 4,
              "line": 162
            }
          }
        },
        {
          "id": "214",
          "name": "Byte efficiency base audit should create a display value",
          "location": {
            "start": {
              "column": 4,
              "line": 177
            }
          }
        },
        {
          "id": "215",
          "name": "Byte efficiency base audit should work on real graphs",
          "location": {
            "start": {
              "column": 4,
              "line": 190
            }
          }
        },
        {
          "id": "216",
          "name": "Byte efficiency base audit should create load simulator with the specified settings",
          "location": {
            "start": {
              "column": 4,
              "line": 210
            }
          }
        },
        {
          "id": "217",
          "name": "Byte efficiency base audit should allow overriding of computeWasteWithTTIGraph",
          "location": {
            "start": {
              "column": 4,
              "line": 241
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ByteEfficiencyAudit_ = require('../../../audits/byte-efficiency/byte-efficiency-audit.js');\nconst NetworkNode = require('../../../lib/dependency-graph/network-node.js');\nconst CPUNode = require('../../../lib/dependency-graph/cpu-node.js');\nconst Simulator = require('../../../lib/dependency-graph/simulator/simulator.js');\nconst PageDependencyGraph = require('../../../computed/page-dependency-graph.js');\nconst LoadSimulator = require('../../../computed/load-simulator.js');\n\n\nconst trace = require('../../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Byte efficiency base audit', () => {\n  let graph;\n  let simulator;\n\n  const ByteEfficiencyAudit = class extends ByteEfficiencyAudit_ {\n    static get meta() {\n      return {name: 'test'};\n    }\n  };\n\n  beforeEach(() => {\n    const networkRecord = {\n      requestId: 1,\n      url: 'http://example.com/',\n      parsedURL: {scheme: 'http', securityOrigin: 'http://example.com'},\n      transferSize: 400000,\n      timing: {receiveHeadersEnd: 0},\n    };\n\n    graph = new NetworkNode(networkRecord);\n    // add a CPU node to force improvement to TTI\n    graph.addDependent(new CPUNode({tid: 1, ts: 0, dur: 100 * 1000}));\n    simulator = new Simulator({});\n  });\n\n  const baseHeadings = [\n    {key: 'wastedBytes', itemType: 'bytes', displayUnit: 'kb', granularity: 1, text: ''},\n  ];\n\n  describe('#estimateTransferSize', () => {\n    const estimate = ByteEfficiencyAudit.estimateTransferSize;\n\n    it('should estimate by resource type compression ratio when no network info available', () => {\n      assert.equal(estimate(undefined, 1000, 'Stylesheet'), 200);\n      assert.equal(estimate(undefined, 1000, 'Script'), 330);\n      assert.equal(estimate(undefined, 1000, 'Document'), 330);\n      assert.equal(estimate(undefined, 1000, ''), 500);\n    });\n\n    it('should return transferSize when asset matches', () => {\n      const resourceType = 'Stylesheet';\n      const result = estimate({transferSize: 1234, resourceType}, 10000, 'Stylesheet');\n      assert.equal(result, 1234);\n    });\n\n    it('should estimate by network compression ratio when asset does not match', () => {\n      const resourceType = 'Other';\n      const result = estimate({resourceSize: 2000, transferSize: 1000, resourceType}, 100);\n      assert.equal(result, 50);\n    });\n\n    it('should not error when missing resource size', () => {\n      const resourceType = 'Other';\n      const result = estimate({transferSize: 1000, resourceType}, 100);\n      assert.equal(result, 100);\n    });\n\n    it('should not error when resource size is 0', () => {\n      const resourceType = 'Other';\n      const result = estimate({transferSize: 1000, resourceSize: 0, resourceType}, 100);\n      assert.equal(result, 100);\n    });\n  });\n\n  it('should format details', () => {\n    const result = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [],\n    }, graph, simulator);\n\n    assert.deepEqual(result.details.items, []);\n  });\n\n  it('should set the numericValue', () => {\n    const result = ByteEfficiencyAudit.createAuditProduct(\n      {\n        headings: baseHeadings,\n        items: [\n          {url: 'http://example.com/', wastedBytes: 200 * 1000},\n        ],\n      },\n      graph,\n      simulator\n    );\n\n    // 900ms savings comes from the graph calculation\n    assert.equal(result.numericValue, 900);\n  });\n\n  it('should score the wastedMs', () => {\n    const perfectResult = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [{url: 'http://example.com/', wastedBytes: 1 * 1000}],\n    }, graph, simulator);\n\n    const goodResult = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [{url: 'http://example.com/', wastedBytes: 20 * 1000}],\n    }, graph, simulator);\n\n    const averageResult = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [{url: 'http://example.com/', wastedBytes: 100 * 1000}],\n    }, graph, simulator);\n\n    const failingResult = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [{url: 'http://example.com/', wastedBytes: 400 * 1000}],\n    }, graph, simulator);\n\n    assert.equal(perfectResult.score, 1, 'scores perfect wastedMs');\n    assert.ok(goodResult.score > 0.75 && goodResult.score < 1, 'scores good wastedMs');\n    assert.ok(averageResult.score > 0.5 && averageResult.score < 0.75, 'scores average wastedMs');\n    assert.ok(failingResult.score < 0.5, 'scores failing wastedMs');\n  });\n\n  it('should throw on invalid graph', () => {\n    assert.throws(() => {\n      ByteEfficiencyAudit.createAuditProduct({\n        headings: baseHeadings,\n        items: [{wastedBytes: 350, totalBytes: 700, wastedPercent: 50}],\n      }, null);\n    });\n  });\n\n  it('should populate KiB', () => {\n    const result = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [\n        {wastedBytes: 2048, totalBytes: 4096, wastedPercent: 50},\n        {wastedBytes: 1986, totalBytes: 5436},\n      ],\n    }, graph, simulator);\n\n    assert.equal(result.details.items[0].wastedBytes, 2048);\n    assert.equal(result.details.items[0].totalBytes, 4096);\n    assert.equal(result.details.items[1].wastedBytes, 1986);\n    assert.equal(result.details.items[1].totalBytes, 5436);\n  });\n\n  it('should sort on wastedBytes', () => {\n    const result = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [\n        {wastedBytes: 350, totalBytes: 700, wastedPercent: 50},\n        {wastedBytes: 450, totalBytes: 1000, wastedPercent: 50},\n        {wastedBytes: 400, totalBytes: 450, wastedPercent: 50},\n      ],\n    }, graph, simulator);\n\n    assert.equal(result.details.items[0].wastedBytes, 450);\n    assert.equal(result.details.items[1].wastedBytes, 400);\n    assert.equal(result.details.items[2].wastedBytes, 350);\n  });\n\n  it('should create a display value', () => {\n    const result = ByteEfficiencyAudit.createAuditProduct({\n      headings: baseHeadings,\n      items: [\n        {wastedBytes: 512, totalBytes: 700, wastedPercent: 50},\n        {wastedBytes: 512, totalBytes: 1000, wastedPercent: 50},\n        {wastedBytes: 1024, totalBytes: 1200, wastedPercent: 50},\n      ],\n    }, graph, simulator);\n\n    expect(result.displayValue).toBeDisplayString(/savings of 2/);\n  });\n\n  it('should work on real graphs', async () => {\n    const throttling = {rttMs: 150, throughputKbps: 1600, cpuSlowdownMultiplier: 1};\n    const settings = {throttlingMethod: 'simulate', throttling};\n    const computedCache = new Map();\n    const graph = await PageDependencyGraph.request({trace, devtoolsLog}, {computedCache});\n    const simulator = await LoadSimulator.request({devtoolsLog, settings}, {computedCache});\n    const result = ByteEfficiencyAudit.createAuditProduct(\n      {\n        headings: [{key: 'wastedBytes', text: 'Label'}],\n        items: [\n          {url: 'https://www.googletagmanager.com/gtm.js?id=GTM-Q5SW', wastedBytes: 30 * 1024},\n        ],\n      },\n      graph,\n      simulator\n    );\n\n    assert.equal(result.numericValue, 300);\n  });\n\n  it('should create load simulator with the specified settings', async () => {\n    class MockAudit extends ByteEfficiencyAudit {\n      static audit_(artifacts, records) {\n        return {\n          items: records.map(record => ({url: record.url, wastedBytes: record.transferSize})),\n          headings: [],\n        };\n      }\n    }\n\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n    const computedCache = new Map();\n\n    const modestThrottling = {rttMs: 150, throughputKbps: 1000, cpuSlowdownMultiplier: 2};\n    const ultraSlowThrottling = {rttMs: 150, throughputKbps: 100, cpuSlowdownMultiplier: 8};\n    let settings = {throttlingMethod: 'simulate', throttling: modestThrottling};\n    let result = await MockAudit.audit(artifacts, {settings, computedCache});\n    // expect modest savings\n    expect(result.numericValue).toBeLessThan(5000);\n    expect(result.numericValue).toMatchSnapshot();\n\n    settings = {throttlingMethod: 'simulate', throttling: ultraSlowThrottling};\n    result = await MockAudit.audit(artifacts, {settings, computedCache});\n    // expect lots of savings\n    expect(result.numericValue).not.toBeLessThan(5000);\n    expect(result.numericValue).toMatchSnapshot();\n  });\n\n  it('should allow overriding of computeWasteWithTTIGraph', async () => {\n    class MockAudit extends ByteEfficiencyAudit {\n      static audit_(artifacts, records) {\n        return {\n          items: records.map(record => ({url: record.url, wastedBytes: record.transferSize})),\n          headings: [],\n        };\n      }\n    }\n\n    class MockJustTTIAudit extends MockAudit {\n      static computeWasteWithTTIGraph(results, graph, simulator) {\n        return ByteEfficiencyAudit.computeWasteWithTTIGraph(results, graph, simulator,\n          {includeLoad: false});\n      }\n    }\n\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n    const computedCache = new Map();\n\n    const modestThrottling = {rttMs: 150, throughputKbps: 1000, cpuSlowdownMultiplier: 2};\n    const settings = {throttlingMethod: 'simulate', throttling: modestThrottling};\n    const result = await MockAudit.audit(artifacts, {settings, computedCache});\n    const resultTti = await MockJustTTIAudit.audit(artifacts, {settings, computedCache});\n    // expect less savings with just TTI\n    expect(resultTti.numericValue).toBeLessThan(result.numericValue);\n    expect({default: result.numericValue, justTTI: resultTti.numericValue}).toMatchSnapshot();\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/canonical-test.js": {
      "tests": [
        {
          "id": "218",
          "name": "SEO: Document has valid canonical link succeeds when there are no canonical links",
          "location": {
            "start": {
              "column": 4,
              "line": 31
            }
          }
        },
        {
          "id": "219",
          "name": "SEO: Document has valid canonical link fails when there are multiple canonical links",
          "location": {
            "start": {
              "column": 4,
              "line": 47
            }
          }
        },
        {
          "id": "220",
          "name": "SEO: Document has valid canonical link fails when canonical url is invalid",
          "location": {
            "start": {
              "column": 4,
              "line": 68
            }
          }
        },
        {
          "id": "221",
          "name": "SEO: Document has valid canonical link fails when canonical url is relative",
          "location": {
            "start": {
              "column": 4,
              "line": 88
            }
          }
        },
        {
          "id": "222",
          "name": "SEO: Document has valid canonical link fails when canonical points to a different hreflang",
          "location": {
            "start": {
              "column": 4,
              "line": 108
            }
          }
        },
        {
          "id": "223",
          "name": "SEO: Document has valid canonical link fails when canonical points to a different domain",
          "location": {
            "start": {
              "column": 4,
              "line": 130
            }
          }
        },
        {
          "id": "224",
          "name": "SEO: Document has valid canonical link passes when canonical points to the root while current URL is also the root",
          "location": {
            "start": {
              "column": 4,
              "line": 150
            }
          }
        },
        {
          "id": "225",
          "name": "SEO: Document has valid canonical link fails when canonical points to the root while current URL is not the root",
          "location": {
            "start": {
              "column": 4,
              "line": 170
            }
          }
        },
        {
          "id": "226",
          "name": "SEO: Document has valid canonical link succeeds when there are multiple identical canonical links",
          "location": {
            "start": {
              "column": 4,
              "line": 190
            }
          }
        },
        {
          "id": "227",
          "name": "SEO: Document has valid canonical link succeeds when valid canonical is provided via meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 209
            }
          }
        },
        {
          "id": "228",
          "name": "SEO: Document has valid canonical link succeeds when valid canonical is provided via header",
          "location": {
            "start": {
              "column": 4,
              "line": 227
            }
          }
        },
        {
          "id": "229",
          "name": "SEO: Document has valid canonical link succeeds when invalid canonical is provided in body",
          "location": {
            "start": {
              "column": 4,
              "line": 245
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst CanonicalAudit = require('../../../audits/seo/canonical.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('SEO: Document has valid canonical link', () => {\n  /**\n   * @param {Partial<LH.Artifacts.LinkElement>} overrides\n   * @return {LH.Artifacts.LinkElement}\n   */\n  function link(overrides) {\n    if (overrides.href && !overrides.hrefRaw) overrides.hrefRaw = overrides.href;\n    return {\n      rel: '',\n      href: null,\n      hrefRaw: '',\n      hreflang: '',\n      source: 'head',\n      ...overrides,\n    };\n  }\n\n  it('succeeds when there are no canonical links', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('fails when there are multiple canonical links', () => {\n    const finalUrl = 'http://www.example.com/';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://www.example.com'}),\n        link({rel: 'canonical', source: 'headers', href: 'https://example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 0);\n      expect(auditResult.explanation)\n        .toBeDisplayString('Multiple conflicting URLs (https://www.example.com, https://example.com)');\n    });\n  });\n\n  it('fails when canonical url is invalid', () => {\n    const finalUrl = 'http://www.example.com';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: null, hrefRaw: 'https:// example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      const {score, explanation} = auditResult;\n      assert.equal(score, 0);\n      expect(explanation).toBeDisplayString('Invalid URL (https:// example.com)');\n    });\n  });\n\n  it('fails when canonical url is relative', () => {\n    const finalUrl = 'https://example.com/de/';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'headers', href: 'https://www.example.com', hrefRaw: '/'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      const {score, explanation} = auditResult;\n      assert.equal(score, 0);\n      expect(explanation).toBeDisplayString('Relative URL (/)');\n    });\n  });\n\n  it('fails when canonical points to a different hreflang', () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'alternate', source: 'headers', href: 'https://example.com/', hreflang: 'xx'}),\n        link({rel: 'canonical', source: 'head', href: 'https://example.com/fr'}),\n        link({rel: 'alternate', source: 'head', href: 'https://example.com/fr', hreflang: 'fr'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 0);\n      expect(auditResult.explanation)\n        .toBeDisplayString('Points to another `hreflang` location (https://example.com/)');\n    });\n  });\n\n  it('fails when canonical points to a different domain', () => {\n    const finalUrl = 'http://localhost.test';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 0);\n      expect(auditResult.explanation)\n        .toBeDisplayString('Points to a different domain (https://example.com/)');\n    });\n  });\n\n  it('passes when canonical points to the root while current URL is also the root', async () => {\n    const finalUrl = 'https://example.com/';\n    const mainResource = {\n      url: finalUrl,\n      responseHeaders: [],\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    const auditResult = await CanonicalAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('fails when canonical points to the root while current URL is not the root', () => {\n    const finalUrl = 'https://example.com/articles/cats-and-you';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 0);\n      expect(auditResult.explanation).toBeDisplayString('Points to the domain\\'s root URL (the ' +\n        'homepage), instead of an equivalent page of content');\n    });\n  });\n\n  it('succeeds when there are multiple identical canonical links', () => {\n    const finalUrl = 'http://www.example.com/';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://example.com'}),\n        link({rel: 'canonical', source: 'headers', href: 'https://example.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('succeeds when valid canonical is provided via meta tag', () => {\n    const finalUrl = 'http://example.com/articles/cats-and-you?utm_source=twitter';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'head', href: 'https://example.com/articles/cats-and-you'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('succeeds when valid canonical is provided via header', () => {\n    const finalUrl = 'http://example.com/articles/cats?utm_source=twitter';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'headers', href: 'https://example.com/articles/cats'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n\n  it('succeeds when invalid canonical is provided in body', () => {\n    const finalUrl = 'http://example.com/articles/cats-and-you?utm_source=twitter';\n    const mainResource = {url: finalUrl};\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n    const artifacts = {\n      devtoolsLogs: {[CanonicalAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n      LinkElements: [\n        link({rel: 'canonical', source: 'body', href: 'https://foo.com'}),\n      ],\n    };\n\n    const context = {computedCache: new Map()};\n    return CanonicalAudit.audit(artifacts, context).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/script-treemap-data-test.js": {
      "tests": [
        {
          "id": "230",
          "name": "ScriptTreemapData audit squoosh fixture has root nodes",
          "location": {
            "start": {
              "column": 6,
              "line": 58
            }
          }
        },
        {
          "id": "231",
          "name": "ScriptTreemapData audit .prepareTreemapNodes uses node data when available",
          "location": {
            "start": {
              "column": 6,
              "line": 76
            }
          }
        },
        {
          "id": "232",
          "name": "ScriptTreemapData audit .prepareTreemapNodes creates directory node when multiple leaf nodes",
          "location": {
            "start": {
              "column": 6,
              "line": 107
            }
          }
        },
        {
          "id": "233",
          "name": "ScriptTreemapData audit .prepareTreemapNodes flattens directory node when single leaf nodes",
          "location": {
            "start": {
              "column": 6,
              "line": 130
            }
          }
        },
        {
          "id": "234",
          "name": "ScriptTreemapData audit .prepareTreemapNodes source root replaces matching prefixes",
          "location": {
            "start": {
              "column": 6,
              "line": 155
            }
          }
        },
        {
          "id": "235",
          "name": "ScriptTreemapData audit .prepareTreemapNodes nodes have unusedBytes data",
          "location": {
            "start": {
              "column": 6,
              "line": 192
            }
          }
        },
        {
          "id": "236",
          "name": "ScriptTreemapData audit .prepareTreemapNodes nodes have duplicates data",
          "location": {
            "start": {
              "column": 6,
              "line": 231
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst ScriptTreemapData_ = require('../../audits/script-treemap-data.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\nconst {loadSourceMapAndUsageFixture, makeParamsOptional} = require('../test-utils.js');\n\nconst ScriptTreemapData = {\n  audit: makeParamsOptional(ScriptTreemapData_.audit),\n  prepareTreemapNodes: makeParamsOptional(ScriptTreemapData_.prepareTreemapNodes),\n};\n\n/**\n * @param {string} url\n * @param {number} resourceSize\n * @param {LH.Crdp.Network.ResourceType} resourceType\n */\nfunction generateRecord(url, resourceSize, resourceType) {\n  return {url, resourceSize, resourceType};\n}\n\ndescribe('ScriptTreemapData audit', () => {\n  describe('squoosh fixture', () => {\n    /** @type {import('../../audits/script-treemap-data.js').TreemapData} */\n    let treemapData;\n    beforeAll(async () => {\n      const context = {computedCache: new Map()};\n      const {map, content, usage} = loadSourceMapAndUsageFixture('squoosh');\n      const mainUrl = 'https://squoosh.app';\n      const scriptUrl = 'https://squoosh.app/main-app.js';\n      const networkRecords = [generateRecord(scriptUrl, content.length, 'Script')];\n\n      // Add a script with no source map or usage.\n      const noSourceMapScript = {src: 'https://sqoosh.app/no-map-or-usage.js', content: '// hi'};\n      networkRecords.push(\n        generateRecord(noSourceMapScript.src, noSourceMapScript.content.length, 'Script')\n      );\n\n      const artifacts = {\n        URL: {requestedUrl: mainUrl, finalUrl: mainUrl},\n        JsUsage: {[usage.url]: [usage]},\n        devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(networkRecords)},\n        SourceMaps: [{scriptUrl: scriptUrl, map}],\n        ScriptElements: [{src: scriptUrl, content}, noSourceMapScript],\n      };\n      const results = await ScriptTreemapData.audit(artifacts, context);\n\n      // @ts-expect-error: Debug data.\n      treemapData = results.details.treemapData;\n    });\n\n    it('has root nodes', () => {\n      expect(treemapData.find(s => s.name === 'https://sqoosh.app/no-map-or-usage.js'))\n        .toMatchInlineSnapshot(`\n        Object {\n          \"name\": \"https://sqoosh.app/no-map-or-usage.js\",\n          \"node\": Object {\n            \"name\": \"https://sqoosh.app/no-map-or-usage.js\",\n            \"resourceBytes\": 37,\n          },\n        }\n      `);\n\n      expect(JSON.stringify(treemapData).length).toMatchInlineSnapshot(`6621`);\n      expect(treemapData).toMatchSnapshot();\n    });\n  });\n\n  describe('.prepareTreemapNodes', () => {\n    it('uses node data when available', () => {\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('', {\n        'a.js': {resourceBytes: 100},\n        'b.js': {resourceBytes: 100, duplicatedNormalizedModuleName: 'blah'},\n        'c.js': {resourceBytes: 100, unusedBytes: 50},\n      });\n      expect(rootNode).toMatchObject(\n         {\n           children: [\n             {\n               name: 'a.js',\n               resourceBytes: 100,\n             },\n             {\n               duplicatedNormalizedModuleName: 'blah',\n               name: 'b.js',\n               resourceBytes: 100,\n             },\n             {\n               name: 'c.js',\n               resourceBytes: 100,\n               unusedBytes: 50,\n             },\n           ],\n           name: '',\n           resourceBytes: 300,\n           unusedBytes: 50,\n         }\n      );\n    });\n\n    it('creates directory node when multiple leaf nodes', () => {\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('', {\n        'folder/a.js': {resourceBytes: 100},\n        'folder/b.js': {resourceBytes: 100},\n      });\n      expect(rootNode).toMatchObject(\n       {\n         children: [\n           {\n             name: 'a.js',\n             resourceBytes: 100,\n           },\n           {\n             name: 'b.js',\n             resourceBytes: 100,\n           },\n         ],\n         name: '/folder',\n         resourceBytes: 200,\n       }\n      );\n    });\n\n    it('flattens directory node when single leaf nodes', () => {\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('', {\n        'root/folder1/a.js': {resourceBytes: 100},\n        'root/folder2/b.js': {resourceBytes: 100},\n      });\n      expect(rootNode).toMatchObject(\n         {\n           children: [\n             {\n               children: undefined,\n               name: 'folder1/a.js',\n               resourceBytes: 100,\n             },\n             {\n               children: undefined,\n               name: 'folder2/b.js',\n               resourceBytes: 100,\n             },\n           ],\n           name: '/root',\n           resourceBytes: 200,\n         }\n      );\n    });\n\n    it('source root replaces matching prefixes', () => {\n      const sourcesData = {\n        'some/prefix/main.js': {resourceBytes: 100, unusedBytes: 50},\n        'not/some/prefix/a.js': {resourceBytes: 101, unusedBytes: 51},\n      };\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('some/prefix', sourcesData);\n      expect(rootNode).toMatchObject(\n         {\n           children: [\n             {\n               children: undefined,\n               name: '/main.js',\n               resourceBytes: 100,\n               unusedBytes: 50,\n             },\n             {\n               children: undefined,\n               name: 'not/a.js',\n               resourceBytes: 101,\n               unusedBytes: 51,\n             },\n           ],\n           name: 'some/prefix',\n           resourceBytes: 201,\n           unusedBytes: 101,\n         }\n      );\n\n      expect(rootNode.name).toBe('some/prefix');\n      expect(rootNode.resourceBytes).toBe(201);\n      expect(rootNode.unusedBytes).toBe(101);\n\n      const children = rootNode.children || [];\n      expect(children[0].name).toBe('/main.js');\n      expect(children[1].name).toBe('not/a.js');\n    });\n\n    it('nodes have unusedBytes data', () => {\n      const sourcesData = {\n        'lib/folder/a.js': {resourceBytes: 100, unusedBytes: 50},\n        'lib/folder/b.js': {resourceBytes: 101},\n        'lib/c.js': {resourceBytes: 100, unusedBytes: 25},\n      };\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('', sourcesData);\n      expect(rootNode).toMatchObject(\n         {\n           children: [\n             {\n               children: [\n                 {\n                   name: 'a.js',\n                   resourceBytes: 100,\n                   unusedBytes: 50,\n                 },\n                 {\n                   name: 'b.js',\n                   resourceBytes: 101,\n                 },\n               ],\n               name: 'folder',\n               resourceBytes: 201,\n               unusedBytes: 50,\n             },\n             {\n               name: 'c.js',\n               resourceBytes: 100,\n               unusedBytes: 25,\n             },\n           ],\n           name: '/lib',\n           resourceBytes: 301,\n           unusedBytes: 75,\n         }\n      );\n    });\n\n    it('nodes have duplicates data', () => {\n      const sourcesData = {\n        /* eslint-disable max-len */\n        'lib/folder/a.js': {resourceBytes: 100, unusedBytes: 50},\n        'lib/node_modules/dep/a.js': {resourceBytes: 101, duplicatedNormalizedModuleName: 'dep/a.js'},\n        'node_modules/dep/a.js': {resourceBytes: 100, unusedBytes: 25, duplicatedNormalizedModuleName: 'dep/a.js'},\n        'lib/node_modules/dep/b.js': {resourceBytes: 101, duplicatedNormalizedModuleName: 'dep/b.js'},\n        'node_modules/dep/b.js': {resourceBytes: 100, unusedBytes: 25, duplicatedNormalizedModuleName: 'dep/b.js'},\n        /* eslint-enable max-len */\n      };\n      const rootNode = ScriptTreemapData.prepareTreemapNodes('', sourcesData);\n      expect(rootNode).toMatchObject(\n         {\n           children: [\n             {\n               children: [\n                 {\n                   children: undefined,\n                   name: 'folder/a.js',\n                   resourceBytes: 100,\n                   unusedBytes: 50,\n                 },\n                 {\n                   children: [\n                     {\n                       duplicatedNormalizedModuleName: 'dep/a.js',\n                       name: 'a.js',\n                       resourceBytes: 101,\n                     },\n                     {\n                       duplicatedNormalizedModuleName: 'dep/b.js',\n                       name: 'b.js',\n                       resourceBytes: 101,\n                     },\n                   ],\n                   name: 'node_modules/dep',\n                   resourceBytes: 202,\n                 },\n               ],\n               name: 'lib',\n               resourceBytes: 302,\n               unusedBytes: 50,\n             },\n             {\n               children: [\n                 {\n                   duplicatedNormalizedModuleName: 'dep/a.js',\n                   name: 'a.js',\n                   resourceBytes: 100,\n                   unusedBytes: 25,\n                 },\n                 {\n                   duplicatedNormalizedModuleName: 'dep/b.js',\n                   name: 'b.js',\n                   resourceBytes: 100,\n                   unusedBytes: 25,\n                 },\n               ],\n               name: 'node_modules/dep',\n               resourceBytes: 200,\n               unusedBytes: 50,\n             },\n           ],\n           name: '',\n           resourceBytes: 502,\n           unusedBytes: 100,\n         }\n      );\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/legacy-javascript-test.js": {
      "tests": [
        {
          "id": "237",
          "name": "LegacyJavaScript audit passes code with no polyfills",
          "location": {
            "start": {
              "column": 4,
              "line": 66
            }
          }
        },
        {
          "id": "238",
          "name": "LegacyJavaScript audit legacy polyfill in third party resource does not contribute to wasted bytes",
          "location": {
            "start": {
              "column": 4,
              "line": 89
            }
          }
        },
        {
          "id": "239",
          "name": "LegacyJavaScript audit legacy polyfill in first party resource contributes to wasted bytes",
          "location": {
            "start": {
              "column": 4,
              "line": 122
            }
          }
        },
        {
          "id": "240",
          "name": "LegacyJavaScript audit fails code with multiple legacy polyfills",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "241",
          "name": "LegacyJavaScript audit counts multiple of the same polyfill from the same script only once",
          "location": {
            "start": {
              "column": 4,
              "line": 152
            }
          }
        },
        {
          "id": "242",
          "name": "LegacyJavaScript audit should identify polyfills in multiple patterns",
          "location": {
            "start": {
              "column": 4,
              "line": 167
            }
          }
        },
        {
          "id": "243",
          "name": "LegacyJavaScript audit should not misidentify legacy code",
          "location": {
            "start": {
              "column": 4,
              "line": 195
            }
          }
        },
        {
          "id": "244",
          "name": "LegacyJavaScript audit uses source maps to identify polyfills",
          "location": {
            "start": {
              "column": 4,
              "line": 215
            }
          }
        },
        {
          "id": "245",
          "name": "LegacyJavaScript audit uses location from pattern matching over source map",
          "location": {
            "start": {
              "column": 4,
              "line": 232
            }
          }
        },
        {
          "id": "246",
          "name": "LegacyJavaScript signals expect babel-preset-env = true variant to not have any signals",
          "location": {
            "start": {
              "column": 4,
              "line": 255
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LegacyJavascript = require('../../../audits/byte-efficiency/legacy-javascript.js');\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/**\n * @param {Array<{url: string, code: string, map?: LH.Artifacts.RawSourceMap}>} scripts\n * @return {Promise<LH.Audits.ByteEfficiencyProduct>}\n */\nconst getResult = scripts => {\n  const mainDocumentUrl = 'https://www.example.com';\n  const networkRecords = [\n    {url: mainDocumentUrl, resourceType: 'Document'},\n    ...scripts.map(({url}, index) => ({\n      requestId: String(index),\n      url,\n    })),\n  ];\n  const artifacts = {\n    URL: {finalUrl: mainDocumentUrl, requestedUrl: mainDocumentUrl},\n    devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(networkRecords)},\n    ScriptElements: scripts.map(({url, code}, index) => {\n      return {\n        src: url,\n        content: code,\n        requestId: String(index),\n      };\n    }),\n    SourceMaps: scripts.reduce((acc, {url, map}) => {\n      if (!map) return acc;\n      acc.push({\n        scriptUrl: url,\n        map,\n      });\n      return acc;\n    }, []),\n  };\n  return LegacyJavascript.audit_(artifacts, networkRecords, {computedCache: new Map()});\n};\n\n/**\n * @param {string[]} codeSnippets\n * @return {string[]}\n */\nconst createVariants = codeSnippets => {\n  const variants = [];\n\n  for (const codeSnippet of codeSnippets) {\n    // Explicitly don't create a variant for just `codeSnippet`,\n    // because making the patterns work with a starting anchor (^)\n    // complicates the expressions more than its worth.\n    variants.push(`;${codeSnippet}`);\n    variants.push(` ${codeSnippet}`);\n  }\n\n  return variants;\n};\n\n/* eslint-env jest */\ndescribe('LegacyJavaScript audit', () => {\n  it('passes code with no polyfills', async () => {\n    const result = await getResult([\n      {\n        code: 'var message = \"hello world\"; console.log(message);',\n        url: 'https://www.example.com/a.js',\n      },\n      {\n        code: 'SomeGlobal = function() {}',\n        url: 'https://www.example.com/a.js',\n      },\n      {\n        code: 'SomeClass.prototype.someFn = function() {}',\n        url: 'https://www.example.com/a.js',\n      },\n      {\n        code: 'Object.defineProperty(SomeClass.prototype, \"someFn\", function() {})',\n        url: 'https://www.example.com/a.js',\n      },\n    ]);\n    expect(result.items).toHaveLength(0);\n    expect(result.wastedBytesByUrl).toMatchInlineSnapshot(`Map {}`);\n  });\n\n  it('legacy polyfill in third party resource does not contribute to wasted bytes', async () => {\n    const result = await getResult([\n      {\n        code: 'String.prototype.repeat = function() {}',\n        url: 'https://www.googletagmanager.com/a.js',\n      },\n    ]);\n    expect(result.items).toHaveLength(1);\n    expect(result.items[0]).toMatchInlineSnapshot(`\n      Object {\n        \"subItems\": Object {\n          \"items\": Array [\n            Object {\n              \"location\": Object {\n                \"column\": 0,\n                \"line\": 0,\n                \"type\": \"source-location\",\n                \"url\": \"https://www.googletagmanager.com/a.js\",\n                \"urlProvider\": \"network\",\n              },\n              \"signal\": \"String.prototype.repeat\",\n            },\n          ],\n          \"type\": \"subitems\",\n        },\n        \"totalBytes\": 0,\n        \"url\": \"https://www.googletagmanager.com/a.js\",\n        \"wastedBytes\": 20104,\n      }\n    `);\n    expect(result.wastedBytesByUrl).toMatchInlineSnapshot(`Map {}`);\n  });\n\n  it('legacy polyfill in first party resource contributes to wasted bytes', async () => {\n    const result = await getResult([\n      {\n        code: 'String.prototype.repeat = function() {}',\n        url: 'https://www.example.com/a.js',\n      },\n    ]);\n    expect(result.items).toHaveLength(1);\n    expect(result.items[0].subItems.items[0].signal).toEqual('String.prototype.repeat');\n    expect(result.wastedBytesByUrl).toMatchInlineSnapshot(`\n      Map {\n        \"https://www.example.com/a.js\" => 20104,\n      }\n    `);\n  });\n\n  it('fails code with multiple legacy polyfills', async () => {\n    const result = await getResult([\n      {\n        code: 'String.prototype.repeat = function() {}; Array.prototype.includes = function() {}',\n        url: 'https://www.example.com/a.js',\n      },\n    ]);\n    expect(result.items).toHaveLength(1);\n    expect(result.items[0].subItems.items).toMatchObject([\n      {signal: 'String.prototype.repeat'},\n      {signal: 'Array.prototype.includes'},\n    ]);\n  });\n\n  it('counts multiple of the same polyfill from the same script only once', async () => {\n    const result = await getResult([\n      {\n        code: () => {\n          // eslint-disable-next-line no-extend-native\n          String.prototype.repeat = function() {};\n          // eslint-disable-next-line no-extend-native\n          Object.defineProperty(String.prototype, 'repeat', function() {});\n        },\n        url: 'https://www.example.com/a.js',\n      },\n    ]);\n    expect(result.items).toHaveLength(1);\n  });\n\n  it('should identify polyfills in multiple patterns', async () => {\n    const codeSnippets = [\n      'String.prototype.repeat = function() {}',\n      'String.prototype[\"repeat\"] = function() {}',\n      'String.prototype[\"repeat\"] = function() {}',\n      'Object.defineProperty(String.prototype, \"repeat\", function() {})',\n      'Object.defineProperty(String.prototype, \"repeat\", function() {})',\n      '$export($export.S,\"Object\",{values:function values(t){return i(t)}})',\n      'String.raw = function() {}',\n      // Currently are no polyfills that declare a class. Maybe in the future.\n      // 'Object.defineProperty(window, \\'WeakMap\\', function() {})',\n      // 'WeakMap = function() {}',\n      // 'window.WeakMap = function() {}',\n      // 'function WeakMap() {}',\n    ];\n    const variants = createVariants(codeSnippets);\n    const scripts = variants.map((code, i) => {\n      return {code, url: `https://www.example.com/${i}.js`};\n    });\n    const getCodeForUrl = url => scripts.find(script => script.url === url).code;\n    const result = await getResult(scripts);\n\n    expect(result.items.map(item => getCodeForUrl(item.url))).toEqual(\n      scripts.map(script => getCodeForUrl(script.url))\n    );\n    expect(result.items).toHaveLength(variants.length);\n  });\n\n  it('should not misidentify legacy code', async () => {\n    const codeSnippets = [\n      'i.prototype.toArrayBuffer = blah',\n      'this.childListChangeMap=void 0',\n      't.toPromise=u,t.makePromise=u,t.fromPromise=function(e){return new o.default',\n      'var n=new Error(h.apply(void 0,[d].concat(f)));n.name=\"Invariant Violation\";',\n      'var b=typeof Map===\"function\"?new Map():void 0',\n      'd.Promise=s;var y,g,v,b=function(n,o,t){if(function(t){if(\"function\"!=typeof t)th',\n    ];\n    const variants = createVariants(codeSnippets);\n    const scripts = variants.map((code, i) => {\n      return {code, url: `https://www.example.com/${i}.js`};\n    });\n    const getCodeForUrl = url => scripts.find(script => script.url === url).code;\n    const result = await getResult(scripts);\n\n    expect(result.items.map(item => getCodeForUrl(item.url))).toEqual([]);\n    expect(result.items).toHaveLength(0);\n  });\n\n  it('uses source maps to identify polyfills', async () => {\n    const map = {\n      sources: ['node_modules/blah/blah/es6.string.repeat.js'],\n      mappings: 'blah',\n    };\n    const script = {code: 'blah blah', url: 'https://www.example.com/0.js', map};\n    const result = await getResult([script]);\n\n    expect(result.items).toHaveLength(1);\n    expect(result.items[0].subItems.items).toMatchObject([\n      {\n        signal: 'String.prototype.repeat',\n        location: {line: 0, column: 0},\n      },\n    ]);\n  });\n\n  it('uses location from pattern matching over source map', async () => {\n    const map = {\n      sources: ['node_modules/blah/blah/es6.string.repeat.js'],\n      mappings: 'blah',\n    };\n    const script = {\n      code: 'some code;\\nString.prototype.repeat = function() {}',\n      url: 'https://www.example.com/0.js',\n      map,\n    };\n    const result = await getResult([script]);\n\n    expect(result.items).toHaveLength(1);\n    expect(result.items[0].subItems.items).toMatchObject([\n      {\n        signal: 'String.prototype.repeat',\n        location: {line: 1, column: 0},\n      },\n    ]);\n  });\n});\n\ndescribe('LegacyJavaScript signals', () => {\n  it('expect babel-preset-env = true variant to not have any signals', () => {\n    for (const summaryFilename of ['summary-signals.json', 'summary-signals-nomaps.json']) {\n      const signalSummary = require(`../../../scripts/legacy-javascript/${summaryFilename}`);\n      const expectedMissingSignals = [\n        'core-js-2-preset-env-esmodules/true',\n        'core-js-3-preset-env-esmodules/true',\n        'core-js-2-preset-env-esmodules/true-and-bugfixes',\n        'core-js-3-preset-env-esmodules/true-and-bugfixes',\n      ];\n      for (const expectedVariant of expectedMissingSignals) {\n        expect(signalSummary.variantsMissingSignals).toContain(expectedVariant);\n      }\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/non-composited-animations-test.js": {
      "tests": [
        {
          "id": "247",
          "name": "Non-composited animations audit correctly surfaces non-composited animations",
          "location": {
            "start": {
              "column": 4,
              "line": 13
            }
          }
        },
        {
          "id": "248",
          "name": "Non-composited animations audit properly removes duplicate reasons",
          "location": {
            "start": {
              "column": 4,
              "line": 60
            }
          }
        },
        {
          "id": "249",
          "name": "Non-composited animations audit does not surface composited animation",
          "location": {
            "start": {
              "column": 4,
              "line": 120
            }
          }
        },
        {
          "id": "250",
          "name": "Non-composited animations audit only surfaces actionable animation failure reasons",
          "location": {
            "start": {
              "column": 4,
              "line": 145
            }
          }
        },
        {
          "id": "251",
          "name": "Non-composited animations audit properly reports all failure reasons",
          "location": {
            "start": {
              "column": 4,
              "line": 169
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NonCompositedAnimationsAudit =\n  require('../../audits/non-composited-animations.js');\n\n/* eslint-env jest */\ndescribe('Non-composited animations audit', () => {\n  it('correctly surfaces non-composited animations', async () => {\n    const artifacts = {\n      TraceElements: [\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,1,DIV',\n          selector: 'body > div#animated-boi',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated-boi\">',\n          nodeId: 4,\n          animations: [\n            {failureReasonsMask: 8192, unsupportedProperties: ['height', 'width']},\n            {name: 'alpha', failureReasonsMask: 8192, unsupportedProperties: ['color']},\n            {name: 'beta', failureReasonsMask: 8192, unsupportedProperties: ['top']},\n          ],\n        },\n      ],\n      HostUserAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4216.0 Safari/537.36',\n    };\n\n    const auditResult = await NonCompositedAnimationsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(0);\n    expect(auditResult.details.headings).toHaveLength(2);\n    expect(auditResult.displayValue).toBeDisplayString('1 animated element found');\n    expect(auditResult.details.items).toHaveLength(1);\n    expect(auditResult.details.items[0].node).toEqual({\n      type: 'node',\n      path: '1,HTML,1,BODY,1,DIV',\n      selector: 'body > div#animated-boi',\n      nodeLabel: 'div',\n      snippet: '<div id=\"animated-boi\">',\n    });\n    expect(auditResult.details.items[0].subItems.items[0].failureReason)\n      .toBeDisplayString('Unsupported CSS Properties: height, width');\n    expect(auditResult.details.items[0].subItems.items[0].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[1].failureReason)\n      .toBeDisplayString('Unsupported CSS Property: color');\n    expect(auditResult.details.items[0].subItems.items[1].animation)\n      .toEqual('alpha');\n    expect(auditResult.details.items[0].subItems.items[2].failureReason)\n      .toBeDisplayString('Unsupported CSS Property: top');\n    expect(auditResult.details.items[0].subItems.items[2].animation)\n      .toEqual('beta');\n  });\n\n  it('properly removes duplicate reasons', async () => {\n    const artifacts = {\n      TraceElements: [\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,1,DIV',\n          selector: 'body > div#animated-1',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated-1\">',\n          nodeId: 4,\n          animations: [\n            {failureReasonsMask: 8192, unsupportedProperties: ['height']},\n            {failureReasonsMask: 8192, unsupportedProperties: ['height']},\n          ],\n        },\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,2,DIV',\n          selector: 'body > div#animated-2',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated-2\">',\n          nodeId: 5,\n          animations: [\n            {failureReasonsMask: 8192, unsupportedProperties: ['height']},\n          ],\n        },\n      ],\n      HostUserAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4216.0 Safari/537.36',\n    };\n\n    const auditResult = await NonCompositedAnimationsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(0);\n    expect(auditResult.details.headings).toHaveLength(1);\n    expect(auditResult.displayValue).toBeDisplayString('2 animated elements found');\n    expect(auditResult.details.items).toHaveLength(2);\n    expect(auditResult.details.items[0].node).toEqual({\n      type: 'node',\n      path: '1,HTML,1,BODY,1,DIV',\n      selector: 'body > div#animated-1',\n      nodeLabel: 'div',\n      snippet: '<div id=\"animated-1\">',\n    });\n    expect(auditResult.details.items[1].node).toEqual({\n      type: 'node',\n      path: '1,HTML,1,BODY,2,DIV',\n      selector: 'body > div#animated-2',\n      nodeLabel: 'div',\n      snippet: '<div id=\"animated-2\">',\n    });\n    expect(auditResult.details.items[0].subItems.items[0].failureReason)\n      .toBeDisplayString('Unsupported CSS Property: height');\n    expect(auditResult.details.items[0].subItems.items[0].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[1].subItems.items[0].failureReason)\n      .toBeDisplayString('Unsupported CSS Property: height');\n    expect(auditResult.details.items[1].subItems.items[0].animation)\n      .toBeUndefined();\n  });\n\n  it('does not surface composited animation', async () => {\n    const artifacts = {\n      TraceElements: [\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,1,DIV',\n          selector: 'body > div#animated-boi',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated-boi\">',\n          nodeId: 4,\n          animations: [\n            {failureReasonsMask: 0, unsupportedProperties: []},\n            {name: 'alpha', failureReasonsMask: 0, unsupportedProperties: []},\n          ],\n        },\n      ],\n      HostUserAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4216.0 Safari/537.36',\n    };\n\n    const auditResult = await NonCompositedAnimationsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.details.items).toHaveLength(0);\n  });\n\n  it('only surfaces actionable animation failure reasons', async () => {\n    const artifacts = {\n      TraceElements: [\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,1,DIV',\n          selector: 'body > div#animated-boi',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated-boi\">',\n          nodeId: 4,\n          animations: [\n            {name: 'alpha', failureReasonsMask: 4, unsupportedProperties: []}, // kInvalidAnimationOrEffect\n          ],\n        },\n      ],\n      HostUserAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4216.0 Safari/537.36',\n    };\n\n    const auditResult = await NonCompositedAnimationsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.details.items).toHaveLength(0);\n  });\n\n  it('properly reports all failure reasons', async () => {\n    const artifacts = {\n      TraceElements: [\n        {\n          traceEventType: 'animation',\n          devtoolsNodePath: '1,HTML,1,BODY,1,DIV',\n          selector: 'body > div#animated',\n          nodeLabel: 'div',\n          snippet: '<div id=\"animated\">',\n          nodeId: 4,\n          animations: [\n            {failureReasonsMask: 0b11100001011000, unsupportedProperties: ['height']},\n          ],\n        },\n      ],\n      HostUserAgent: 'Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_6) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4216.0 Safari/537.36',\n    };\n\n    const auditResult = await NonCompositedAnimationsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(0);\n    expect(auditResult.details.headings).toHaveLength(1);\n    expect(auditResult.displayValue).toBeDisplayString('1 animated element found');\n    expect(auditResult.details.items).toHaveLength(1);\n    expect(auditResult.details.items[0].node).toEqual({\n      type: 'node',\n      path: '1,HTML,1,BODY,1,DIV',\n      selector: 'body > div#animated',\n      nodeLabel: 'div',\n      snippet: '<div id=\"animated\">',\n    });\n    expect(auditResult.details.items[0].subItems.items[0].failureReason)\n      .toBeDisplayString('Unsupported CSS Property: height');\n    expect(auditResult.details.items[0].subItems.items[0].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[1].failureReason)\n      .toBeDisplayString('Transform-related property depends on box size');\n    expect(auditResult.details.items[0].subItems.items[1].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[2].failureReason)\n      .toBeDisplayString('Filter-related property may move pixels');\n    expect(auditResult.details.items[0].subItems.items[2].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[3].failureReason)\n      .toBeDisplayString('Effect has composite mode other than \"replace\"');\n    expect(auditResult.details.items[0].subItems.items[3].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[4].failureReason)\n      .toBeDisplayString('Target has another animation which is incompatible');\n    expect(auditResult.details.items[0].subItems.items[4].animation)\n      .toBeUndefined();\n    expect(auditResult.details.items[0].subItems.items[5].failureReason)\n      .toBeDisplayString('Effect has unsupported timing parameters');\n    expect(auditResult.details.items[0].subItems.items[5].animation)\n      .toBeUndefined();\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/render-blocking-resources-test.js": {
      "tests": [
        {
          "id": "252",
          "name": "Render blocking resources audit evaluates http2 input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 26
            }
          }
        },
        {
          "id": "253",
          "name": "Render blocking resources audit evaluates amp page correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 45
            }
          }
        },
        {
          "id": "254",
          "name": "Render blocking resources audit #estimateSavingsWithGraphs computes savings from deferring",
          "location": {
            "start": {
              "column": 6,
              "line": 110
            }
          }
        },
        {
          "id": "255",
          "name": "Render blocking resources audit #estimateSavingsWithGraphs computes savings from inlining",
          "location": {
            "start": {
              "column": 6,
              "line": 130
            }
          }
        },
        {
          "id": "256",
          "name": "Render blocking resources audit #estimateSavingsWithGraphs does not report savings from AMP-stack when document already exceeds 2.1s",
          "location": {
            "start": {
              "column": 6,
              "line": 147
            }
          }
        },
        {
          "id": "257",
          "name": "Render blocking resources audit #estimateSavingsWithGraphs computes savings for AMP stylesheets loaded partially before 2.1s",
          "location": {
            "start": {
              "column": 6,
              "line": 193
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst RenderBlockingResourcesAudit = require('../../../audits/byte-efficiency/render-blocking-resources.js'); // eslint-disable-line max-len\n\nconst mobileSlow4G = require('../../../config/constants.js').throttling.mobileSlow4G;\nconst NetworkNode = require('../../../lib/dependency-graph/network-node.js');\nconst CPUNode = require('../../../lib/dependency-graph/cpu-node.js');\nconst Simulator = require('../../../lib/dependency-graph/simulator/simulator.js');\nconst NetworkRequest = require('../../../lib/network-request.js');\nconst assert = require('assert').strict;\n\nconst trace = require('../../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\nconst ampTrace = require('../../fixtures/traces/amp-m86.trace.json');\nconst ampDevtoolsLog = require('../../fixtures/traces/amp-m86.devtoolslog.json');\n\n/* eslint-env jest */\n\ndescribe('Render blocking resources audit', () => {\n  it('evaluates http2 input correctly', async () => {\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n      TagsBlockingFirstPaint: [\n        {\n          tag: {url: 'https://pwa.rocks/script.js'},\n          transferSize: 621,\n        },\n      ],\n    };\n\n    const settings = {throttlingMethod: 'simulate', throttling: mobileSlow4G};\n    const computedCache = new Map();\n    const result = await RenderBlockingResourcesAudit.audit(artifacts, {settings, computedCache});\n    assert.equal(result.score, 1);\n    assert.equal(result.numericValue, 0);\n  });\n\n  it('evaluates amp page correctly', async () => {\n    const artifacts = {\n      traces: {defaultPass: ampTrace},\n      devtoolsLogs: {defaultPass: ampDevtoolsLog},\n      TagsBlockingFirstPaint: [\n        {\n          tag: {\n            url:\n              'https://fonts.googleapis.com/css?family=Fira+Sans+Condensed%3A400%2C400i%2C600%2C600i&subset=latin%2Clatin-ext&display=swap',\n          },\n          transferSize: 621,\n        },\n        {\n          tag: {url: 'https://fonts.googleapis.com/css?family=Montserrat'},\n          transferSize: 621,\n        },\n      ],\n      Stacks: [\n        {\n          detector: 'js',\n          id: 'amp',\n          name: 'AMP',\n          version: '2006180239003',\n          npm: 'https://www.npmjs.com/org/ampproject',\n        },\n      ],\n    };\n\n    const settings = {throttlingMethod: 'simulate', throttling: mobileSlow4G};\n    const computedCache = new Map();\n    const result = await RenderBlockingResourcesAudit.audit(artifacts, {settings, computedCache});\n    expect(result.numericValue).toMatchInlineSnapshot(`450`);\n    expect(result.details.items).toMatchObject([\n      {\n        'totalBytes': 621,\n        'url': 'https://fonts.googleapis.com/css?family=Fira+Sans+Condensed%3A400%2C400i%2C600%2C600i&subset=latin%2Clatin-ext&display=swap',\n        'wastedMs': 440,\n      },\n      {\n        'totalBytes': 621,\n        'url': 'https://fonts.googleapis.com/css?family=Montserrat',\n        'wastedMs': 440,\n      },\n    ]);\n  });\n\n  describe('#estimateSavingsWithGraphs', () => {\n    const estimate = RenderBlockingResourcesAudit.estimateSavingsWithGraphs;\n\n    let requestId;\n    let record;\n    let recordSlow;\n\n    beforeEach(() => {\n      requestId = 1;\n      record = props => {\n        const parsedURL = {host: 'example.com', securityOrigin: 'http://example.com'};\n        return Object.assign({parsedURL, requestId: requestId++}, props);\n      };\n      recordSlow = props => {\n        const parsedURL = {host: 'slow.com', securityOrigin: 'http://slow.com'};\n        return Object.assign({parsedURL, requestId: requestId++}, props);\n      };\n    });\n\n    it('computes savings from deferring', () => {\n      const serverResponseTimeByOrigin = new Map([['http://example.com', 100]]);\n      const simulator = new Simulator({rtt: 1000, serverResponseTimeByOrigin});\n      const documentNode = new NetworkNode(record({transferSize: 4000}));\n      const styleNode = new NetworkNode(record({transferSize: 3000}));\n      const scriptNode = new NetworkNode(record({transferSize: 1000}));\n      const scriptExecution = new CPUNode({tid: 1, ts: 1, dur: 50 * 1000}, []);\n      const deferredIds = new Set([2, 3]);\n      const wastedBytesMap = new Map();\n      const Stacks = [];\n\n      documentNode.addDependent(scriptNode);\n      documentNode.addDependent(styleNode);\n      documentNode.addDependent(scriptExecution);\n      const result = estimate(simulator, documentNode, deferredIds, wastedBytesMap, Stacks);\n      // Saving 1000 + 1000 + 100ms for TCP handshake + request/response + server response time\n      // -200 ms for the CPU task that becomes new bottleneck\n      assert.equal(result, 1900);\n    });\n\n    it('computes savings from inlining', () => {\n      const serverResponseTimeByOrigin = new Map([['http://example.com', 100]]);\n      const simulator = new Simulator({rtt: 1000, serverResponseTimeByOrigin});\n      const documentNode = new NetworkNode(record({transferSize: 10 * 1000}));\n      const styleNode = new NetworkNode(\n        record({transferSize: 23 * 1000, resourceType: NetworkRequest.TYPES.Stylesheet})\n      ); // pushes document over 14KB\n      const deferredIds = new Set([2]);\n      const wastedBytesMap = new Map([[undefined, 18 * 1000]]);\n      const Stacks = [];\n      documentNode.addDependent(styleNode);\n\n      const result = estimate(simulator, documentNode, deferredIds, wastedBytesMap, Stacks);\n      // Saving 1000 + 1000 + 100ms for TCP handshake + 1 RT savings + server response time\n      assert.equal(result, 2100);\n    });\n\n    it('does not report savings from AMP-stack when document already exceeds 2.1s', () => {\n      const serverResponseTimeByOrigin = new Map([\n        ['http://example.com', 100],\n        ['http://slow.com', 4000],\n      ]);\n      const Stacks = [\n        {\n          detector: 'js',\n          id: 'amp',\n          name: 'AMP',\n          version: '2006180239003',\n          npm: 'https://www.npmjs.com/org/ampproject',\n        },\n      ];\n      const simulator = new Simulator({rtt: 1000, serverResponseTimeByOrigin});\n      const documentNode = new NetworkNode(record({transferSize: 4000}));\n      const styleNode = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const styleNode2 = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const styleNode3 = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const deferredIds = new Set([2, 3, 4]);\n      const wastedBytesMap = new Map();\n\n      documentNode.addDependent(styleNode);\n      styleNode.addDependent(styleNode2);\n      documentNode.addDependent(styleNode3);\n      const result = estimate(simulator, documentNode, deferredIds, wastedBytesMap, Stacks);\n      // Document node: 2000 + 1000 + 100 + 1000 = 4100 for dns + TCP handshake + server response + requests\n      // The style nodes are loaded async after 2100 so the potential savings are 0\n      assert.equal(result, 0);\n    });\n\n    it('computes savings for AMP stylesheets loaded partially before 2.1s', () => {\n      const serverResponseTimeByOrigin = new Map([\n        ['http://example.com', 100],\n        ['http://slow.com', 4000],\n      ]);\n      const Stacks = [\n        {\n          detector: 'js',\n          id: 'amp',\n          name: 'AMP',\n          version: '2006180239003',\n          npm: 'https://www.npmjs.com/org/ampproject',\n        },\n      ];\n      const simulator = new Simulator({rtt: 100, serverResponseTimeByOrigin});\n      const documentNode = new NetworkNode(record({transferSize: 4000}));\n      const styleNode = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const styleNode2 = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const styleNode3 = new NetworkNode(\n        recordSlow({\n          transferSize: 3000,\n          resourceType: NetworkRequest.TYPES.Stylesheet,\n        })\n      );\n      const deferredIds = new Set([2, 3, 4]);\n      const wastedBytesMap = new Map();\n\n      documentNode.addDependent(styleNode);\n      styleNode.addDependent(styleNode2);\n      documentNode.addDependent(styleNode3);\n      const result = estimate(simulator, documentNode, deferredIds, wastedBytesMap, Stacks);\n      // Document node: 200 + 100 + 100 + 100 = 500 for dns + TCP handshake + server response + request\n      // Remaining 1600 ms can be saved before 2100 AMP stylesheet deadline\n      assert.equal(result, 1600);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/uses-long-cache-ttl-test.js": {
      "tests": [
        {
          "id": "258",
          "name": "Cache headers audit detects missing cache headers",
          "location": {
            "start": {
              "column": 4,
              "line": 43
            }
          }
        },
        {
          "id": "259",
          "name": "Cache headers audit detects low value max-age headers",
          "location": {
            "start": {
              "column": 4,
              "line": 55
            }
          }
        },
        {
          "id": "260",
          "name": "Cache headers audit ignores nonpositive and nonfinite max-age headers",
          "location": {
            "start": {
              "column": 4,
              "line": 78
            }
          }
        },
        {
          "id": "261",
          "name": "Cache headers audit detects low value expires headers",
          "location": {
            "start": {
              "column": 4,
              "line": 94
            }
          }
        },
        {
          "id": "262",
          "name": "Cache headers audit respects expires/cache-control priority",
          "location": {
            "start": {
              "column": 4,
              "line": 118
            }
          }
        },
        {
          "id": "263",
          "name": "Cache headers audit respects multiple cache-control headers",
          "location": {
            "start": {
              "column": 4,
              "line": 142
            }
          }
        },
        {
          "id": "264",
          "name": "Cache headers audit catches records with Etags",
          "location": {
            "start": {
              "column": 4,
              "line": 162
            }
          }
        },
        {
          "id": "265",
          "name": "Cache headers audit ignores explicit no-cache policies",
          "location": {
            "start": {
              "column": 4,
              "line": 175
            }
          }
        },
        {
          "id": "266",
          "name": "Cache headers audit ignores assets where policy implies they should not be cached long periods",
          "location": {
            "start": {
              "column": 4,
              "line": 192
            }
          }
        },
        {
          "id": "267",
          "name": "Cache headers audit ignores potentially uncacheable records",
          "location": {
            "start": {
              "column": 4,
              "line": 207
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst CacheHeadersAudit = require('../../../audits/byte-efficiency/uses-long-cache-ttl.js');\nconst assert = require('assert').strict;\nconst NetworkRequest = require('../../../lib/network-request.js');\nconst options = CacheHeadersAudit.defaultOptions;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\nfunction networkRecord(options = {}) {\n  const headers = [];\n  Object.keys(options.headers || {}).forEach(name => {\n    headers.push({name, value: options.headers[name]});\n  });\n\n  return {\n    url: options.url || 'https://example.com/asset',\n    statusCode: options.statusCode || 200,\n    resourceType: options.resourceType || NetworkRequest.TYPES.Script,\n    transferSize: options.transferSize || 10000,\n    protocol: options.protocol || 'http/1.1',\n    responseHeaders: headers,\n  };\n}\n\ndescribe('Cache headers audit', () => {\n  function getArtifacts(networkRecords) {\n    const devtoolLogs = networkRecordsToDevtoolsLog(networkRecords);\n\n    return {\n      devtoolsLogs: {\n        [CacheHeadersAudit.DEFAULT_PASS]: devtoolLogs,\n      },\n    };\n  }\n\n  it('detects missing cache headers', () => {\n    const networkRecords = [networkRecord()];\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 1);\n      assert.equal(items[0].cacheLifetimeMs, 0);\n      assert.equal(items[0].wastedBytes, 10000);\n      expect(result.displayValue).toBeDisplayString('1 resource found');\n    });\n  });\n\n  it('detects low value max-age headers', () => {\n    const networkRecords = [\n      networkRecord({headers: {'cache-control': 'max-age=3600'}}), // an hour\n      networkRecord({headers: {'cache-control': 'max-age=3600'}, transferSize: 100000}), // an hour\n      networkRecord({headers: {'cache-control': 'max-age=86400'}}), // a day\n      networkRecord({headers: {'cache-control': 'max-age=31536000'}}), // a year\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 3);\n      assert.equal(items[0].cacheLifetimeMs, 3600 * 1000);\n      assert.equal(items[0].cacheHitProbability, 0.2);\n      assert.equal(Math.round(items[0].wastedBytes), 80000);\n      assert.equal(items[1].cacheLifetimeMs, 3600 * 1000);\n      assert.equal(Math.round(items[1].wastedBytes), 8000);\n      assert.equal(items[2].cacheLifetimeMs, 86400 * 1000);\n      assert.equal(Math.round(items[2].wastedBytes), 4000);\n      expect(result.displayValue).toBeDisplayString('3 resources found');\n    });\n  });\n\n  it('ignores nonpositive and nonfinite max-age headers', () => {\n    const infinityMaxAgeStringValue = '1'.repeat(400);\n    assert.equal(Number.parseInt(infinityMaxAgeStringValue), Infinity);\n    const networkRecords = [\n      networkRecord({headers: {'cache-control': 'max-age=' + infinityMaxAgeStringValue}}),\n      networkRecord({headers: {'cache-control': 'max-age=-' + infinityMaxAgeStringValue}}),\n      networkRecord({headers: {'cache-control': 'max-age=-100'}}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 0);\n    });\n  });\n\n  it('detects low value expires headers', () => {\n    const expiresIn = seconds => new Date(Date.now() + seconds * 1000).toGMTString();\n    const closeEnough = (actual, exp) => assert.ok(Math.abs(actual - exp) <= 5, 'invalid expires');\n\n    const networkRecords = [\n      networkRecord({headers: {expires: expiresIn(86400 * 365)}}), // a year\n      networkRecord({headers: {expires: expiresIn(86400 * 90)}}), // 3 months\n      networkRecord({headers: {expires: expiresIn(86400)}}), // a day\n      networkRecord({headers: {expires: expiresIn(3600)}}), // an hour\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 3);\n      closeEnough(items[0].cacheLifetimeMs, 3600 * 1000);\n      assert.equal(Math.round(items[0].wastedBytes), 8000);\n      closeEnough(items[1].cacheLifetimeMs, 86400 * 1000);\n      assert.equal(Math.round(items[1].wastedBytes), 4000);\n      closeEnough(items[2].cacheLifetimeMs, 86400 * 90 * 1000);\n      assert.equal(Math.round(items[2].wastedBytes), 768);\n    });\n  });\n\n  it('respects expires/cache-control priority', () => {\n    const expiresIn = seconds => new Date(Date.now() + seconds * 1000).toGMTString();\n\n    const networkRecords = [\n      networkRecord({headers: {\n        'cache-control': 'no-transform,max-age=3600',\n        'expires': expiresIn(86400),\n      }}),\n      networkRecord({headers: {\n        'expires': expiresIn(86400),\n      }}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 2);\n      assert.ok(Math.abs(items[0].cacheLifetimeMs - 3600 * 1000) <= 5, 'invalid expires parsing');\n      assert.equal(Math.round(items[0].wastedBytes), 8000);\n      assert.ok(Math.abs(items[1].cacheLifetimeMs - 86400 * 1000) <= 5, 'invalid expires parsing');\n      assert.equal(Math.round(items[1].wastedBytes), 4000);\n    });\n  });\n\n  it('respects multiple cache-control headers', () => {\n    const networkRecords = [\n      networkRecord({headers: {\n        'cache-control': 'max-age=31536000, public',\n        'Cache-control': 'no-transform',\n      }}),\n      networkRecord({headers: {\n        'Cache-Control': 'no-transform',\n        'cache-control': 'max-age=3600',\n        'Cache-control': 'public',\n      }}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 1);\n    });\n  });\n\n  it('catches records with Etags', () => {\n    const networkRecords = [\n      networkRecord({headers: {etag: 'md5hashhere'}}),\n      networkRecord({headers: {'etag': 'md5hashhere', 'cache-control': 'max-age=60'}}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(items.length, 2);\n    });\n  });\n\n  it('ignores explicit no-cache policies', () => {\n    const networkRecords = [\n      networkRecord({headers: {expires: '-1'}}),\n      networkRecord({headers: {'cache-control': 'no-store'}}),\n      networkRecord({headers: {'cache-control': 'no-cache'}}),\n      networkRecord({headers: {'cache-control': 'max-age=0'}}),\n      networkRecord({headers: {pragma: 'no-cache'}}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(result.score, 1);\n      assert.equal(items.length, 0);\n    });\n  });\n\n  it('ignores assets where policy implies they should not be cached long periods', () => {\n    const networkRecords = [\n      networkRecord({headers: {'cache-control': 'must-revalidate'}}),\n      networkRecord({headers: {'cache-control': 'no-cache'}}),\n      networkRecord({headers: {'cache-control': 'private'}}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      const items = result.details.items;\n      assert.equal(result.score, 1);\n      assert.equal(items.length, 0);\n    });\n  });\n\n  it('ignores potentially uncacheable records', () => {\n    const networkRecords = [\n      networkRecord({statusCode: 500}),\n      networkRecord({url: 'https://example.com/dynamic.js?userId=crazy', transferSize: 10}),\n      networkRecord({url: 'data:image/jpeg;base64,what', protocol: 'data'}),\n      networkRecord({url: 'blob:http://example.com/ca6df701-9c67-49fd-a787', protocol: 'blob'}),\n      networkRecord({resourceType: NetworkRequest.TYPES.XHR}),\n    ];\n\n    const context = {options, computedCache: new Map()};\n    return CacheHeadersAudit.audit(getArtifacts(networkRecords), context).then(result => {\n      assert.equal(result.score, 1);\n      const items = result.details.items;\n      assert.equal(items.length, 1);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/performance-budget-test.js": {
      "tests": [
        {
          "id": "268",
          "name": "Performance: Resource budgets audit with a budget.json includes table columns for requet & file size overages",
          "location": {
            "start": {
              "column": 6,
              "line": 59
            }
          }
        },
        {
          "id": "269",
          "name": "Performance: Resource budgets audit with a budget.json table item information is correct",
          "location": {
            "start": {
              "column": 6,
              "line": 64
            }
          }
        },
        {
          "id": "270",
          "name": "Performance: Resource budgets audit with a budget.json request & transfer size overage are displayed",
          "location": {
            "start": {
              "column": 8,
              "line": 75
            }
          }
        },
        {
          "id": "271",
          "name": "Performance: Resource budgets audit with a budget.json request & transfer size overage are empty for passing budgets",
          "location": {
            "start": {
              "column": 8,
              "line": 82
            }
          }
        },
        {
          "id": "272",
          "name": "Performance: Resource budgets audit with a budget.json request & transfer size overage convert budgets from kilobytes to bytes during calculations",
          "location": {
            "start": {
              "column": 8,
              "line": 89
            }
          }
        },
        {
          "id": "273",
          "name": "Performance: Resource budgets audit with a budget.json third-party resource identification guesses root domain if firstPartyHostnames is not provided",
          "location": {
            "start": {
              "column": 8,
              "line": 105
            }
          }
        },
        {
          "id": "274",
          "name": "Performance: Resource budgets audit with a budget.json third-party resource identification uses firstPartyHostnames when provided",
          "location": {
            "start": {
              "column": 8,
              "line": 126
            }
          }
        },
        {
          "id": "275",
          "name": "Performance: Resource budgets audit with a budget.json only includes rows for resource types with budgets",
          "location": {
            "start": {
              "column": 6,
              "line": 151
            }
          }
        },
        {
          "id": "276",
          "name": "Performance: Resource budgets audit with a budget.json sorts rows by descending file size overage",
          "location": {
            "start": {
              "column": 6,
              "line": 156
            }
          }
        },
        {
          "id": "277",
          "name": "Performance: Resource budgets audit budget selection with a matching budget applies the correct budget",
          "location": {
            "start": {
              "column": 8,
              "line": 184
            }
          }
        },
        {
          "id": "278",
          "name": "Performance: Resource budgets audit budget selection without a matching budget returns \"audit does not apply\"",
          "location": {
            "start": {
              "column": 8,
              "line": 228
            }
          }
        },
        {
          "id": "279",
          "name": "Performance: Resource budgets audit budget selection without a budget.json returns \"audit does not apply\"",
          "location": {
            "start": {
              "column": 8,
              "line": 250
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ResourceBudgetAudit = require('../../audits/performance-budget.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Performance: Resource budgets audit', () => {\n  let artifacts;\n  let context;\n  beforeEach(() => {\n    artifacts = {\n      devtoolsLogs: {\n        defaultPass: networkRecordsToDevtoolsLog([\n          {url: 'http://example.com', resourceType: 'Document', transferSize: 30},\n          {url: 'http://example.com/app.js', resourceType: 'Script', transferSize: 10},\n          {url: 'http://my-cdn.com/styles.css', resourceType: 'Stylesheet', transferSize: 25},\n          {url: 'http://third-party.com/script.js', resourceType: 'Script', transferSize: 50},\n          {url: 'http://third-party.com/file.jpg', resourceType: 'Image', transferSize: 70},\n        ]),\n      },\n      URL: {requestedUrl: 'http://example.com', finalUrl: 'http://example.com'},\n    };\n    context = {computedCache: new Map(), settings: {}};\n  });\n\n  describe('with a budget.json', () => {\n    beforeEach(() => {\n      context.settings.budgets = [{\n        path: '/',\n        resourceSizes: [\n          {\n            resourceType: 'script',\n            budget: 0,\n          },\n          {\n            resourceType: 'image',\n            budget: 1000,\n          },\n        ],\n        resourceCounts: [\n          {\n            resourceType: 'script',\n            budget: 0,\n          },\n          {\n            resourceType: 'image',\n            budget: 1000,\n          },\n        ],\n      }];\n    });\n\n    it('includes table columns for requet & file size overages', async () => {\n      const result = await ResourceBudgetAudit.audit(artifacts, context);\n      expect(result.details.headings).toHaveLength(5);\n    });\n\n    it('table item information is correct', async () => {\n      const result = await ResourceBudgetAudit.audit(artifacts, context);\n      const item = result.details.items[0];\n      expect(item.label).toBeDisplayString('Script');\n      expect(item.requestCount).toBe(2);\n      expect(item.transferSize).toBe(60);\n      expect(item.sizeOverBudget).toBe(60);\n      expect(item.countOverBudget).toBeDisplayString('2 requests');\n    });\n\n    describe('request & transfer size overage', () => {\n      it('are displayed', async () => {\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        const scriptRow = result.details.items.find(r => r.resourceType === 'script');\n        expect(scriptRow.sizeOverBudget).toBe(60);\n        expect(scriptRow.countOverBudget).toBeDisplayString('2 requests');\n      });\n\n      it('are empty for passing budgets', async () => {\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        const imageRow = result.details.items.find(r => r.resourceType === 'image');\n        expect(imageRow.sizeOverBudget).toBeUndefined();\n        expect(imageRow.countOverBudget).toBeUndefined();\n      });\n\n      it('convert budgets from kilobytes to bytes during calculations', async () => {\n        context.settings.budgets = [{\n          path: '/',\n          resourceSizes: [\n            {\n              resourceType: 'document',\n              budget: 20,\n            },\n          ],\n        }];\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details.items[0].siveOverBudget).toBeUndefined();\n      });\n    });\n\n    describe('third-party resource identification', () => {\n      it('guesses root domain if firstPartyHostnames is not provided', async () => {\n        context.settings.budgets = [{\n          path: '/',\n          resourceSizes: [\n            {\n              resourceType: 'third-party',\n              budget: 0,\n            },\n          ],\n          resourceCounts: [\n            {\n              resourceType: 'third-party',\n              budget: 0,\n            },\n          ],\n        }];\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details.items[0].transferSize).toBe(145);\n        expect(result.details.items[0].requestCount).toBe(3);\n      });\n\n      it('uses firstPartyHostnames when provided', async () => {\n        context.settings.budgets = [{\n          path: '/',\n          options: {\n            firstPartyHostnames: ['example.com', 'my-cdn.com'],\n          },\n          resourceSizes: [\n            {\n              resourceType: 'third-party',\n              budget: 0,\n            },\n          ],\n          resourceCounts: [\n            {\n              resourceType: 'third-party',\n              budget: 0,\n            },\n          ],\n        }];\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details.items[0].transferSize).toBe(120);\n        expect(result.details.items[0].requestCount).toBe(2);\n      });\n    });\n\n    it('only includes rows for resource types with budgets', async () => {\n      const result = await ResourceBudgetAudit.audit(artifacts, context);\n      expect(result.details.items).toHaveLength(2);\n    });\n\n    it('sorts rows by descending file size overage', async () => {\n      context.settings.budgets = [{\n        path: '/',\n        resourceSizes: [\n          {\n            resourceType: 'document',\n            budget: 0,\n          },\n          {\n            resourceType: 'script',\n            budget: 0,\n          },\n          {\n            resourceType: 'image',\n            budget: 0,\n          },\n        ],\n      }];\n      const result = await ResourceBudgetAudit.audit(artifacts, context);\n      const items = result.details.items;\n      items.slice(0, -1).forEach((item, index) => {\n        expect(item.transferSize).toBeGreaterThanOrEqual(items[index + 1].transferSize);\n      });\n    });\n  });\n\n  describe('budget selection', () => {\n    describe('with a matching budget', () => {\n      it('applies the correct budget', async () => {\n        artifacts = {\n          devtoolsLogs: {\n            defaultPass: networkRecordsToDevtoolsLog([\n              {url: 'http://example.com/file.html', resourceType: 'Document', transferSize: 30},\n              {url: 'http://third-party.com/script.js', resourceType: 'Script', transferSize: 50},\n            ]),\n          },\n          URL: {requestedUrl: 'http://example.com/file.html', finalUrl: 'http://example.com/file.html'},\n        };\n        context.settings.budgets = [{\n          path: '/',\n          resourceSizes: [\n            {\n              resourceType: 'script',\n              budget: 0,\n            },\n          ],\n        },\n        {\n          path: '/file.html',\n          resourceSizes: [\n            {\n              resourceType: 'image',\n              budget: 0,\n            },\n          ],\n        },\n        {\n          path: '/not-a-match',\n          resourceSizes: [\n            {\n              resourceType: 'document',\n              budget: 0,\n            },\n          ],\n        },\n        ];\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details.items[0].resourceType).toBe('image');\n      });\n    });\n\n    describe('without a matching budget', () => {\n      it('returns \"audit does not apply\"', async () => {\n        context.settings.budgets = [{\n          path: '/not-a-match',\n          resourceSizes: [\n            {\n              resourceType: 'script',\n              budget: 0,\n            },\n          ],\n        },\n        ];\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details).toBeUndefined();\n        expect(result.notApplicable).toBe(true);\n      });\n    });\n\n    describe('without a budget.json', () => {\n      beforeEach(() => {\n        context.settings.budgets = null;\n      });\n\n      it('returns \"audit does not apply\"', async () => {\n        const result = await ResourceBudgetAudit.audit(artifacts, context);\n        expect(result.details).toBeUndefined();\n        expect(result.notApplicable).toBe(true);\n      });\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/errors-in-console-test.js": {
      "tests": [
        {
          "id": "280",
          "name": "Console error logs audit passes when no console messages were found",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "281",
          "name": "Console error logs audit filter out the non error logs",
          "location": {
            "start": {
              "column": 4,
              "line": 24
            }
          }
        },
        {
          "id": "282",
          "name": "Console error logs audit fails when error logs are found ",
          "location": {
            "start": {
              "column": 4,
              "line": 41
            }
          }
        },
        {
          "id": "283",
          "name": "Console error logs audit handle the case when some logs fields are undefined",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "284",
          "name": "Console error logs audit handle the case when exception info is not present",
          "location": {
            "start": {
              "column": 4,
              "line": 116
            }
          }
        },
        {
          "id": "285",
          "name": "Console error logs audit options does nothing with an empty pattern",
          "location": {
            "start": {
              "column": 6,
              "line": 145
            }
          }
        },
        {
          "id": "287",
          "name": "Console error logs audit options does nothing with an empty description",
          "location": {
            "start": {
              "column": 6,
              "line": 164
            }
          }
        },
        {
          "id": "287",
          "name": "Console error logs audit options does nothing with an empty description",
          "location": {
            "start": {
              "column": 6,
              "line": 181
            }
          }
        },
        {
          "id": "288",
          "name": "Console error logs audit options filters console messages as a string",
          "location": {
            "start": {
              "column": 6,
              "line": 198
            }
          }
        },
        {
          "id": "289",
          "name": "Console error logs audit options filters console messages as a regex",
          "location": {
            "start": {
              "column": 6,
              "line": 217
            }
          }
        },
        {
          "id": "290",
          "name": "Console error logs audit options filters exceptions with both regex and strings",
          "location": {
            "start": {
              "column": 6,
              "line": 236
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst ErrorLogsAudit = require('../../audits/errors-in-console.js');\nconst assert = require('assert').strict;\n\ndescribe('Console error logs audit', () => {\n  it('passes when no console messages were found', () => {\n    const auditResult = ErrorLogsAudit.audit({\n      ConsoleMessages: [],\n      RuntimeExceptions: [],\n    }, {options: {}});\n    assert.equal(auditResult.score, 1);\n    assert.ok(!auditResult.displayValue, 0);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('filter out the non error logs', () => {\n    const auditResult = ErrorLogsAudit.audit({\n      ConsoleMessages: [\n        {\n          entry: {\n            level: 'info',\n            source: 'network',\n            text: 'This is a simple info msg',\n          },\n        },\n      ],\n      RuntimeExceptions: [],\n    }, {options: {}});\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('fails when error logs are found ', () => {\n    const auditResult = ErrorLogsAudit.audit({\n      ConsoleMessages: [\n        {\n          entry: {\n            level: 'error',\n            source: 'network',\n            text: 'The server responded with a status of 404 (Not Found)',\n            url: 'http://www.example.com/favicon.ico',\n          },\n        }, {\n          entry: {\n            level: 'error',\n            source: 'network',\n            text: 'WebSocket connection failed: Unexpected response code: 500',\n            url: 'http://www.example.com/wsconnect.ws',\n          },\n        },\n      ],\n      RuntimeExceptions: [{\n        'timestamp': 1506535813608.003,\n        'exceptionDetails': {\n          'url': 'http://example.com/fancybox.js',\n          'stackTrace': {\n            'callFrames': [\n              {\n                'url': 'http://example.com/fancybox.js',\n                'lineNumber': 28,\n                'columnNumber': 20,\n              },\n            ],\n          },\n          'exception': {\n            'className': 'TypeError',\n            'description': 'TypeError: Cannot read property \\'msie\\' of undefined',\n          },\n          'executionContextId': 3,\n        },\n      }],\n    }, {options: {}});\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 3);\n    assert.equal(auditResult.details.items[0].url, 'http://www.example.com/favicon.ico');\n    assert.equal(auditResult.details.items[0].description,\n      'The server responded with a status of 404 (Not Found)');\n    assert.equal(auditResult.details.items[1].url,\n      'http://example.com/fancybox.js');\n    assert.equal(auditResult.details.items[1].description,\n      'TypeError: Cannot read property \\'msie\\' of undefined');\n    assert.equal(auditResult.details.items[2].url, 'http://www.example.com/wsconnect.ws');\n    assert.equal(auditResult.details.items[2].description,\n      'WebSocket connection failed: Unexpected response code: 500');\n  });\n\n  it('handle the case when some logs fields are undefined', () => {\n    const auditResult = ErrorLogsAudit.audit({\n      ConsoleMessages: [\n        {\n          entry: {\n            level: 'error',\n          },\n        },\n      ],\n      RuntimeExceptions: [],\n    }, {options: {}});\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    // url is undefined\n    assert.strictEqual(auditResult.details.items[0].url, undefined);\n    // text is undefined\n    assert.strictEqual(auditResult.details.items[0].description, undefined);\n  });\n\n  // Checks bug #4188\n  it('handle the case when exception info is not present', () => {\n    const auditResult = ErrorLogsAudit.audit({\n      ConsoleMessages: [],\n      RuntimeExceptions: [{\n        'timestamp': 1506535813608.003,\n        'exceptionDetails': {\n          'url': 'http://example.com/fancybox.js',\n          'text': 'TypeError: Cannot read property \\'msie\\' of undefined',\n          'stackTrace': {\n            'callFrames': [\n              {\n                'url': 'http://example.com/fancybox.js',\n                'lineNumber': 28,\n                'columnNumber': 20,\n              },\n            ],\n          },\n          'executionContextId': 3,\n        },\n      }],\n    }, {options: {}});\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.strictEqual(auditResult.details.items[0].url, 'http://example.com/fancybox.js');\n    assert.strictEqual(auditResult.details.items[0].description,\n      'TypeError: Cannot read property \\'msie\\' of undefined');\n  });\n\n  describe('options', () => {\n    it('does nothing with an empty pattern', () => {\n      const options = {ignoredPatterns: ''};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [\n          {\n            entry: {\n              level: 'error',\n              source: 'network',\n              text: 'This is a simple error msg',\n            },\n          },\n        ],\n        RuntimeExceptions: [],\n      }, {options});\n\n      expect(result.score).toBe(0);\n      expect(result.details.items).toHaveLength(1);\n    });\n\n    it('does nothing with an empty description', () => {\n      const options = {ignoredPatterns: 'pattern'};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [\n          {\n            entry: {\n              level: 'error',\n            },\n          },\n        ],\n        RuntimeExceptions: [],\n      }, {options});\n\n      expect(result.score).toBe(0);\n      expect(result.details.items).toHaveLength(1);\n    });\n\n    it('does nothing with an empty description', () => {\n      const options = {ignoredPatterns: 'pattern'};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [\n          {\n            entry: {\n              level: 'error',\n            },\n          },\n        ],\n        RuntimeExceptions: [],\n      }, {options});\n\n      expect(result.score).toBe(0);\n      expect(result.details.items).toHaveLength(1);\n    });\n\n    it('filters console messages as a string', () => {\n      const options = {ignoredPatterns: ['simple']};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [\n          {\n            entry: {\n              level: 'error',\n              source: 'network',\n              text: 'This is a simple error msg',\n            },\n          },\n        ],\n        RuntimeExceptions: [],\n      }, {options});\n\n      expect(result.score).toBe(1);\n      expect(result.details.items).toHaveLength(0);\n    });\n\n    it('filters console messages as a regex', () => {\n      const options = {ignoredPatterns: [/simple.*msg/]};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [\n          {\n            entry: {\n              level: 'error',\n              source: 'network',\n              text: 'This is a simple error msg',\n            },\n          },\n        ],\n        RuntimeExceptions: [],\n      }, {options});\n\n      expect(result.score).toBe(1);\n      expect(result.details.items).toHaveLength(0);\n    });\n\n    it('filters exceptions with both regex and strings', () => {\n      const options = {ignoredPatterns: [/s.mple/i, 'really']};\n      const result = ErrorLogsAudit.audit({\n        ConsoleMessages: [],\n        RuntimeExceptions: [\n          {\n            exceptionDetails: {\n              url: 'http://example.com/url.js',\n              text: 'Simple Error: You messed up',\n            },\n          },\n          {\n            exceptionDetails: {\n              url: 'http://example.com/url.js',\n              text: 'Bad Error: You really messed up',\n            },\n          },\n        ],\n      }, {options});\n\n      expect(result.score).toBe(1);\n      expect(result.details.items).toHaveLength(0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/charset-test.js": {
      "tests": [
        {
          "id": "291",
          "name": "Charset defined audit succeeds where the page contains the charset meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 36
            }
          }
        },
        {
          "id": "292",
          "name": "Charset defined audit succeeds where the page contains the charset meta tag regardless of casing",
          "location": {
            "start": {
              "column": 4,
              "line": 44
            }
          }
        },
        {
          "id": "293",
          "name": "Charset defined audit succeeds when the page has the charset defined in the content-type meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 52
            }
          }
        },
        {
          "id": "294",
          "name": "Charset defined audit succeeds when the page has the charset defined in the content-type http header",
          "location": {
            "start": {
              "column": 4,
              "line": 63
            }
          }
        },
        {
          "id": "295",
          "name": "Charset defined audit succeeds when the page has the charset defined via BOM",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "296",
          "name": "Charset defined audit fails when the page does not have charset defined",
          "location": {
            "start": {
              "column": 4,
              "line": 80
            }
          }
        },
        {
          "id": "297",
          "name": "Charset defined audit fails when the page has charset defined too late in the page",
          "location": {
            "start": {
              "column": 4,
              "line": 87
            }
          }
        },
        {
          "id": "298",
          "name": "Charset defined audit passes when the page has charset defined almost too late in the page",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "299",
          "name": "Charset defined audit fails when charset only partially defined in the first 1024 bytes of the page",
          "location": {
            "start": {
              "column": 4,
              "line": 105
            }
          }
        },
        {
          "id": "300",
          "name": "Charset regex check handles html correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 122
            }
          }
        },
        {
          "id": "301",
          "name": "Charset regex check handles http header correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 147
            }
          }
        },
        {
          "id": "302",
          "name": "Charset regex check handles charset name validation correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 158
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst CharsetDefinedAudit = require('../../../audits/dobetterweb/charset.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\nconst HTML_PRE = '<!doctype html><head>';\nconst HTML_POST = '</head><body><h1>hello';\n\nfunction generateArtifacts(htmlContent, contentTypeValue = 'text/html') {\n  const finalUrl = 'https://example.com/';\n  const mainResource = {\n    url: finalUrl,\n    responseHeaders: [\n      {name: 'content-type', value: contentTypeValue},\n    ],\n  };\n  const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n  const context = {computedCache: new Map()};\n  return [{\n    devtoolsLogs: {[CharsetDefinedAudit.DEFAULT_PASS]: devtoolsLog},\n    URL: {finalUrl},\n    MainDocumentContent: htmlContent,\n    MetaElements: [],\n  }, context];\n}\n\ndescribe('Charset defined audit', () => {\n  it('succeeds where the page contains the charset meta tag', async () => {\n    const htmlContent = HTML_PRE + '<meta charset=\"utf-8\" >' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [{name: '', content: '', charset: 'utf-8'}];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('succeeds where the page contains the charset meta tag regardless of casing', async () => {\n    const htmlContent = HTML_PRE + '<meta cHaRsEt=\"uTf-8\" >' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [{name: '', content: '', charset: 'utf-8'}];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('succeeds when the page has the charset defined in the content-type meta tag', async () => {\n    const htmlContent = HTML_PRE +\n      '<meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" />' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [\n      {name: '', content: 'text/html; charset=utf-8', httpEquiv: 'content-type'},\n    ];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('succeeds when the page has the charset defined in the content-type http header', async () => {\n    const htmlContent = HTML_PRE +\n      '<meta http-equiv=\"Content-type\" content=\"text/html\" />' + HTML_POST;\n    const contentTypeVal = 'text/html; charset=UTF-8';\n    const [artifacts, context] = generateArtifacts(htmlContent, contentTypeVal);\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('succeeds when the page has the charset defined via BOM', async () => {\n    const htmlContent = '\\ufeff' + HTML_PRE +\n      '<meta http-equiv=\"Content-type\" content=\"text/html\" />' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('fails when the page does not have charset defined', async () => {\n    const htmlContent = HTML_PRE + '<meta http-equiv=\"Content-type\" content=\"text/html\" />';\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 0);\n  });\n\n  it('fails when the page has charset defined too late in the page', async () => {\n    const bigString = ' '.repeat(1024);\n    const htmlContent = HTML_PRE + bigString + '<meta charset=\"utf-8\" />' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [{name: '', content: '', charset: 'utf-8'}];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 0);\n  });\n\n  it('passes when the page has charset defined almost too late in the page', async () => {\n    const bigString = ' '.repeat(900);\n    const htmlContent = HTML_PRE + bigString + '<meta charset=\"utf-8\" />' + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [{name: '', content: '', charset: 'utf-8'}];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('fails when charset only partially defined in the first 1024 bytes of the page', async () => {\n    const charsetHTML = '<meta charset=\"utf-8\" />';\n    // 1024 bytes should be halfway through the meta tag\n    const bigString = ' '.repeat(1024 - HTML_PRE.length - charsetHTML.length / 2);\n    const htmlContent = HTML_PRE + bigString + charsetHTML + HTML_POST;\n    const [artifacts, context] = generateArtifacts(htmlContent);\n    artifacts.MetaElements = [{name: '', content: '', charset: 'utf-8'}];\n    const auditResult = await CharsetDefinedAudit.audit(artifacts, context);\n    assert.equal(auditResult.score, 0);\n  });\n});\n\ndescribe('Charset regex check', () => {\n  const HTML_REGEX = CharsetDefinedAudit.CHARSET_HTML_REGEX;\n  const HTTP_REGEX = CharsetDefinedAudit.CHARSET_HTTP_REGEX;\n  const IANA_REGEX = CharsetDefinedAudit.IANA_REGEX;\n\n  it('handles html correctly', () => {\n    // Positive cases\n    assert.equal(HTML_REGEX.test('<meta charset=utf-8 />'), true);\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta charset=utf-8 /><body>`), true);\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta   charset=utf-8  /><body>`), true);\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta charset=utf-8><body>`), true);\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta charset=UTF-8><body>`), true);\n    assert.equal(HTML_REGEX.test(\n      `<!doctype html><meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\"/><body>'`),\n      true);\n    assert.equal(HTML_REGEX.test(\n      `<!doctype html><meta content=\"text/html; charset=utf-8\" http-equiv=\"Content-type\"/><body>'`),\n      true);\n\n    // Negative cases\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta description=hello><body>`), false);\n    assert.equal(HTML_REGEX.test(`<!doctype html><meta charset=utf-8<body>`), false);\n    assert.equal(HTML_REGEX.test(\n      `<!doctype html><meta http-equiv=\"Content-type\" content=\"text/html; nope-tf8\" /><body>'`),\n      false);\n    assert.equal(HTML_REGEX.test(\n      `<!doctype html><meta http-equiv=\"Content-type\" content=\"text/html; charset=utf-8\" <body>'`),\n      false);\n  });\n\n  it('handles http header correctly', () => {\n    // Positive cases\n    assert.equal(HTTP_REGEX.test('text/html; charset=UTF-8'), true);\n    assert.equal(HTTP_REGEX.test('text/html; charset = UTF-8'), true);\n\n    // Negative cases\n    assert.equal(HTTP_REGEX.test('text/html; charset='), false);\n    assert.equal(HTTP_REGEX.test('text/html; charset=x'), false);\n    assert.equal(HTTP_REGEX.test('text/html; charset=  '), false);\n  });\n\n  it('handles charset name validation correctly', () => {\n    // Positive cases\n    assert.equal(IANA_REGEX.test('utf-8'), true);\n    assert.equal(IANA_REGEX.test('utf-16'), true);\n    assert.equal(IANA_REGEX.test('IT'), true);\n    assert.equal(IANA_REGEX.test('NS_4551-1'), true);\n    assert.equal(IANA_REGEX.test('ISO_646.basic:1983'), true);\n    assert.equal(IANA_REGEX.test('NF_Z_62-010_(1973)'), true);\n\n    // Negative cases\n    assert.equal(IANA_REGEX.test('a'), false);\n    assert.equal(IANA_REGEX.test(''), false);\n    assert.equal(IANA_REGEX.test('utf+8'), false);\n    assert.equal(IANA_REGEX.test('utf-16*'), false);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/installable-manifest-test.js": {
      "tests": [
        {
          "id": "303",
          "name": "PWA: webapp install banner audit basics fails if page had no manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 36
            }
          }
        },
        {
          "id": "304",
          "name": "PWA: webapp install banner audit basics passes when manifest url matches",
          "location": {
            "start": {
              "column": 6,
              "line": 47
            }
          }
        },
        {
          "id": "305",
          "name": "PWA: webapp install banner audit basics fails with a non-parsable manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 57
            }
          }
        },
        {
          "id": "306",
          "name": "PWA: webapp install banner audit basics fails when an empty manifest is present",
          "location": {
            "start": {
              "column": 6,
              "line": 66
            }
          }
        },
        {
          "id": "307",
          "name": "PWA: webapp install banner audit basics passes with complete manifest and SW",
          "location": {
            "start": {
              "column": 6,
              "line": 76
            }
          }
        },
        {
          "id": "308",
          "name": "PWA: webapp install banner audit one-off-failures fails when a manifest contains no start_url",
          "location": {
            "start": {
              "column": 6,
              "line": 86
            }
          }
        },
        {
          "id": "309",
          "name": "PWA: webapp install banner audit one-off-failures fails when a manifest contains no short_name",
          "location": {
            "start": {
              "column": 6,
              "line": 102
            }
          }
        },
        {
          "id": "310",
          "name": "PWA: webapp install banner audit one-off-failures fails when a manifest contains no name",
          "location": {
            "start": {
              "column": 6,
              "line": 118
            }
          }
        },
        {
          "id": "311",
          "name": "PWA: webapp install banner audit one-off-failures fails if page had no icons in the manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 134
            }
          }
        },
        {
          "id": "312",
          "name": "PWA: webapp install banner audit one-off-failures fails if page had no fetchable icons in the manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 150
            }
          }
        },
        {
          "id": "313",
          "name": "PWA: webapp install banner audit fails if icons were present, but no valid PNG present",
          "location": {
            "start": {
              "column": 4,
              "line": 167
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst InstallableManifestAudit = require('../../audits/installable-manifest.js');\nconst assert = require('assert').strict;\nconst manifestParser = require('../../lib/manifest-parser.js');\n\nconst manifestSrc = JSON.stringify(require('../fixtures/manifest.json'));\nconst manifestDirtyJpgSrc = JSON.stringify(require('../fixtures/manifest-dirty-jpg.json'));\nconst EXAMPLE_MANIFEST_URL = 'https://example.com/manifest.json';\nconst EXAMPLE_DOC_URL = 'https://example.com/index.html';\n\nfunction generateMockArtifacts(src = manifestSrc) {\n  const exampleManifest = manifestParser(src, EXAMPLE_MANIFEST_URL, EXAMPLE_DOC_URL);\n\n  const clonedArtifacts = JSON.parse(JSON.stringify({\n    WebAppManifest: exampleManifest,\n    InstallabilityErrors: {errors: []},\n    URL: {finalUrl: 'https://example.com'},\n  }));\n  return clonedArtifacts;\n}\nfunction generateMockAuditContext() {\n  return {\n    computedCache: new Map(),\n  };\n}\n\n/* eslint-env jest */\ndescribe('PWA: webapp install banner audit', () => {\n  describe('basics', () => {\n    it('fails if page had no manifest', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest = null;\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('No manifest was fetched'), result.explanation);\n      });\n    });\n\n    it('passes when manifest url matches', () => {\n      const artifacts = generateMockArtifacts();\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(artifacts.WebAppManifest.url, EXAMPLE_MANIFEST_URL);\n        assert.strictEqual(result.details.items[0].manifestUrl, EXAMPLE_MANIFEST_URL);\n      });\n    });\n\n    it('fails with a non-parsable manifest', () => {\n      const artifacts = generateMockArtifacts('{,:}');\n      const context = generateMockAuditContext();\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('failed to parse as valid JSON'));\n      });\n    });\n\n    it('fails when an empty manifest is present', () => {\n      const artifacts = generateMockArtifacts('{}');\n      const context = generateMockAuditContext();\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation);\n        assert.strictEqual(result.details.items[0].failures.length, 5);\n      });\n    });\n\n    it('passes with complete manifest and SW', () => {\n      const context = generateMockAuditContext();\n      return InstallableManifestAudit.audit(generateMockArtifacts(), context).then(result => {\n        assert.strictEqual(result.score, 1, result.explanation);\n        assert.strictEqual(result.explanation, undefined, result.explanation);\n      });\n    });\n  });\n\n  describe('one-off-failures', () => {\n    it('fails when a manifest contains no start_url', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.start_url.value = undefined;\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('start_url'), result.explanation);\n\n        const details = result.details.items[0];\n        assert.strictEqual(details.failures.length, 1, details.failures);\n        assert.strictEqual(details.hasStartUrl, false);\n        assert.strictEqual(details.hasShortName, true);\n      });\n    });\n\n    it('fails when a manifest contains no short_name', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.short_name.value = undefined;\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('short_name'), result.explanation);\n\n        const details = result.details.items[0];\n        assert.strictEqual(details.failures.length, 1, details.failures);\n        assert.strictEqual(details.hasStartUrl, true);\n        assert.strictEqual(details.hasShortName, false);\n      });\n    });\n\n    it('fails when a manifest contains no name', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.name.value = undefined;\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('name'), result.explanation);\n\n        const details = result.details.items[0];\n        assert.strictEqual(details.failures.length, 1, details.failures);\n        assert.strictEqual(details.hasStartUrl, true);\n        assert.strictEqual(details.hasName, false);\n      });\n    });\n\n    it('fails if page had no icons in the manifest', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.icons.value = [];\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('PNG icon'), result.explanation);\n\n        const details = result.details.items[0];\n        assert.strictEqual(details.failures.length, 2, details.failures);\n        assert.strictEqual(details.hasStartUrl, true);\n        assert.strictEqual(details.hasIconsAtLeast144px, false);\n      });\n    });\n\n    it('fails if page had no fetchable icons in the manifest', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.InstallabilityErrors.errors.push({errorId: 'no-icon-available'});\n      const context = generateMockAuditContext();\n\n      return InstallableManifestAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('failed to be fetched'), result.explanation);\n\n        const details = result.details.items[0];\n        assert.strictEqual(details.failures.length, 1, details.failures);\n        assert.strictEqual(details.hasStartUrl, true);\n        assert.strictEqual(details.hasIconsAtLeast144px, true);\n      });\n    });\n  });\n\n  it('fails if icons were present, but no valid PNG present', () => {\n    const artifacts = generateMockArtifacts(manifestDirtyJpgSrc);\n    const context = generateMockAuditContext();\n\n    return InstallableManifestAudit.audit(artifacts, context).then(result => {\n      assert.strictEqual(result.score, 0);\n      assert.ok(result.explanation.includes('PNG icon'), result.explanation);\n\n      const details = result.details.items[0];\n      assert.strictEqual(details.failures.length, 1, details.failures);\n      assert.strictEqual(details.hasStartUrl, true);\n      assert.strictEqual(details.hasIconsAtLeast144px, false);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/timing-budget-test.js": {
      "tests": [
        {
          "id": "314",
          "name": "Performance: Timing budget audit with a budget.json table headers are correct",
          "location": {
            "start": {
              "column": 6,
              "line": 53
            }
          }
        },
        {
          "id": "315",
          "name": "Performance: Timing budget audit with a budget.json table item info is correct",
          "location": {
            "start": {
              "column": 6,
              "line": 61
            }
          }
        },
        {
          "id": "316",
          "name": "Performance: Timing budget audit with a budget.json calculates the \"overBudget\" column correctly",
          "location": {
            "start": {
              "column": 6,
              "line": 70
            }
          }
        },
        {
          "id": "317",
          "name": "Performance: Timing budget audit with a budget.json only includes rows for timing metrics with budgets",
          "location": {
            "start": {
              "column": 6,
              "line": 80
            }
          }
        },
        {
          "id": "318",
          "name": "Performance: Timing budget audit with a budget.json timings metrics work for all supported timing metrics",
          "location": {
            "start": {
              "column": 8,
              "line": 86
            }
          }
        },
        {
          "id": "319",
          "name": "Performance: Timing budget audit with a budget.json timings metrics supports Largest Contentful Paint",
          "location": {
            "start": {
              "column": 8,
              "line": 122
            }
          }
        },
        {
          "id": "320",
          "name": "Performance: Timing budget audit with a budget.json sorts rows by descending budget overage",
          "location": {
            "start": {
              "column": 6,
              "line": 143
            }
          }
        },
        {
          "id": "321",
          "name": "Performance: Timing budget audit budget selection with a matching budget applies the correct budget",
          "location": {
            "start": {
              "column": 8,
              "line": 171
            }
          }
        },
        {
          "id": "322",
          "name": "Performance: Timing budget audit budget selection without a matching budget returns \"audit does not apply\"",
          "location": {
            "start": {
              "column": 8,
              "line": 206
            }
          }
        },
        {
          "id": "323",
          "name": "Performance: Timing budget audit budget selection without a budget.json returns \"audit does not apply\"",
          "location": {
            "start": {
              "column": 8,
              "line": 228
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst TimingBudgetAudit = require('../../audits/timing-budget.js');\nconst trace = require('../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst lcpTrace = require('../fixtures/traces/lcp-m78.json');\nconst lcpDevtoolsLog = require('../fixtures/traces/lcp-m78.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Performance: Timing budget audit', () => {\n  let artifacts;\n  let context;\n  beforeEach(() => {\n    artifacts = {\n      devtoolsLogs: {\n        defaultPass: devtoolsLog,\n      },\n      traces: {defaultPass: trace},\n      URL: {requestedUrl: 'http://example.com', finalUrl: 'http://example.com'},\n    };\n\n    context = {\n      computedCache: new Map(),\n      settings: {\n        throttlingMethod: 'simulate',\n      },\n    };\n  });\n\n  describe('with a budget.json', () => {\n    beforeEach(() => {\n      context.settings.budgets = [{\n        path: '/',\n        timings: [\n          {\n            metric: 'first-contentful-paint',\n            budget: 9999,\n          },\n          {\n            metric: 'estimated-input-latency',\n            budget: 10,\n          },\n        ],\n      }];\n    });\n\n    it('table headers are correct', async () => {\n      const result = await TimingBudgetAudit.audit(artifacts, context);\n      const headers = result.details.headings;\n      expect(headers[0].text).toBeDisplayString('Metric');\n      expect(headers[1].text).toBeDisplayString('Measurement');\n      expect(headers[2].text).toBeDisplayString('Over Budget');\n    });\n\n    it('table item info is correct', async () => {\n      const result = await TimingBudgetAudit.audit(artifacts, context);\n      const items = result.details.items;\n      // Failing Budget\n      expect(items[0].label).toBeDisplayString('Estimated Input Latency');\n      expect(items[0].measurement).toBeCloseTo(77.8);\n      expect(items[0].overBudget).toBeCloseTo(67.8);\n    });\n\n    it('calculates the \"overBudget\" column correctly', async () => {\n      const result = await TimingBudgetAudit.audit(artifacts, context);\n\n      // Failing Budget\n      expect(result.details.items[0].overBudget).toBeCloseTo(67.8);\n\n      // Passing Budget\n      expect(result.details.items[1].overBudget).toBeUndefined();\n    });\n\n    it('only includes rows for timing metrics with budgets', async () => {\n      const result = await TimingBudgetAudit.audit(artifacts, context);\n      expect(result.details.items).toHaveLength(2);\n    });\n\n    describe('timings metrics', () => {\n      it('work for all supported timing metrics', async () => {\n        const metrics = [\n          'first-contentful-paint',\n          'first-cpu-idle',\n          'interactive',\n          'first-meaningful-paint',\n          'max-potential-fid',\n          'estimated-input-latency',\n          'total-blocking-time',\n          'speed-index',\n          'largest-contentful-paint',\n          'cumulative-layout-shift',\n        ];\n        for (const metric of metrics) {\n          context.settings.budgets = [{\n            path: '/',\n            timings: [\n              {\n                metric: metric,\n                budget: 100,\n              },\n            ],\n          }];\n          const result = await TimingBudgetAudit.audit(artifacts, context);\n          expect(result.details.items[0].label).toBeDefined();\n          if (metric === 'largest-contentful-paint') {\n            expect(result.details.items[0].measurement).toEqual(undefined);\n          } else if (metric === 'cumulative-layout-shift') {\n            expect(result.details.items[0].measurement.value).toEqual(0);\n          } else {\n            expect(result.details.items[0].measurement).toBeGreaterThanOrEqual(1);\n          }\n        }\n      });\n\n      // Supplements test above. Uses a trace with a defined LCP for better test coverage.\n      it('supports Largest Contentful Paint', async () => {\n        artifacts.devtoolsLogs.defaultPass = lcpDevtoolsLog;\n        artifacts.traces.defaultPass = lcpTrace;\n\n        // Use an observed throttlingMethod so we don't have to worry about the value changing in the future.\n        context.settings.throttlingMethod = 'provided';\n        context.settings.budgets = [{\n          path: '/',\n          timings: [\n            {\n              metric: 'largest-contentful-paint',\n              budget: 100,\n            },\n          ],\n        }];\n        const result = await TimingBudgetAudit.audit(artifacts, context);\n        expect(result.details.items).toHaveLength(1);\n        expect(result.details.items[0].measurement).toEqual(1121.711);\n      });\n    });\n\n    it('sorts rows by descending budget overage', async () => {\n      context.settings.budgets = [{\n        path: '/',\n        timings: [\n          {\n            metric: 'first-cpu-idle',\n            budget: 0,\n          },\n          {\n            metric: 'interactive',\n            budget: 0,\n          },\n          {\n            metric: 'speed-index',\n            budget: 0,\n          },\n        ],\n      }];\n      const result = await TimingBudgetAudit.audit(artifacts, context);\n      const items = result.details.items;\n      items.slice(0, -1).forEach((item, index) => {\n        expect(item.overBudget).toBeGreaterThanOrEqual(items[index + 1].overBudget);\n      });\n    });\n  });\n\n  describe('budget selection', () => {\n    describe('with a matching budget', () => {\n      it('applies the correct budget', async () => {\n        context.settings.budgets = [{\n          path: '/',\n          timings: [\n            {\n              metric: 'interactive',\n              budget: 0,\n            },\n          ],\n        },\n        {\n          path: '/',\n          timings: [\n            {\n              metric: 'first-cpu-idle',\n              budget: 0,\n            },\n          ],\n        },\n        {\n          path: '/not-a-match',\n          timings: [\n            {\n              resourceType: 'estimated-input-delay',\n              budget: 0,\n            },\n          ],\n        },\n        ];\n        const result = await TimingBudgetAudit.audit(artifacts, context);\n        expect(result.details.items[0].metric).toBe('first-cpu-idle');\n      });\n    });\n\n    describe('without a matching budget', () => {\n      it('returns \"audit does not apply\"', async () => {\n        context.settings.budgets = [{\n          path: '/not-a-match',\n          timings: [\n            {\n              metric: 'speed-index',\n              budget: 1000,\n            },\n          ],\n        },\n        ];\n        const result = await TimingBudgetAudit.audit(artifacts, context);\n        expect(result.details).toBeUndefined();\n        expect(result.notApplicable).toBe(true);\n      });\n    });\n\n    describe('without a budget.json', () => {\n      beforeEach(() => {\n        context.settings.budgets = null;\n      });\n\n      it('returns \"audit does not apply\"', async () => {\n        const result = await TimingBudgetAudit.audit(artifacts, context);\n        expect(result.details).toBeUndefined();\n        expect(result.notApplicable).toBe(true);\n      });\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/tap-targets-test.js": {
      "tests": [
        {
          "id": "324",
          "name": "SEO: Tap targets audit passes when there are no tap targets",
          "location": {
            "start": {
              "column": 4,
              "line": 119
            }
          }
        },
        {
          "id": "325",
          "name": "SEO: Tap targets audit passes when tap targets don't overlap",
          "location": {
            "start": {
              "column": 4,
              "line": 126
            }
          }
        },
        {
          "id": "326",
          "name": "SEO: Tap targets audit passes when a target is fully contained in an overlapping target",
          "location": {
            "start": {
              "column": 4,
              "line": 131
            }
          }
        },
        {
          "id": "327",
          "name": "SEO: Tap targets audit fails if two tap targets overlaps each other horizontally",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "328",
          "name": "SEO: Tap targets audit fails if a tap target overlaps vertically",
          "location": {
            "start": {
              "column": 4,
              "line": 158
            }
          }
        },
        {
          "id": "329",
          "name": "SEO: Tap targets audit fails when one of the client rects overlaps",
          "location": {
            "start": {
              "column": 4,
              "line": 167
            }
          }
        },
        {
          "id": "330",
          "name": "SEO: Tap targets audit reports 2 items if a target overlapped both vertically and horizontally",
          "location": {
            "start": {
              "column": 4,
              "line": 176
            }
          }
        },
        {
          "id": "331",
          "name": "SEO: Tap targets audit reports 1 failure if only one tap target involved in an overlap fails",
          "location": {
            "start": {
              "column": 4,
              "line": 193
            }
          }
        },
        {
          "id": "332",
          "name": "SEO: Tap targets audit fails if no meta viewport tag is provided",
          "location": {
            "start": {
              "column": 4,
              "line": 206
            }
          }
        },
        {
          "id": "333",
          "name": "SEO: Tap targets audit is not applicable on desktop",
          "location": {
            "start": {
              "column": 4,
              "line": 215
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst TapTargetsAudit = require('../../../audits/seo/tap-targets.js');\nconst assert = require('assert').strict;\n\nconst getFakeContext = () => ({computedCache: new Map()});\n\nfunction auditTapTargets(tapTargets, {MetaElements = [{\n  name: 'viewport',\n  content: 'width=device-width',\n}], TestedAsMobileDevice = true} = {}) {\n  const artifacts = {\n    TapTargets: tapTargets,\n    MetaElements,\n    TestedAsMobileDevice,\n  };\n\n  return TapTargetsAudit.audit(artifacts, getFakeContext());\n}\n\nconst tapTargetSize = 10;\nconst minimalOverlapCausingDistance = (TapTargetsAudit.FINGER_SIZE_PX - tapTargetSize) / 2;\n// 3px means it'll have 10x3=30px overlap with the finger, which is 30% of the tap targets own score\n// and the failure cutoff is 25%\nconst pxOverlappedByFinger = 3;\nconst minimalFailingOverlapCausingDistance = minimalOverlapCausingDistance + pxOverlappedByFinger;\n\nfunction getBorderlineTapTargets(options = {}) {\n  function makeClientRects({x, y}) {\n    return {\n      left: x,\n      top: y,\n      width: tapTargetSize,\n      height: tapTargetSize,\n      bottom: y + tapTargetSize,\n      right: x + tapTargetSize,\n    };\n  }\n\n  const mainTapTarget = {\n    snippet: '<main></main>',\n    clientRects: [\n      makeClientRects({\n        x: 0,\n        y: 0,\n      }),\n    ],\n  };\n  const tapTargetBelow = {\n    snippet: '<below></below>',\n    clientRects: [\n      makeClientRects({\n        x: 0,\n        y: mainTapTarget.clientRects[0].top + TapTargetsAudit.FINGER_SIZE_PX,\n      }),\n    ],\n  };\n  const tapTargetToTheRight = {\n    snippet: '<right></right>',\n    clientRects: [\n      makeClientRects({\n        x: mainTapTarget.clientRects[0].left + TapTargetsAudit.FINGER_SIZE_PX,\n        y: 0,\n      }),\n    ],\n  };\n\n  if (options.reduceRightWidth) {\n    tapTargetToTheRight.clientRects[0].width -= 1;\n    tapTargetToTheRight.clientRects[0].right -= 1;\n  }\n  if (options.increaseRightWidth) {\n    tapTargetToTheRight.clientRects[0].width += 10;\n    tapTargetToTheRight.clientRects[0].right += 10;\n  }\n\n  const targets = [mainTapTarget, tapTargetBelow, tapTargetToTheRight];\n\n  const overlapAmount = minimalFailingOverlapCausingDistance;\n  if (options.overlapRight) {\n    tapTargetToTheRight.clientRects[0].left -= overlapAmount;\n    tapTargetToTheRight.clientRects[0].right -= overlapAmount;\n  }\n  if (options.overlapBelow) {\n    tapTargetBelow.clientRects[0].top -= overlapAmount;\n    tapTargetBelow.clientRects[0].bottom -= overlapAmount;\n  }\n  if (options.addFullyContainedTapTarget) {\n    targets.push({\n      snippet: '<contained></contained>',\n      clientRects: [\n        makeClientRects({\n          x: 0,\n          y: 0,\n        }),\n      ],\n    });\n  }\n  if (options.overlapSecondClientRect) {\n    mainTapTarget.clientRects.push(\n      makeClientRects({\n        x: 0,\n        y: overlapAmount,\n      })\n    );\n  }\n\n  return targets;\n}\n\ndescribe('SEO: Tap targets audit', () => {\n  it('passes when there are no tap targets', async () => {\n    const auditResult = await auditTapTargets([]);\n    assert.equal(auditResult.score, 1);\n    expect(auditResult.displayValue).toBeDisplayString('100% appropriately sized tap targets');\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('passes when tap targets don\\'t overlap', async () => {\n    const auditResult = await auditTapTargets(getBorderlineTapTargets());\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('passes when a target is fully contained in an overlapping target', async () => {\n    const auditResult = await auditTapTargets(getBorderlineTapTargets({\n      addFullyContainedTapTarget: true,\n    }));\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('fails if two tap targets overlaps each other horizontally', async () => {\n    const auditResult = await auditTapTargets(\n      getBorderlineTapTargets({\n        overlapRight: true,\n      })\n    );\n    assert.equal(auditResult.score.toFixed(3), '0.297');\n    assert.equal(Math.round(auditResult.score * 100), 30);\n    const failure = auditResult.details.items[0];\n    assert.equal(failure.tapTarget.snippet, '<main></main>');\n    assert.equal(failure.overlappingTarget.snippet, '<right></right>');\n    assert.equal(failure.size, '10x10');\n    // Includes data for debugging/adjusting the scoring logic later on\n    assert.equal(failure.tapTargetScore, tapTargetSize * tapTargetSize);\n    assert.equal(failure.overlappingTargetScore, tapTargetSize * pxOverlappedByFinger);\n    assert.equal(failure.overlapScoreRatio, 0.3);\n    assert.equal(failure.width, 10);\n    assert.equal(failure.height, 10);\n  });\n\n  it('fails if a tap target overlaps vertically', async () => {\n    const auditResult = await auditTapTargets(\n      getBorderlineTapTargets({\n        overlapBelow: true,\n      })\n    );\n    assert.equal(auditResult.score.toFixed(3), '0.297');\n  });\n\n  it('fails when one of the client rects overlaps', async () => {\n    const auditResult = await auditTapTargets(\n      getBorderlineTapTargets({\n        overlapSecondClientRect: true,\n      })\n    );\n    assert.equal(auditResult.score.toFixed(3), '0.297');\n  });\n\n  it('reports 2 items if a target overlapped both vertically and horizontally', async () => {\n    // Main is overlapped by right + below, right and below are each overlapped by main\n    const auditResult = await auditTapTargets(\n      getBorderlineTapTargets({\n        overlapRight: true,\n        reduceRightWidth: true,\n        overlapBelow: true,\n      })\n    );\n    assert.equal(Math.round(auditResult.score * 100), 0); // all tap targets are overlapped by something\n    const failures = auditResult.details.items;\n    assert.equal(failures.length, 2);\n    // Right and Main overlap each other, but Right has a worse score because it's smaller\n    // so it's the failure that appears in the report\n    assert.equal(failures[0].tapTarget.snippet, '<right></right>');\n  });\n\n  it('reports 1 failure if only one tap target involved in an overlap fails', async () => {\n    const auditResult = await auditTapTargets(\n      getBorderlineTapTargets({\n        overlapRight: true,\n        increaseRightWidth: true,\n      })\n    );\n    assert.equal(Math.round(auditResult.score * 100), 59);\n    const failures = auditResult.details.items;\n    // <main> fails, but <right> doesn't\n    assert.equal(failures[0].tapTarget.snippet, '<main></main>');\n  });\n\n  it('fails if no meta viewport tag is provided', async () => {\n    const auditResult = await auditTapTargets([], {MetaElements: []});\n    assert.equal(auditResult.score, 0);\n\n    expect(auditResult.explanation).toBeDisplayString(\n      /* eslint-disable max-len */\n      'Tap targets are too small because there\\'s no viewport meta tag optimized for mobile screens');\n  });\n\n  it('is not applicable on desktop', async () => {\n    const auditResult = await auditTapTargets(getBorderlineTapTargets({\n      overlapSecondClientRect: true,\n    }), {TestedAsMobileDevice: false});\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.notApplicable, true);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/uses-responsive-images-test.js": {
      "tests": [
        {
          "id": "334",
          "name": "Page uses responsive images identifies when an image is larger than displayed size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "335",
          "name": "Page uses responsive images identifies when an image is smaller than displayed size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "336",
          "name": "Page uses responsive images identifies when an image is small in file size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "337",
          "name": "Page uses responsive images identifies when an image is very small in file size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "338",
          "name": "Page uses responsive images identifies when an image is offscreen and within viewport size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "339",
          "name": "Page uses responsive images identifies when an image is offscreen and larger than viewport size",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "340",
          "name": "Page uses responsive images handles images without network record",
          "location": {
            "start": {
              "column": 4,
              "line": 113
            }
          }
        },
        {
          "id": "341",
          "name": "Page uses responsive images identifies when images are not wasteful",
          "location": {
            "start": {
              "column": 4,
              "line": 128
            }
          }
        },
        {
          "id": "342",
          "name": "Page uses responsive images ignores vectors",
          "location": {
            "start": {
              "column": 4,
              "line": 156
            }
          }
        },
        {
          "id": "343",
          "name": "Page uses responsive images ignores CSS",
          "location": {
            "start": {
              "column": 4,
              "line": 171
            }
          }
        },
        {
          "id": "344",
          "name": "Page uses responsive images handles failure",
          "location": {
            "start": {
              "column": 4,
              "line": 186
            }
          }
        },
        {
          "id": "345",
          "name": "Page uses responsive images de-dupes images",
          "location": {
            "start": {
              "column": 4,
              "line": 202
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UsesResponsiveImagesAudit =\n    require('../../../audits/byte-efficiency/uses-responsive-images.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\nfunction generateRecord(resourceSizeInKb, durationInMs, mimeType = 'image/png') {\n  return {\n    mimeType,\n    resourceSize: resourceSizeInKb * 1024,\n    endTime: durationInMs / 1000,\n    responseReceivedTime: 0,\n  };\n}\n\nfunction generateSize(width, height, prefix = 'displayed') {\n  const size = {};\n  size[`${prefix}Width`] = width;\n  size[`${prefix}Height`] = height;\n  return size;\n}\n\nfunction generateImage(clientSize, naturalSize, networkRecord, src = 'https://google.com/logo.png') {\n  Object.assign(networkRecord || {}, {url: src});\n  const image = {src, ...networkRecord};\n  Object.assign(image, clientSize, naturalSize);\n  return image;\n}\n\ndescribe('Page uses responsive images', () => {\n  function testImage(condition, data) {\n    const description = `identifies when an image is ${condition}`;\n    it(description, () => {\n      const result = UsesResponsiveImagesAudit.audit_({\n        ViewportDimensions: {\n          innerWidth: 1000,\n          innerHeight: 1000,\n          devicePixelRatio: data.devicePixelRatio || 1,\n        },\n        ImageElements: [\n          generateImage(\n            generateSize(...data.clientSize),\n            generateSize(...data.naturalSize, 'natural'),\n            generateRecord(data.sizeInKb, data.durationInMs || 200)\n          ),\n        ],\n      });\n\n      assert.equal(result.items.length, data.listed ? 1 : 0);\n      if (data.listed) {\n        assert.equal(Math.round(result.items[0].wastedBytes / 1024), data.expectedWaste);\n      }\n    });\n  }\n\n  testImage('larger than displayed size', {\n    listed: true,\n    devicePixelRatio: 2,\n    clientSize: [100, 100],\n    naturalSize: [300, 300],\n    sizeInKb: 200,\n    expectedWaste: 111, // 200 * 5/9\n  });\n\n  testImage('smaller than displayed size', {\n    listed: false,\n    devicePixelRatio: 2,\n    clientSize: [200, 200],\n    naturalSize: [300, 300],\n    sizeInKb: 200,\n  });\n\n  testImage('small in file size', {\n    listed: true,\n    devicePixelRatio: 2,\n    clientSize: [100, 100],\n    naturalSize: [300, 300],\n    sizeInKb: 10,\n    expectedWaste: 6, // 10 * 5/9\n  });\n\n  testImage('very small in file size', {\n    listed: false,\n    devicePixelRatio: 2,\n    clientSize: [100, 100],\n    naturalSize: [300, 300],\n    sizeInKb: 1,\n  });\n\n  testImage('offscreen and within viewport size', {\n    listed: false,\n    devicePixelRatio: 2,\n    clientSize: [0, 0], // 0 dimensions will be treated as 2 viewport sized\n    naturalSize: [2000, 3000],\n    sizeInKb: 1000,\n  });\n\n  testImage('offscreen and larger than viewport size', {\n    listed: true,\n    devicePixelRatio: 2,\n    clientSize: [0, 0], // 0 dimensions will be treated as 2 viewport sized\n    naturalSize: [5000, 5000],\n    sizeInKb: 1000,\n    expectedWaste: 840, // 1000 * 21/25\n  });\n\n  it('handles images without network record', () => {\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 2},\n      ImageElements: [\n        generateImage(\n          generateSize(100, 100),\n          generateSize(300, 300, 'natural'),\n          null\n        ),\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 0);\n  });\n\n  it('identifies when images are not wasteful', () => {\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 2},\n      ImageElements: [\n        generateImage(\n          generateSize(200, 200),\n          generateSize(450, 450, 'natural'),\n          generateRecord(100, 300),\n          'https://google.com/logo.png'\n        ),\n        generateImage(\n          generateSize(100, 100),\n          generateSize(210, 210, 'natural'),\n          generateRecord(90, 500),\n          'https://google.com/logo2.png'\n        ),\n        generateImage(\n          generateSize(100, 100),\n          generateSize(80, 80, 'natural'),\n          generateRecord(20, 100),\n          'data:image/jpeg;base64,foobar'\n        ),\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 2);\n  });\n\n  it('ignores vectors', () => {\n    const urlA = 'https://google.com/logo.svg';\n    const naturalSizeA = generateSize(450, 450, 'natural');\n    const recordA = generateRecord(100, 300, 'image/svg+xml');\n\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 1},\n      ImageElements: [\n        generateImage(generateSize(10, 10), naturalSizeA, recordA, urlA),\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 0);\n  });\n\n  it('ignores CSS', () => {\n    const urlA = 'https://google.com/logo.png';\n    const naturalSizeA = generateSize(450, 450, 'natural');\n    const recordA = generateRecord(100, 300);\n\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 1},\n      ImageElements: [\n        {...generateImage(generateSize(10, 10), naturalSizeA, recordA, urlA), isCss: true},\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 0);\n  });\n\n  it('handles failure', () => {\n    const urlA = 'https://google.com/logo.png';\n    const naturalSizeA = generateSize(NaN, 450, 'natural');\n    const recordA = generateRecord(100, 300);\n\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 1},\n      ImageElements: [\n        generateImage(generateSize(10, 10), naturalSizeA, recordA, urlA),\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 0);\n    assert.equal(auditResult.warnings.length, 1);\n  });\n\n  it('de-dupes images', () => {\n    const urlA = 'https://google.com/logo.png';\n    const naturalSizeA = generateSize(450, 450, 'natural');\n    const recordA = generateRecord(100, 300);\n    const urlB = 'https://google.com/logoB.png';\n    const naturalSizeB = generateSize(1000, 1000, 'natural');\n    const recordB = generateRecord(10, 20); // make it small to still test passing\n\n    const auditResult = UsesResponsiveImagesAudit.audit_({\n      ViewportDimensions: {innerWidth: 1000, innerHeight: 1000, devicePixelRatio: 1},\n      ImageElements: [\n        generateImage(generateSize(10, 10), naturalSizeA, recordA, urlA),\n        generateImage(generateSize(450, 450), naturalSizeA, recordA, urlA),\n        generateImage(generateSize(30, 30), naturalSizeA, recordA, urlA),\n        generateImage(generateSize(500, 500), naturalSizeB, recordB, urlB),\n        generateImage(generateSize(100, 100), naturalSizeB, recordB, urlB),\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 1);\n    assert.equal(auditResult.items[0].wastedPercent, 75, 'correctly computes wastedPercent');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/redirects-test.js": {
      "tests": [
        {
          "id": "346",
          "name": "Performance: Redirects audit fails when client-side redirects detected",
          "location": {
            "start": {
              "column": 4,
              "line": 118
            }
          }
        },
        {
          "id": "347",
          "name": "Performance: Redirects audit uses lantern timings when throttlingMethod is simulate",
          "location": {
            "start": {
              "column": 4,
              "line": 138
            }
          }
        },
        {
          "id": "348",
          "name": "Performance: Redirects audit fails when 3 redirects detected",
          "location": {
            "start": {
              "column": 4,
              "line": 166
            }
          }
        },
        {
          "id": "349",
          "name": "Performance: Redirects audit fails when 2 redirects detected",
          "location": {
            "start": {
              "column": 4,
              "line": 176
            }
          }
        },
        {
          "id": "350",
          "name": "Performance: Redirects audit passes when one redirect detected",
          "location": {
            "start": {
              "column": 4,
              "line": 186
            }
          }
        },
        {
          "id": "351",
          "name": "Performance: Redirects audit passes when no redirect detected",
          "location": {
            "start": {
              "column": 4,
              "line": 198
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst RedirectsAudit = require('../../audits/redirects.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\nconst createTestTrace = require('../create-test-trace.js');\n\n/* eslint-env jest */\n\nconst FAILING_THREE_REDIRECTS = [{\n  requestId: '1',\n  startTime: 0,\n  priority: 'VeryHigh',\n  url: 'http://example.com/',\n  timing: {receiveHeadersEnd: 11},\n}, {\n  requestId: '1:redirect',\n  startTime: 1,\n  priority: 'VeryHigh',\n  url: 'https://example.com/',\n  timing: {receiveHeadersEnd: 12},\n}, {\n  requestId: '1:redirect:redirect',\n  startTime: 2,\n  priority: 'VeryHigh',\n  url: 'https://m.example.com/',\n  timing: {receiveHeadersEnd: 17},\n}, {\n  requestId: '1:redirect:redirect:redirect',\n  startTime: 3,\n  priority: 'VeryHigh',\n  url: 'https://m.example.com/final',\n  timing: {receiveHeadersEnd: 19},\n}];\n\nconst FAILING_TWO_REDIRECTS = [{\n  requestId: '1',\n  startTime: 445,\n  priority: 'VeryHigh',\n  url: 'http://lisairish.com/',\n  timing: {receiveHeadersEnd: 446},\n}, {\n  requestId: '1:redirect',\n  startTime: 446,\n  priority: 'VeryHigh',\n  url: 'https://lisairish.com/',\n  timing: {receiveHeadersEnd: 447},\n}, {\n  requestId: '1:redirect:redirect',\n  startTime: 447,\n  priority: 'VeryHigh',\n  url: 'https://www.lisairish.com/',\n  timing: {receiveHeadersEnd: 448},\n}];\n\nconst SUCCESS_ONE_REDIRECT = [{\n  requestId: '1',\n  startTime: 135,\n  priority: 'VeryHigh',\n  url: 'https://lisairish.com/',\n  timing: {receiveHeadersEnd: 136},\n}, {\n  requestId: '1:redirect',\n  startTime: 136,\n  priority: 'VeryHigh',\n  url: 'https://www.lisairish.com/',\n  timing: {receiveHeadersEnd: 139},\n}];\n\nconst SUCCESS_NOREDIRECT = [{\n  requestId: '1',\n  startTime: 135.873,\n  priority: 'VeryHigh',\n  url: 'https://www.google.com/',\n  timing: {receiveHeadersEnd: 140},\n}];\n\nconst FAILING_CLIENTSIDE = [\n  {\n    requestId: '1',\n    startTime: 445,\n    priority: 'VeryHigh',\n    url: 'http://lisairish.com/',\n    timing: {receiveHeadersEnd: 446},\n  },\n  {\n    requestId: '1:redirect',\n    startTime: 446,\n    priority: 'VeryHigh',\n    url: 'https://lisairish.com/',\n    timing: {receiveHeadersEnd: 447},\n  },\n  {\n    requestId: '2',\n    startTime: 447,\n    priority: 'VeryHigh',\n    url: 'https://www.lisairish.com/',\n    timing: {receiveHeadersEnd: 448},\n  },\n];\n\ndescribe('Performance: Redirects audit', () => {\n  const mockArtifacts = (networkRecords, finalUrl) => {\n    const devtoolsLog = networkRecordsToDevtoolsLog(networkRecords);\n\n    return {\n      traces: {defaultPass: createTestTrace({traceEnd: 5000})},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n      URL: {finalUrl},\n    };\n  };\n\n  it('fails when client-side redirects detected', async () => {\n    const context = {settings: {}, computedCache: new Map()};\n    const artifacts = mockArtifacts(FAILING_CLIENTSIDE, 'https://www.lisairish.com/');\n\n    const traceEvents = artifacts.traces.defaultPass.traceEvents;\n    const navStart = traceEvents.find(e => e.name === 'navigationStart');\n    const secondNavStart = JSON.parse(JSON.stringify(navStart));\n    traceEvents.push(secondNavStart);\n    navStart.args.data.isLoadingMainFrame = true;\n    navStart.args.data.documentLoaderURL = 'http://lisairish.com/';\n    secondNavStart.ts++;\n    secondNavStart.args.data.isLoadingMainFrame = true;\n    secondNavStart.args.data.documentLoaderURL = 'https://www.lisairish.com/';\n\n    const output = await RedirectsAudit.audit(artifacts, context);\n    expect(output.details.items).toHaveLength(3);\n    expect(Math.round(output.score * 100) / 100).toMatchInlineSnapshot(`0.35`);\n    expect(output.numericValue).toMatchInlineSnapshot(`2000`);\n  });\n\n  it('uses lantern timings when throttlingMethod is simulate', async () => {\n    const artifacts = mockArtifacts(FAILING_THREE_REDIRECTS, 'https://m.example.com/final');\n    const context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const output = await RedirectsAudit.audit(artifacts, context);\n    expect(output.details.items).toHaveLength(4);\n    expect(output.details.items.map(item => [item.url, item.wastedMs])).toMatchInlineSnapshot(`\n      Array [\n        Array [\n          \"http://example.com/\",\n          630,\n        ],\n        Array [\n          \"https://example.com/\",\n          480,\n        ],\n        Array [\n          \"https://m.example.com/\",\n          780,\n        ],\n        Array [\n          \"https://m.example.com/final\",\n          0,\n        ],\n      ]\n    `);\n    expect(output.numericValue).toMatchInlineSnapshot(`1890`);\n  });\n\n  it('fails when 3 redirects detected', () => {\n    const artifacts = mockArtifacts(FAILING_THREE_REDIRECTS, 'https://m.example.com/final');\n    const context = {settings: {}, computedCache: new Map()};\n    return RedirectsAudit.audit(artifacts, context).then(output => {\n      expect(output.details.items).toHaveLength(4);\n      expect(Math.round(output.score * 100) / 100).toMatchInlineSnapshot(`0.24`);\n      expect(output.numericValue).toMatchInlineSnapshot(`3000`);\n    });\n  });\n\n  it('fails when 2 redirects detected', () => {\n    const artifacts = mockArtifacts(FAILING_TWO_REDIRECTS, 'https://www.lisairish.com/');\n    const context = {settings: {}, computedCache: new Map()};\n    return RedirectsAudit.audit(artifacts, context).then(output => {\n      expect(output.details.items).toHaveLength(3);\n      expect(Math.round(output.score * 100) / 100).toMatchInlineSnapshot(`0.35`);\n      expect(output.numericValue).toMatchInlineSnapshot(`2000`);\n    });\n  });\n\n  it('passes when one redirect detected', () => {\n    const artifacts = mockArtifacts(SUCCESS_ONE_REDIRECT, 'https://www.lisairish.com/');\n    const context = {settings: {}, computedCache: new Map()};\n    return RedirectsAudit.audit(artifacts, context).then(output => {\n      // If === 1 redirect, perfect score is expected, regardless of latency\n      // We will still generate a table and show wasted time\n      expect(output.details.items).toHaveLength(2);\n      expect(output.score).toEqual(1);\n      expect(output.numericValue).toMatchInlineSnapshot(`1000`);\n    });\n  });\n\n  it('passes when no redirect detected', () => {\n    const artifacts = mockArtifacts(SUCCESS_NOREDIRECT, 'https://www.google.com/');\n    const context = {settings: {}, computedCache: new Map()};\n    return RedirectsAudit.audit(artifacts, context).then(output => {\n      assert.equal(output.score, 1);\n      assert.equal(output.details.items.length, 0);\n      assert.equal(output.numericValue, 0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/valid-source-maps-test.js": {
      "tests": [
        {
          "id": "352",
          "name": "Valid source maps audit passes when no script elements or source maps are provided",
          "location": {
            "start": {
              "column": 4,
              "line": 27
            }
          }
        },
        {
          "id": "353",
          "name": "Valid source maps audit passes when all large, first-party JS have corresponding source maps",
          "location": {
            "start": {
              "column": 4,
              "line": 38
            }
          }
        },
        {
          "id": "354",
          "name": "Valid source maps audit fails when any large, first-party JS has no corresponding source map",
          "location": {
            "start": {
              "column": 4,
              "line": 55
            }
          }
        },
        {
          "id": "355",
          "name": "Valid source maps audit passes when small, first-party JS have no corresponding source maps",
          "location": {
            "start": {
              "column": 4,
              "line": 75
            }
          }
        },
        {
          "id": "356",
          "name": "Valid source maps audit passes when large, third-party JS have no corresponding source maps",
          "location": {
            "start": {
              "column": 4,
              "line": 92
            }
          }
        },
        {
          "id": "357",
          "name": "Valid source maps audit discovers missing source map contents while passing",
          "location": {
            "start": {
              "column": 4,
              "line": 108
            }
          }
        },
        {
          "id": "358",
          "name": "Valid source maps audit discovers missing source map contents while failing",
          "location": {
            "start": {
              "column": 4,
              "line": 139
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst {loadSourceMapFixture} = require('../test-utils.js');\nconst ValidSourceMaps = require('../../audits/valid-source-maps.js');\nconst largeBundle = loadSourceMapFixture('coursehero-bundle-1');\nconst smallBundle = loadSourceMapFixture('coursehero-bundle-2');\nconst LARGE_JS_BYTE_THRESHOLD = 500 * 1024;\n\nif (largeBundle.content.length < LARGE_JS_BYTE_THRESHOLD) {\n  const error = {message: 'largeBundle is not large enough'};\n  throw error;\n}\n\nif (smallBundle.content.length >= LARGE_JS_BYTE_THRESHOLD) {\n  const error = {message: 'smallBundle is not small enough'};\n  throw error;\n}\n\ndescribe('Valid source maps audit', () => {\n  it('passes when no script elements or source maps are provided', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [],\n      SourceMaps: [],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n  });\n\n  it('passes when all large, first-party JS have corresponding source maps', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: largeBundle.content},\n        {src: 'https://example.com/script2.min.js', content: largeBundle.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: largeBundle.map},\n        {scriptUrl: 'https://example.com/script2.min.js', map: largeBundle.map},\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n  });\n\n  it('fails when any large, first-party JS has no corresponding source map', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: largeBundle.content},\n        {src: 'https://example.com/script2.min.js', content: largeBundle.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: largeBundle.map},\n        //  Missing corresponding source map for large, first-party JS (script2.min.js)\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n    expect(auditResult.details.items[0].subItems.items.length).toEqual(1);\n    expect(auditResult.details.items[0].subItems.items[0].error).toBeDisplayString(\n      'Large JavaScript file is missing a source map');\n    expect(auditResult.score).toEqual(0);\n  });\n\n  it('passes when small, first-party JS have no corresponding source maps', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: largeBundle.content},\n        {src: 'https://example.com/script2.min.js', content: smallBundle.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: largeBundle.map},\n        //  Missing corresponding source map for small, first-party JS (script2.min.js)\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n  });\n\n  it('passes when large, third-party JS have no corresponding source maps', async () => {\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: largeBundle.content},\n        {src: 'https://d36mpcpuzc4ztk.cloudfront.net/script2.js', content: largeBundle.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: largeBundle.map},\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n  });\n\n  it('discovers missing source map contents while passing', async () => {\n    const bundleNormal = loadSourceMapFixture('squoosh');\n    const bundleWithMissingContent = loadSourceMapFixture('squoosh');\n    delete bundleWithMissingContent.map.sourcesContent[0];\n\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: bundleNormal.content},\n        {src: 'https://example.com/script2.min.js', content: bundleWithMissingContent.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: bundleNormal.map},\n        {scriptUrl: 'https://example.com/script2.min.js', map: bundleWithMissingContent.map},\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n\n    // The first result should warn there's a missing source map item\n    expect(auditResult.details.items[0].subItems.items.length).toEqual(1);\n    expect(auditResult.details.items[0].subItems.items[0].error).toBeDisplayString(\n      'Warning: missing 1 item in `.sourcesContent`');\n\n    // The second result should have no warnings\n    expect(auditResult.details.items[1].subItems.items.length).toEqual(0);\n\n    // The audit should pass because these warnings don't affect your score\n    expect(auditResult.score).toEqual(1);\n  });\n\n  it('discovers missing source map contents while failing', async () => {\n    const bundleWithMissingContent = loadSourceMapFixture('squoosh');\n    delete bundleWithMissingContent.map.sourcesContent[0];\n\n    const artifacts = {\n      URL: {finalUrl: 'https://example.com'},\n      ScriptElements: [\n        {src: 'https://example.com/script1.min.js', content: bundleWithMissingContent.content},\n        {src: 'https://example.com/script2.min.js', content: largeBundle.content},\n      ],\n      SourceMaps: [\n        {scriptUrl: 'https://example.com/script1.min.js', map: bundleWithMissingContent.map},\n      ],\n    };\n\n    const auditResult = await ValidSourceMaps.audit(artifacts);\n\n    // The first result should be the one that fails the audit\n    expect(auditResult.details.items[0].subItems.items.length).toEqual(1);\n    expect(auditResult.details.items[0].subItems.items[0].error).toBeDisplayString(\n      'Large JavaScript file is missing a source map');\n\n    // The second result should warn there's a missing source map item\n    expect(auditResult.details.items[1].subItems.items.length).toEqual(1);\n    expect(auditResult.details.items[1].subItems.items[0].error).toBeDisplayString(\n      'Warning: missing 1 item in `.sourcesContent`');\n\n    expect(auditResult.score).toEqual(0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/crawlable-anchors-test.js": {
      "tests": [
        {
          "id": "359",
          "name": "SEO: Crawlable anchors audit allows crawlable anchors",
          "location": {
            "start": {
              "column": 4,
              "line": 34
            }
          }
        },
        {
          "id": "360",
          "name": "SEO: Crawlable anchors audit allows anchors which use a name attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 51
            }
          }
        },
        {
          "id": "361",
          "name": "SEO: Crawlable anchors audit handles anchors with a role attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 55
            }
          }
        },
        {
          "id": "362",
          "name": "SEO: Crawlable anchors audit handles anchor elements which use event listeners",
          "location": {
            "start": {
              "column": 4,
              "line": 65
            }
          }
        },
        {
          "id": "363",
          "name": "SEO: Crawlable anchors audit disallows uncrawlable anchors",
          "location": {
            "start": {
              "column": 4,
              "line": 89
            }
          }
        },
        {
          "id": "364",
          "name": "SEO: Crawlable anchors audit handles javascript:void expressions in the onclick attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 98
            }
          }
        },
        {
          "id": "365",
          "name": "SEO: Crawlable anchors audit handles window.location and window.open assignments in an onclick attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 127
            }
          }
        },
        {
          "id": "366",
          "name": "SEO: Crawlable anchors audit handles window.open in an onclick attribute and mailto: in a href attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 156
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst assert = require('assert');\nconst CrawlableAnchorsAudit = require('../../../audits/seo/crawlable-anchors.js');\n\n/* eslint-env jest */\n\nfunction runAudit({\n  rawHref = '',\n  role = '',\n  onclick = '',\n  name = '',\n  listeners = onclick.trim().length ? [{type: 'click'}] : [],\n}) {\n  const {score} = CrawlableAnchorsAudit.audit({\n    AnchorElements: [{\n      rawHref,\n      name,\n      listeners,\n      onclick,\n      role,\n    }],\n  });\n\n  return score;\n}\n\ndescribe('SEO: Crawlable anchors audit', () => {\n  it('allows crawlable anchors', () => {\n    assert.equal(runAudit({rawHref: '#top'}), 1, 'hash fragment identifier');\n    assert.equal(runAudit({rawHref: 'mailto:name@example.com'}), 1, 'email link with a mailto URI');\n    assert.equal(runAudit({rawHref: 'https://example.com'}), 1, 'absolute HTTPs URL');\n    assert.equal(runAudit({rawHref: 'foo'}), 1, 'relative URL');\n    assert.equal(runAudit({rawHref: '/foo'}), 1, 'relative URL');\n    assert.equal(runAudit({rawHref: '#:~:text=string'}), 1, 'hyperlink with a text fragment');\n    assert.equal(runAudit({rawHref: 'ftp://myname@host.dom'}), 1, 'an FTP hyperlink');\n    assert.equal(runAudit({rawHref: 'http://172.217.20.78'}), 1, 'IP address based link');\n    assert.equal(runAudit({rawHref: '//example.com'}), 1, 'protocol relative link');\n    assert.equal(runAudit({rawHref: 'tel:5555555'}), 1, 'email link with a tel URI');\n    assert.equal(runAudit({rawHref: '#'}), 1, 'link with only a hash symbol');\n    assert.equal(runAudit({\n      rawHref: '?query=string',\n    }), 1, 'relative link which specifies a query string');\n  });\n\n  it('allows anchors which use a name attribute', () => {\n    assert.equal(runAudit({name: 'name'}), 1, 'link with a name attribute');\n  });\n\n  it('handles anchors with a role attribute', () => {\n    const auditResult = runAudit({\n      role: 'some-role',\n      rawHref: 'javascript:void(0)',\n    });\n    assert.equal(auditResult, 1, 'Href value has no effect when a role is present');\n    assert.equal(runAudit({role: 'a'}), 1, 'Using a role attribute value is an immediate pass');\n    assert.equal(runAudit({role: ' '}), 0, 'A role value of a space character fails the audit');\n  });\n\n  it('handles anchor elements which use event listeners', () => {\n    const auditResultClickPresent = runAudit({\n      listeners: [{type: 'click'}],\n    });\n    assert.equal(auditResultClickPresent, 1, 'presence of a click handler is a pass');\n\n    const auditResultJavaScriptURI = runAudit({\n      rawHref: 'javascript:void(0)',\n      listeners: [{type: 'click'}],\n    });\n    const assertionMessage = 'hyperlink with a `javascript:` URI and a click handler';\n    assert.equal(auditResultJavaScriptURI, 1, assertionMessage);\n\n    const auditResultNonClickListener = runAudit({\n      listeners: [{type: 'nope'}],\n    });\n    assert.equal(auditResultNonClickListener, 0, 'no click event is a fail');\n\n    const auditResultMixtureOfListeners = runAudit({\n      listeners: [{type: 'nope'}, {type: 'another'}, {type: 'click'}],\n    });\n    assert.equal(auditResultMixtureOfListeners, 1, 'at least one click listener is a pass');\n  });\n\n  it('disallows uncrawlable anchors', () => {\n    assert.equal(runAudit({}), 0, 'link with no meaningful attributes and no event handlers');\n    assert.equal(runAudit({rawHref: 'file:///image.png'}), 0, 'hyperlink with a `file:` URI');\n    assert.equal(runAudit({name: ' '}), 0, 'name attribute with only space characters');\n    assert.equal(runAudit({rawHref: ' '}), 0, 'href attribute with only space characters');\n    const assertionMessage = 'onclick attribute with only space characters';\n    assert.equal(runAudit({rawHref: ' ', onclick: ' '}), 0, assertionMessage);\n  });\n\n  it('handles javascript:void expressions in the onclick attribute', () => {\n    const expectedAuditFailures = [\n      'javascript:void(0)',\n      'javascript: void(0)',\n      'javascript : void(0)',\n      'javascript : void ( 0 )',\n      'javascript: void 0',\n      'javascript:void 0',\n      // The audit logic removes all whitespace from the string and considers this a fail\n      'javascript:void0',\n    ];\n\n    for (const javaScriptVoidVariation of expectedAuditFailures) {\n      const auditResult = runAudit({rawHref: javaScriptVoidVariation});\n      assert.equal(auditResult, 0, `'${javaScriptVoidVariation}' should fail the audit`);\n    }\n\n    const expectedAuditPasses = [\n      'javascript:void',\n      'javascript:void()',\n      'javascript:0',\n    ];\n\n    for (const javaScriptVoidVariation of expectedAuditPasses) {\n      const auditResult = runAudit({rawHref: javaScriptVoidVariation});\n      assert.equal(auditResult, 1, `'${javaScriptVoidVariation}' should pass the audit`);\n    }\n  });\n\n  it('handles window.location and window.open assignments in an onclick attribute', () => {\n    const expectedAuditFailures = [\n      'window.location=',\n      'window.location =',\n      'window.open()',\n      `window.open('')`,\n      'window.open(`http://example.com`)',\n      'window.open ( )',\n      `window.open('foo', 'name', 'resizable)`,\n    ];\n\n    for (const onclickVariation of expectedAuditFailures) {\n      const auditResult = runAudit({onclick: onclickVariation});\n      assert.equal(auditResult, 0, `'${onclickVariation}' should fail the audit`);\n    }\n\n    const expectedAuditPasses = [\n      'windowAlocation',\n      'window.location.href',\n      'window.Location =',\n      'windowLopen()',\n    ];\n\n    for (const onclickVariation of expectedAuditPasses) {\n      const auditResult = runAudit({onclick: onclickVariation});\n      assert.equal(auditResult, 1, `'${onclickVariation}' should pass the audit`);\n    }\n  });\n\n  it('handles window.open in an onclick attribute and mailto: in a href attribute', () => {\n    assert.equal(\n        runAudit({rawHref: 'mailto:name@example.com', onclick: 'window.open()'}),\n        1,\n        'window.open in an onclick and mailto: in a href is a pass'\n    );\n  });\n});\n"
    },
    "lighthouse-core/test/audits/preload-lcp-image-test.js": {
      "tests": [
        {
          "id": "367",
          "name": "Performance: preload-lcp audit shouldn't be applicable if lcp image is not found",
          "location": {
            "start": {
              "column": 4,
              "line": 92
            }
          }
        },
        {
          "id": "368",
          "name": "Performance: preload-lcp audit shouldn't be applicable if the lcp is already preloaded",
          "location": {
            "start": {
              "column": 4,
              "line": 103
            }
          }
        },
        {
          "id": "369",
          "name": "Performance: preload-lcp audit shouldn't be applicable if the lcp request is not from over the network",
          "location": {
            "start": {
              "column": 4,
              "line": 114
            }
          }
        },
        {
          "id": "370",
          "name": "Performance: preload-lcp audit should suggest preloading a lcp image if all criteria is met",
          "location": {
            "start": {
              "column": 4,
              "line": 125
            }
          }
        },
        {
          "id": "371",
          "name": "Performance: preload-lcp audit should suggest preloading when LCP is waiting on the image",
          "location": {
            "start": {
              "column": 4,
              "line": 136
            }
          }
        },
        {
          "id": "372",
          "name": "Performance: preload-lcp audit should suggest preloading when LCP is waiting on a dependency",
          "location": {
            "start": {
              "column": 4,
              "line": 148
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n\n'use strict';\n\n/* eslint-env jest */\n\nconst PreloadLCPImage = require('../../audits/preload-lcp-image.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\nconst createTestTrace = require('../create-test-trace.js');\n\nconst rootNodeUrl = 'http://example.com:3000';\nconst mainDocumentNodeUrl = 'http://www.example.com:3000';\nconst scriptNodeUrl = 'http://www.example.com/script.js';\nconst imageUrl = 'http://www.example.com/image.png';\n\ndescribe('Performance: preload-lcp audit', () => {\n  const mockArtifacts = (networkRecords, finalUrl, imageUrl) => {\n    return {\n      traces: {\n        [PreloadLCPImage.DEFAULT_PASS]: createTestTrace({\n          traceEnd: 6e3,\n          largestContentfulPaint: 45e2,\n        }),\n      },\n      devtoolsLogs: {[PreloadLCPImage.DEFAULT_PASS]: networkRecordsToDevtoolsLog(networkRecords)},\n      URL: {finalUrl},\n      TraceElements: [\n        {\n          traceEventType: 'largest-contentful-paint',\n          devtoolsNodePath: '1,HTML,1,BODY,3,DIV,2,IMG',\n        },\n      ],\n      ImageElements: [\n        {\n          src: imageUrl,\n          devtoolsNodePath: '1,HTML,1,BODY,3,DIV,2,IMG',\n        },\n      ],\n    };\n  };\n\n  const mockNetworkRecords = () => {\n    return [\n      {\n        requestId: '2',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 0,\n        endTime: 0.5,\n        timing: {receiveHeadersEnd: 500},\n        url: rootNodeUrl,\n      },\n      {\n        requestId: '2:redirect',\n        resourceType: 'Document',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 0.5,\n        endTime: 1,\n        timing: {receiveHeadersEnd: 500},\n        url: mainDocumentNodeUrl,\n      },\n      {\n        requestId: '3',\n        resourceType: 'Script',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 1,\n        endTime: 5,\n        timing: {receiveHeadersEnd: 4000},\n        url: scriptNodeUrl,\n        initiator: {type: 'parser', url: mainDocumentNodeUrl},\n      },\n      {\n        requestId: '4',\n        resourceType: 'Image',\n        priority: 'High',\n        isLinkPreload: false,\n        startTime: 2,\n        endTime: 4.5,\n        timing: {receiveHeadersEnd: 2500},\n        url: imageUrl,\n        initiator: {type: 'script', url: scriptNodeUrl},\n      },\n    ];\n  };\n\n  it('shouldn\\'t be applicable if lcp image is not found', async () => {\n    const networkRecords = mockNetworkRecords();\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    artifacts.ImageElements = [];\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.score).toEqual(1);\n    expect(results.details.overallSavingsMs).toEqual(0);\n    expect(results.details.items).toHaveLength(0);\n  });\n\n  it('shouldn\\'t be applicable if the lcp is already preloaded', async () => {\n    const networkRecords = mockNetworkRecords();\n    networkRecords[3].isLinkPreload = true;\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.score).toEqual(1);\n    expect(results.details.overallSavingsMs).toEqual(0);\n    expect(results.details.items).toHaveLength(0);\n  });\n\n  it('shouldn\\'t be applicable if the lcp request is not from over the network', async () => {\n    const networkRecords = mockNetworkRecords();\n    networkRecords[3].protocol = 'data';\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.score).toEqual(1);\n    expect(results.details.overallSavingsMs).toEqual(0);\n    expect(results.details.items).toHaveLength(0);\n  });\n\n  it('should suggest preloading a lcp image if all criteria is met', async () => {\n    const networkRecords = mockNetworkRecords();\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.numericValue).toEqual(180);\n    expect(results.details.overallSavingsMs).toEqual(180);\n    expect(results.details.items[0].url).toEqual(imageUrl);\n    expect(results.details.items[0].wastedMs).toEqual(180);\n  });\n\n  it('should suggest preloading when LCP is waiting on the image', async () => {\n    const networkRecords = mockNetworkRecords();\n    networkRecords[3].transferSize = 5 * 1000 * 1000;\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.numericValue).toEqual(30);\n    expect(results.details.overallSavingsMs).toEqual(30);\n    expect(results.details.items[0].url).toEqual(imageUrl);\n    expect(results.details.items[0].wastedMs).toEqual(30);\n  });\n\n  it('should suggest preloading when LCP is waiting on a dependency', async () => {\n    const networkRecords = mockNetworkRecords();\n    networkRecords[2].transferSize = 2 * 1000 * 1000;\n    const artifacts = mockArtifacts(networkRecords, mainDocumentNodeUrl, imageUrl);\n    const context = {settings: {}, computedCache: new Map()};\n    const results = await PreloadLCPImage.audit(artifacts, context);\n    expect(results.numericValue).toEqual(30);\n    expect(results.details.overallSavingsMs).toEqual(30);\n    expect(results.details.items[0].url).toEqual(imageUrl);\n    expect(results.details.items[0].wastedMs).toEqual(30);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/unused-css-rules-test.js": {
      "tests": [
        {
          "id": "373",
          "name": "Best Practices: unused css rules audit #audit ignores missing stylesheets",
          "location": {
            "start": {
              "column": 6,
              "line": 47
            }
          }
        },
        {
          "id": "374",
          "name": "Best Practices: unused css rules audit #audit ignores stylesheets that are 100% used",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "375",
          "name": "Best Practices: unused css rules audit #audit fails when lots of rules are unused",
          "location": {
            "start": {
              "column": 6,
              "line": 76
            }
          }
        },
        {
          "id": "376",
          "name": "Best Practices: unused css rules audit #audit handles phantom network records without size data",
          "location": {
            "start": {
              "column": 6,
              "line": 104
            }
          }
        },
        {
          "id": "377",
          "name": "Best Practices: unused css rules audit #audit does not include empty or small sheets",
          "location": {
            "start": {
              "column": 6,
              "line": 139
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UnusedCSSAudit = require('../../../audits/byte-efficiency/unused-css-rules.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Best Practices: unused css rules audit', () => {\n  function generate(content, length) {\n    const arr = [];\n    for (let i = 0; i < length; i++) {\n      arr.push(content);\n    }\n    return arr.join('');\n  }\n\n  describe('#audit', () => {\n    const defaultNetworkRecords = [\n      {\n        url: 'file://a.css',\n        transferSize: 100 * 1024,\n        resourceSize: 100 * 1024,\n        resourceType: 'Stylesheet',\n      },\n    ];\n\n    const context = {computedCache: new Map()};\n\n    function getArtifacts({CSSUsage, networkRecords = defaultNetworkRecords}) {\n      return {\n        devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(networkRecords)},\n        URL: {finalUrl: ''},\n        CSSUsage,\n      };\n    }\n\n    beforeEach(() => {\n      context.computedCache.clear();\n    });\n\n    it('ignores missing stylesheets', () => {\n      return UnusedCSSAudit.audit_(getArtifacts({\n        CSSUsage: {rules: [{styleSheetId: 'a', used: false}], stylesheets: []},\n      }), defaultNetworkRecords, context).then(result => {\n        assert.equal(result.items.length, 0);\n      });\n    });\n\n    it('ignores stylesheets that are 100% used', () => {\n      return UnusedCSSAudit.audit_(getArtifacts({\n        CSSUsage: {rules: [\n          {styleSheetId: 'a', used: true},\n          {styleSheetId: 'a', used: true},\n          {styleSheetId: 'b', used: true},\n        ], stylesheets: [\n          {\n            header: {styleSheetId: 'a', sourceURL: 'file://a.css'},\n            content: '.my.selector {color: #ccc;}\\n a {color: #fff}',\n          },\n          {\n            header: {styleSheetId: 'b', sourceURL: 'file://b.css'},\n            content: '.my.favorite.selector { rule: content; }',\n          },\n        ]},\n      }), defaultNetworkRecords, context).then(result => {\n        assert.equal(result.items.length, 0);\n      });\n    });\n\n    it('fails when lots of rules are unused', () => {\n      return UnusedCSSAudit.audit_(getArtifacts({\n        CSSUsage: {rules: [\n          {styleSheetId: 'a', used: true, startOffset: 0, endOffset: 11}, // 44 * 25% = 11\n          {styleSheetId: 'b', used: true, startOffset: 0, endOffset: 60000}, // 40000 * 3 * 50% = 60000\n        ], stylesheets: [\n          {\n            header: {styleSheetId: 'a', sourceURL: 'file://a.css'},\n            content: '.my.selector {color: #ccc;}\\n a {color: #fff}',\n          },\n          {\n            header: {styleSheetId: 'b', sourceURL: 'file://b.css'},\n            content: `${generate('123', 40000)}`,\n          },\n          {\n            header: {styleSheetId: 'c', sourceURL: ''},\n            content: `${generate('123', 450)}`, // will be filtered out\n          },\n        ]},\n      }), defaultNetworkRecords, context).then(result => {\n        assert.equal(result.items.length, 2);\n        assert.equal(result.items[0].totalBytes, 100 * 1024);\n        assert.equal(result.items[1].totalBytes, 40000 * 3 * 0.2);\n        assert.equal(result.items[0].wastedPercent, 75);\n        assert.equal(result.items[1].wastedPercent, 50);\n      });\n    });\n\n    it('handles phantom network records without size data', async () => {\n      const networkRecords = [\n        {\n          url: 'file://a.html',\n          transferSize: 100 * 1024 * 0.5, // compression ratio of 0.5\n          resourceSize: 100 * 1024,\n          resourceType: 'Document', // this is a document so it'll use the compressionRatio but not the raw size\n        },\n        {\n          url: 'file://a.html',\n          transferSize: 0,\n          resourceSize: 0,\n          resourceType: 'Document',\n        },\n      ];\n      const artifacts = getArtifacts({\n        CSSUsage: {\n          rules: [\n            {styleSheetId: 'a', used: true, startOffset: 0, endOffset: 60000}, // 40000 * 3 * 50% = 60000\n          ], stylesheets: [\n            {\n              header: {styleSheetId: 'a', sourceURL: 'file://a.html'},\n              content: `${generate('123', 40000)}`, // stylesheet size of 40000 * 3 uncompressed bytes\n            },\n          ],\n        },\n        networkRecords,\n      });\n\n      const result = await UnusedCSSAudit.audit_(artifacts, networkRecords, context);\n      expect(result.items).toMatchObject([\n        {totalBytes: 40000 * 3 * 0.5, wastedPercent: 50},\n      ]);\n    });\n\n    it('does not include empty or small sheets', () => {\n      return UnusedCSSAudit.audit_(getArtifacts({\n        CSSUsage: {rules: [\n          {styleSheetId: 'a', used: true, startOffset: 0, endOffset: 8000}, // 4000 * 3 / 2\n          {styleSheetId: 'b', used: true, startOffset: 0, endOffset: 500}, // 500 * 3 / 3\n        ], stylesheets: [\n          {\n            header: {styleSheetId: 'a', sourceURL: 'file://a.css'},\n            content: `${generate('123', 4000)}`,\n          },\n          {\n            header: {styleSheetId: 'b', sourceURL: 'file://b.css'},\n            content: `${generate('123', 500)}`,\n          },\n          {\n            header: {styleSheetId: 'c', sourceURL: 'file://c.css'},\n            content: '@import url(http://googlefonts.com?myfont)',\n          },\n          {\n            header: {styleSheetId: 'd', sourceURL: 'file://d.css'},\n            content: '/* nothing to see here */',\n          },\n          {\n            header: {styleSheetId: 'e', sourceURL: 'file://e.css'},\n            content: '       ',\n          },\n        ]},\n      }), defaultNetworkRecords, context).then(result => {\n        assert.equal(result.items.length, 1);\n        assert.equal(Math.floor(result.items[0].wastedPercent), 33);\n      });\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/no-vulnerable-libraries-test.js": {
      "tests": [
        {
          "id": "378",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities #normalizeVersion should leave valid and unsavable versions untouched",
          "location": {
            "start": {
              "column": 6,
              "line": 16
            }
          }
        },
        {
          "id": "379",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities #normalizeVersion should fix bad version numbers",
          "location": {
            "start": {
              "column": 6,
              "line": 23
            }
          }
        },
        {
          "id": "380",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities fails when JS libraries with known vulnerabilities are detected",
          "location": {
            "start": {
              "column": 4,
              "line": 30
            }
          }
        },
        {
          "id": "381",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities fails when libraries w/ vulnerabilities are detected (anywhere in the semver array)",
          "location": {
            "start": {
              "column": 4,
              "line": 46
            }
          }
        },
        {
          "id": "382",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities handles ill-specified versions",
          "location": {
            "start": {
              "column": 4,
              "line": 68
            }
          }
        },
        {
          "id": "383",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities passes when no JS libraries with known vulnerabilities are detected",
          "location": {
            "start": {
              "column": 4,
              "line": 83
            }
          }
        },
        {
          "id": "384",
          "name": "Avoids front-end JavaScript libraries with known vulnerabilities passes when no JS libraries are detected",
          "location": {
            "start": {
              "column": 4,
              "line": 94
            }
          }
        },
        {
          "id": "385",
          "name": "Snyk database hasUpperBound works as intended",
          "location": {
            "start": {
              "column": 4,
              "line": 129
            }
          }
        },
        {
          "id": "386",
          "name": "Snyk database every snyk vulnerability has an upper bound",
          "location": {
            "start": {
              "column": 4,
              "line": 141
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NoVulnerableLibrariesAudit =\n  require('../../../audits/dobetterweb/no-vulnerable-libraries.js');\nconst assert = require('assert').strict;\nconst semver = require('semver');\n\n/* eslint-env jest */\ndescribe('Avoids front-end JavaScript libraries with known vulnerabilities', () => {\n  describe('#normalizeVersion', () => {\n    it('should leave valid and unsavable versions untouched', () => {\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion(undefined), undefined);\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('52.1.13'), '52.1.13');\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('52.1.13-rc.1'), '52.1.13-rc.1');\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('c0ab71056b936'), 'c0ab71056b936');\n    });\n\n    it('should fix bad version numbers', () => {\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('11.51'), '11.51.0');\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('12.27.14 -junk'), '12.27.14');\n      assert.equal(NoVulnerableLibrariesAudit.normalizeVersion('12.27.14_other-junk'), '12.27.14');\n    });\n  });\n\n  it('fails when JS libraries with known vulnerabilities are detected', () => {\n    const auditResult = NoVulnerableLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', name: 'lib1', version: '1.0.0', npm: 'lib1'},\n        {detector: 'js', name: 'angular', version: '1.1.4', npm: 'angular'},\n        {detector: 'js', name: 'lib3', version: undefined, npm: 'lib3'},\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    expect(auditResult.details.items[0].highestSeverity).toBeDisplayString('High');\n    assert.equal(auditResult.details.items[0].detectedLib.type, 'link');\n    assert.equal(auditResult.details.items[0].detectedLib.text, 'angular@1.1.4');\n    assert.equal(auditResult.details.items[0].detectedLib.url, 'https://snyk.io/vuln/npm:angular?lh=1.1.4&utm_source=lighthouse&utm_medium=ref&utm_campaign=audit');\n  });\n\n  it('fails when libraries w/ vulnerabilities are detected (anywhere in the semver array)', () => {\n    // Vulnerability with an array of semver ranges\n    const mockSnykDb = {\n      npm: {\n        badlib: [\n          {id: 'badlibvuln:12345', severity: 'medium', semver: {vulnerable: ['<2', '>=3.0.0']}},\n        ],\n      },\n    };\n    const Stacks = [{detector: 'js', name: 'Badlib', version: '3.0.0', npm: 'badlib'}];\n    const vulns = NoVulnerableLibrariesAudit.getVulnerabilities(\n      '3.0.0',\n      Stacks[0],\n      mockSnykDb\n    );\n\n    expect(vulns[0].severity).toBeDisplayString('Medium');\n    assert.equal(vulns[0].library, 'Badlib@3.0.0');\n    assert.equal(vulns[0].numericSeverity, 2);\n    assert.equal(vulns[0].url, 'https://snyk.io/vuln/badlibvuln:12345');\n  });\n\n  it('handles ill-specified versions', () => {\n    const auditResult = NoVulnerableLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', name: 'angular', version: 'c0ab71056b936', npm: 'angular'},\n        {detector: 'js', name: 'react', version: '1.5.0 -something,weird', npm: 'react'},\n        {detector: 'js', name: 'jquery', version: '1.8', npm: 'jquery'},\n      ],\n    });\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.equal(auditResult.details.items[0].detectedLib.type, 'link');\n    assert.equal(auditResult.details.items[0].detectedLib.text, 'jquery@1.8.0');\n  });\n\n  it('passes when no JS libraries with known vulnerabilities are detected', () => {\n    const auditResult = NoVulnerableLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', name: 'lib1', version: '3.10.1', npm: 'lib1'},\n        {detector: 'js', name: 'lib2', version: undefined, npm: 'lib2'},\n      ],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when no JS libraries are detected', () => {\n    const auditResult = NoVulnerableLibrariesAudit.audit({\n      Stacks: [],\n    });\n    assert.equal(auditResult.score, 1);\n  });\n});\n\ndescribe('Snyk database', () => {\n  // https://github.com/npm/node-semver/issues/166#issuecomment-245990039\n  function hasUpperBound(rangeString) {\n    const range = new semver.Range(rangeString);\n    if (!range) return false;\n\n    // For every subset ...\n    for (const subset of range.set) {\n    // Upperbound exists if...\n\n    // < or <= is in one of the subset's clauses (= gets normalized to >= and <).\n      if (subset.some(comparator => comparator.operator && comparator.operator.match(/^</))) {\n        continue;\n      }\n\n      // Subset has a prerelease tag (operator will be empty string).\n      if (subset.length === 1 && subset[0].operator === '') {\n        continue;\n      }\n\n      // No upperbound for this subset.\n      return false;\n    }\n\n    return true;\n  }\n\n  it('hasUpperBound works as intended', () => {\n    assert.equal(hasUpperBound('<1.12.2'), true);\n    assert.equal(hasUpperBound('=1.12.2'), true);\n    assert.equal(hasUpperBound('>=1.12.3 <2.2.2'), true);\n    assert.equal(hasUpperBound('>=2.2.3 <3.0.0'), true);\n    assert.equal(hasUpperBound('>=3.0.0 <3.10.1 || =3.10.2'), true);\n\n    assert.equal(hasUpperBound('>1.12.2'), false);\n    assert.equal(hasUpperBound('>=1.12.2'), false);\n    assert.equal(hasUpperBound('*'), false);\n  });\n\n  it('every snyk vulnerability has an upper bound', () => {\n    for (const vulns of Object.values(NoVulnerableLibrariesAudit.snykDB.npm)) {\n      for (const vuln of vulns) {\n        for (const semver of vuln.semver.vulnerable) {\n          if (!hasUpperBound(semver)) {\n            assert.fail(`invalid semver: ${semver}. Must contain an upper bound`);\n          }\n        }\n      }\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/is-on-https-test.js": {
      "tests": [
        {
          "id": "387",
          "name": "Security: HTTPS audit fails when there is more than one insecure record",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        },
        {
          "id": "388",
          "name": "Security: HTTPS audit fails when there is one insecure record",
          "location": {
            "start": {
              "column": 4,
              "line": 37
            }
          }
        },
        {
          "id": "389",
          "name": "Security: HTTPS audit passes when all records are secure",
          "location": {
            "start": {
              "column": 4,
              "line": 49
            }
          }
        },
        {
          "id": "390",
          "name": "Security: HTTPS audit augmented with mixed-content InspectorIssues",
          "location": {
            "start": {
              "column": 4,
              "line": 59
            }
          }
        },
        {
          "id": "391",
          "name": "Security: HTTPS audit #isSecureRecord correctly identifies insecure records",
          "location": {
            "start": {
              "column": 6,
              "line": 94
            }
          }
        },
        {
          "id": "392",
          "name": "Security: HTTPS audit #isSecureRecord correctly identifies secure records",
          "location": {
            "start": {
              "column": 6,
              "line": 105
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/is-on-https.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Security: HTTPS audit', () => {\n  function getArtifacts(networkRecords, mixedContentIssues) {\n    const devtoolsLog = networkRecordsToDevtoolsLog(networkRecords);\n    return {\n      devtoolsLogs: {[Audit.DEFAULT_PASS]: devtoolsLog},\n      InspectorIssues: {mixedContent: mixedContentIssues || []},\n    };\n  }\n\n  it('fails when there is more than one insecure record', () => {\n    return Audit.audit(getArtifacts([\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n      {url: 'http://insecure.com/image.jpeg', parsedURL: {scheme: 'http', host: 'insecure.com'}},\n      {url: 'http://insecure.com/image.jpeg', parsedURL: {scheme: 'http', host: 'insecure.com'}}, // should be de-duped\n      {url: 'http://insecure.com/image2.jpeg', parsedURL: {scheme: 'http', host: 'insecure.com'}},\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n    ]), {computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.score, 0);\n      expect(result.displayValue).toBeDisplayString('2 insecure requests found');\n      assert.strictEqual(result.details.items.length, 2);\n    });\n  });\n\n  it('fails when there is one insecure record', () => {\n    return Audit.audit(getArtifacts([\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n      {url: 'http://insecure.com/image.jpeg', parsedURL: {scheme: 'http', host: 'insecure.com'}},\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n    ]), {computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.score, 0);\n      expect(result.displayValue).toBeDisplayString('1 insecure request found');\n      expect(result.details.items[0]).toMatchObject({url: 'http://insecure.com/image.jpeg'});\n    });\n  });\n\n  it('passes when all records are secure', () => {\n    return Audit.audit(getArtifacts([\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n      {url: 'http://localhost/image.jpeg', parsedURL: {scheme: 'http', host: 'localhost'}},\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n    ]), {computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.score, 1);\n    });\n  });\n\n  it('augmented with mixed-content InspectorIssues', async () => {\n    const networkRecords = [\n      {url: 'https://google.com/', parsedURL: {scheme: 'https', host: 'google.com'}},\n      {url: 'http://localhost/image.jpeg', parsedURL: {scheme: 'http', host: 'localhost'}},\n      {url: 'http://google.com/', parsedURL: {scheme: 'http', host: 'google.com'}},\n    ];\n    const mixedContentIssues = [\n      {insecureURL: 'http://localhost/image.jpeg', resolutionStatus: 'MixedContentBlocked'},\n      {insecureURL: 'http://localhost/image2.jpeg', resolutionStatus: 'MixedContentBlockedLOL'},\n    ];\n    const artifacts = getArtifacts(networkRecords, mixedContentIssues);\n    const result = await Audit.audit(artifacts, {computedCache: new Map()});\n\n    expect(result.details.items).toHaveLength(3);\n\n    expect(result.details.items[0]).toMatchObject({\n      url: 'http://google.com/',\n      resolution: expect.toBeDisplayString('Allowed'),\n    });\n\n    expect(result.details.items[1]).toMatchObject({\n      url: 'http://localhost/image.jpeg',\n      resolution: expect.toBeDisplayString('Blocked'),\n    });\n\n    // Unknown blocked resolution string is used as fallback.\n    expect(result.details.items[2]).toMatchObject({\n      url: 'http://localhost/image2.jpeg',\n      resolution: expect.toBeDisplayString('MixedContentBlockedLOL'),\n    });\n\n    expect(result.score).toBe(0);\n  });\n\n  describe('#isSecureRecord', () => {\n    it('correctly identifies insecure records', () => {\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'http', host: 'google.com'}}),\n        false);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'http', host: '54.33.21.23'}}),\n        false);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'ws', host: 'my-service.com'}}),\n        false);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: '', host: 'google.com'}}),\n        false);\n    });\n\n    it('correctly identifies secure records', () => {\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'http', host: 'localhost'}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'https', host: 'google.com'}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'wss', host: 'my-service.com'}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'data', host: ''}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'blob', host: ''}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'filesystem', host: ''}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'about', host: ''}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: '', host: ''},\n        protocol: 'blob'}), true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'chrome', host: ''}}),\n        true);\n      assert.strictEqual(Audit.isSecureRecord({parsedURL: {scheme: 'chrome-extension', host: ''}}),\n        true);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/axe-audit-test.js": {
      "tests": [
        {
          "id": "393",
          "name": "Accessibility: axe-audit audit() generates audit output using subclass meta",
          "location": {
            "start": {
              "column": 6,
              "line": 15
            }
          }
        },
        {
          "id": "394",
          "name": "Accessibility: axe-audit audit() returns axe error message to the caller when present",
          "location": {
            "start": {
              "column": 6,
              "line": 39
            }
          }
        },
        {
          "id": "395",
          "name": "Accessibility: axe-audit audit() returns axe error message to the caller when errored without a message",
          "location": {
            "start": {
              "column": 6,
              "line": 67
            }
          }
        },
        {
          "id": "396",
          "name": "Accessibility: axe-audit audit() considers passing axe result as not applicable for informative audit",
          "location": {
            "start": {
              "column": 6,
              "line": 92
            }
          }
        },
        {
          "id": "397",
          "name": "Accessibility: axe-audit audit() considers failing axe result as failure for informative audit",
          "location": {
            "start": {
              "column": 6,
              "line": 116
            }
          }
        },
        {
          "id": "398",
          "name": "Accessibility: axe-audit audit() considers error-free incomplete axe result as failure for informative audit",
          "location": {
            "start": {
              "column": 6,
              "line": 148
            }
          }
        },
        {
          "id": "399",
          "name": "Accessibility: axe-audit prefers our getOuterHTMLSnippet() string over axe's html string",
          "location": {
            "start": {
              "column": 4,
              "line": 173
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst AxeAudit = require('../../../audits/accessibility/axe-audit.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: axe-audit', () => {\n  describe('audit()', () => {\n    it('generates audit output using subclass meta', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-aria-fail',\n            title: 'You have an aria-* issue',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          violations: [{\n            id: 'fake-aria-fail',\n            nodes: [{}],\n            help: 'http://example.com/',\n          }],\n        },\n      };\n\n      const output = FakeA11yAudit.audit(artifacts);\n      assert.equal(output.score, 0);\n    });\n\n    it('returns axe error message to the caller when present', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-incomplete-error',\n            title: 'Example title',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          incomplete: [{\n            id: 'fake-incomplete-error',\n            nodes: [],\n            help: 'http://example.com/',\n            error: {\n              name: 'SupportError',\n              message: 'Feature is not supported on your platform',\n            },\n          }],\n        },\n      };\n\n      const {errorMessage} = FakeA11yAudit.audit(artifacts);\n      assert.equal(errorMessage, 'axe-core Error: Feature is not supported on your platform');\n    });\n\n    it('returns axe error message to the caller when errored without a message', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-incomplete-error',\n            title: 'Example title',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          incomplete: [{\n            id: 'fake-incomplete-error',\n            nodes: [],\n            help: 'http://example.com/',\n            error: {},\n          }],\n        },\n      };\n\n      const output = FakeA11yAudit.audit(artifacts);\n      assert.equal(output.errorMessage, 'axe-core Error: Unknown error');\n    });\n\n    it('considers passing axe result as not applicable for informative audit', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-axe-pass',\n            title: 'Example title',\n            scoreDisplayMode: 'informative',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          passes: [{\n            id: 'fake-axe-pass',\n            help: 'http://example.com/',\n          }],\n        },\n      };\n\n      const output = FakeA11yAudit.audit(artifacts);\n      assert.ok(output.notApplicable);\n    });\n\n    it('considers failing axe result as failure for informative audit', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-axe-failure-case',\n            title: 'Example title',\n            scoreDisplayMode: 'informative',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          incomplete: [{\n            id: 'fake-axe-failure-case',\n            nodes: [{html: '<input id=\"multi-label-form-element\" />'}],\n            help: 'http://example.com/',\n          }],\n          // TODO: remove: axe-core v3.3.0 backwards-compatibility test\n          violations: [{\n            id: 'fake-axe-failure-case',\n            nodes: [{html: '<input id=\"multi-label-form-element\" />'}],\n            help: 'http://example.com/',\n          }],\n        },\n      };\n\n      const output = FakeA11yAudit.audit(artifacts);\n      assert.ok(!output.notApplicable);\n      assert.equal(output.score, 0);\n    });\n\n    it('considers error-free incomplete axe result as failure for informative audit', () => {\n      class FakeA11yAudit extends AxeAudit {\n        static get meta() {\n          return {\n            id: 'fake-incomplete-fail',\n            title: 'Example title',\n            scoreDisplayMode: 'informative',\n            requiredArtifacts: ['Accessibility'],\n          };\n        }\n      }\n      const artifacts = {\n        Accessibility: {\n          incomplete: [{\n            id: 'fake-incomplete-fail',\n            help: 'http://example.com/',\n          }],\n        },\n      };\n\n      const output = FakeA11yAudit.audit(artifacts);\n      assert.equal(output.score, 0);\n    });\n  });\n\n  it('prefers our getOuterHTMLSnippet() string over axe\\'s html string', () => {\n    class FakeA11yAudit extends AxeAudit {\n      static get meta() {\n        return {\n          id: 'fake-axe-snippet-case',\n          title: 'Example title',\n          scoreDisplayMode: 'informative',\n          requiredArtifacts: ['Accessibility'],\n        };\n      }\n    }\n    const artifacts = {\n      Accessibility: {\n        violations: [\n          {\n            id: 'fake-axe-snippet-case',\n            nodes: [{html: '<input id=\"axes-source\" />', snippet: '<input id=\"snippet\"/>'}],\n            help: 'http://example.com/',\n          },\n        ],\n      },\n    };\n\n    const output = FakeA11yAudit.audit(artifacts);\n    expect(output.details.items[0].node.snippet).toMatch(`<input id=\"snippet\"/>`);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/long-tasks-test.js": {
      "tests": [
        {
          "id": "400",
          "name": "Long tasks audit should pass and be non-applicable if there are no long tasks",
          "location": {
            "start": {
              "column": 4,
              "line": 60
            }
          }
        },
        {
          "id": "401",
          "name": "Long tasks audit should return a list of long tasks with duration >= 50 ms",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "402",
          "name": "Long tasks audit should filter out tasks with duration less than 50 ms",
          "location": {
            "start": {
              "column": 4,
              "line": 89
            }
          }
        },
        {
          "id": "403",
          "name": "Long tasks audit should not filter out tasks with duration >= 50 ms only after throttling",
          "location": {
            "start": {
              "column": 4,
              "line": 114
            }
          }
        },
        {
          "id": "404",
          "name": "Long tasks audit should populate url when tasks have an attributable url",
          "location": {
            "start": {
              "column": 4,
              "line": 148
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LongTasks = require('../../audits/long-tasks.js');\nconst createTestTrace = require('../create-test-trace.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\nconst BASE_TS = 12345e3;\nconst TASK_URL = 'https://pwa.rocks';\n\n/* eslint-env jest */\n\n/**\n * @param {Number} count\n * @param {Number} duration\n * @param {Boolean} withChildTasks\n */\nfunction generateTraceWithLongTasks({count, duration = 200, withChildTasks = false}) {\n  const traceTasks = [{ts: BASE_TS, duration: 0}];\n  for (let i = 1; i <= count; i++) {\n    /* Generates a top-level task w/ the following breakdown:\n    task -> {\n      ts,\n      duration,\n      children -> [{ts, duration, url}, ...],\n    }\n    Child tasks should start after the parent task and end before it.\n    Top-level tasks will take on the attributable URL from it's children.\n    */\n    const ts = BASE_TS + i * 1000;\n    const task = {ts, duration};\n    task.children = [];\n    if (withChildTasks) {\n      task.children.push({\n        ts: ts + duration / 10,\n        duration: duration / 3,\n        url: TASK_URL,\n      });\n      task.children.push({\n        ts: ts + duration / 2,\n        duration: duration / 3,\n        url: TASK_URL,\n      });\n    }\n    traceTasks.push(task);\n  }\n  return createTestTrace({\n    topLevelTasks: traceTasks,\n    timeOrigin: BASE_TS,\n  });\n}\n\ndescribe('Long tasks audit', () => {\n  const devtoolsLog = networkRecordsToDevtoolsLog([{url: TASK_URL}]);\n\n  it('should pass and be non-applicable if there are no long tasks', async () => {\n    const artifacts = {\n      traces: {defaultPass: generateTraceWithLongTasks({count: 0})},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n    const result = await LongTasks.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items).toHaveLength(0);\n    expect(result.score).toBe(1);\n    expect(result.displayValue).toBeUndefined();\n    expect(result.notApplicable).toBeTruthy();\n  });\n\n  it('should return a list of long tasks with duration >= 50 ms', async () => {\n    const artifacts = {\n      traces: {defaultPass: generateTraceWithLongTasks({count: 4})},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n    const result = await LongTasks.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items).toMatchObject([\n      {url: 'Unattributable', duration: 200, startTime: 1000},\n      {url: 'Unattributable', duration: 200, startTime: 2000},\n      {url: 'Unattributable', duration: 200, startTime: 3000},\n      {url: 'Unattributable', duration: 200, startTime: 4000},\n    ]);\n    expect(result.score).toBe(0);\n    expect(result.displayValue).toBeDisplayString('4 long tasks found');\n    expect(result.notApplicable).toBeFalsy();\n  });\n\n  it('should filter out tasks with duration less than 50 ms', async () => {\n    const trace = createTestTrace({\n      timeOrigin: BASE_TS,\n      topLevelTasks: [\n        {ts: BASE_TS, duration: 1},\n        {ts: BASE_TS + 1000, duration: 30},\n        {ts: BASE_TS + 2000, duration: 100},\n        {ts: BASE_TS + 3000, duration: 25},\n        {ts: BASE_TS + 4000, duration: 50},\n      ],\n    });\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const result = await LongTasks.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items).toMatchObject([\n      {url: 'Unattributable', duration: 100, startTime: 2000},\n      {url: 'Unattributable', duration: 50, startTime: 4000},\n    ]);\n    expect(result.score).toBe(0);\n    expect(result.displayValue).toBeDisplayString('2 long tasks found');\n  });\n\n  it('should not filter out tasks with duration >= 50 ms only after throttling', async () => {\n    const artifacts = {\n      traces: {defaultPass: generateTraceWithLongTasks({count: 4, duration: 25})},\n      devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog([\n        {url: TASK_URL, timing: {connectEnd: 50, connectStart: 0.01, sslStart: 25, sslEnd: 40}},\n      ])},\n    };\n    const context = {\n      computedCache: new Map(),\n      settings: {\n        precomputedLanternData: {\n          additionalRttByOrigin: {[TASK_URL]: 0},\n          serverResponseTimeByOrigin: {[TASK_URL]: 100},\n        },\n        throttlingMethod: 'simulate',\n        throttling: {\n          rttMs: 100,\n          throughputKbps: 10000,\n          cpuSlowdownMultiplier: 4,\n        },\n      },\n    };\n    const result = await LongTasks.audit(artifacts, context);\n    expect(result.details.items).toMatchObject([\n      {duration: 100, startTime: 600},\n      {duration: 100, startTime: 700},\n      {duration: 100, startTime: 800},\n      {duration: 100, startTime: 900},\n    ]);\n    expect(result.score).toBe(0);\n    expect(result.details.items).toHaveLength(4);\n    expect(result.displayValue).toBeDisplayString('4 long tasks found');\n  });\n\n  it('should populate url when tasks have an attributable url', async () => {\n    const trace = generateTraceWithLongTasks({count: 1, duration: 300, withChildTasks: true});\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n    const result = await LongTasks.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items).toMatchObject([\n      {url: TASK_URL, duration: 300, startTime: 1000},\n    ]);\n    expect(result.score).toBe(0);\n    expect(result.displayValue).toBeDisplayString('1 long task found');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/themed-omnibox-test.js": {
      "tests": [
        {
          "id": "405",
          "name": "PWA: themed omnibox audit fails if page had no manifest",
          "location": {
            "start": {
              "column": 4,
              "line": 37
            }
          }
        },
        {
          "id": "406",
          "name": "PWA: themed omnibox audit fails when a minimal manifest contains no theme_color",
          "location": {
            "start": {
              "column": 4,
              "line": 50
            }
          }
        },
        {
          "id": "407",
          "name": "PWA: themed omnibox audit succeeds when a minimal manifest contains a theme_color",
          "location": {
            "start": {
              "column": 4,
              "line": 62
            }
          }
        },
        {
          "id": "408",
          "name": "PWA: themed omnibox audit succeeds when a complete manifest contains a theme_color",
          "location": {
            "start": {
              "column": 4,
              "line": 74
            }
          }
        },
        {
          "id": "409",
          "name": "PWA: themed omnibox audit fails and warns when no theme-color meta tag found",
          "location": {
            "start": {
              "column": 4,
              "line": 83
            }
          }
        },
        {
          "id": "410",
          "name": "PWA: themed omnibox audit fails and warns when theme-color has an invalid CSS color",
          "location": {
            "start": {
              "column": 4,
              "line": 93
            }
          }
        },
        {
          "id": "411",
          "name": "PWA: themed omnibox audit succeeds when theme-color present in the html",
          "location": {
            "start": {
              "column": 4,
              "line": 103
            }
          }
        },
        {
          "id": "412",
          "name": "PWA: themed omnibox audit succeeds when theme-color has a CSS nickname content value",
          "location": {
            "start": {
              "column": 4,
              "line": 113
            }
          }
        },
        {
          "id": "413",
          "name": "PWA: themed omnibox audit succeeds when theme-color has a CSS4 nickname content value",
          "location": {
            "start": {
              "column": 4,
              "line": 123
            }
          }
        },
        {
          "id": "414",
          "name": "PWA: themed omnibox audit fails if HTML theme color is good, but manifest themecolor is bad",
          "location": {
            "start": {
              "column": 4,
              "line": 133
            }
          }
        },
        {
          "id": "415",
          "name": "PWA: themed omnibox audit fails if HTML theme color is bad, and manifest themecolor is good",
          "location": {
            "start": {
              "column": 4,
              "line": 144
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ThemedOmniboxAudit = require('../../audits/themed-omnibox.js');\nconst assert = require('assert').strict;\nconst manifestParser = require('../../lib/manifest-parser.js');\n\nconst manifestSrc = JSON.stringify(require('../fixtures/manifest.json'));\nconst EXAMPLE_MANIFEST_URL = 'https://example.com/manifest.json';\nconst EXAMPLE_DOC_URL = 'https://example.com/index.html';\n\n/**\n * @param {string} src\n */\nfunction generateMockArtifacts(src = manifestSrc) {\n  const exampleManifest = manifestParser(src, EXAMPLE_MANIFEST_URL, EXAMPLE_DOC_URL);\n\n  return {\n    WebAppManifest: exampleManifest,\n    InstallabilityErrors: {errors: []},\n    MetaElements: [{name: 'theme-color', content: '#bada55'}],\n  };\n}\n\nfunction generateMockAuditContext() {\n  return {\n    computedCache: new Map(),\n  };\n}\n\n/* eslint-env jest */\ndescribe('PWA: themed omnibox audit', () => {\n  it('fails if page had no manifest', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.WebAppManifest = null;\n    const context = generateMockAuditContext();\n\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.strictEqual(result.score, 0);\n      assert.ok(result.explanation.includes('No manifest was fetched'), result.explanation);\n    });\n  });\n\n  // Need to disable camelcase check for dealing with theme_color.\n  /* eslint-disable camelcase */\n  it('fails when a minimal manifest contains no theme_color', () => {\n    const artifacts = generateMockArtifacts(JSON.stringify({\n      start_url: '/',\n    }));\n    const context = generateMockAuditContext();\n\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 0);\n      assert.ok(result.explanation);\n    });\n  });\n\n  it('succeeds when a minimal manifest contains a theme_color', () => {\n    const artifacts = generateMockArtifacts(JSON.stringify({\n      theme_color: '#bada55',\n    }));\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 1);\n      assert.equal(result.explanation, undefined);\n    });\n  });\n\n  /* eslint-enable camelcase */\n  it('succeeds when a complete manifest contains a theme_color', () => {\n    const artifacts = generateMockArtifacts();\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 1);\n      assert.equal(result.explanation, undefined);\n    });\n  });\n\n  it('fails and warns when no theme-color meta tag found', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [];\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 0);\n      assert.ok(result.explanation);\n    });\n  });\n\n  it('fails and warns when theme-color has an invalid CSS color', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [{name: 'theme-color', content: '#1234567'}];\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 0);\n      assert.ok(result.explanation.includes('valid CSS color'));\n    });\n  });\n\n  it('succeeds when theme-color present in the html', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [{name: 'theme-color', content: '#fafa33'}];\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 1);\n      assert.equal(result.explanation, undefined);\n    });\n  });\n\n  it('succeeds when theme-color has a CSS nickname content value', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [{name: 'theme-color', content: 'red'}];\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 1);\n      assert.equal(result.explanation, undefined);\n    });\n  });\n\n  it('succeeds when theme-color has a CSS4 nickname content value', async () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [{name: 'theme-color', content: 'rebeccapurple'}]; // <3\n    const context = generateMockAuditContext();\n\n    const result = await ThemedOmniboxAudit.audit(artifacts, context);\n    assert.equal(result.score, 1);\n    assert.equal(result.explanation, undefined);\n  });\n\n  it('fails if HTML theme color is good, but manifest themecolor is bad', () => {\n    const artifacts = generateMockArtifacts(JSON.stringify({\n      start_url: '/',\n    }));\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 0);\n      assert.ok(result.explanation.includes('does not have `theme_color`'), result.explanation);\n    });\n  });\n\n  it('fails if HTML theme color is bad, and manifest themecolor is good', () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.MetaElements = [{name: 'theme-color'}];\n    const context = generateMockAuditContext();\n    return ThemedOmniboxAudit.audit(artifacts, context).then(result => {\n      assert.equal(result.score, 0);\n      assert.ok(result.explanation.includes('theme-color meta tag'), result.explanation);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/splash-screen-test.js": {
      "tests": [
        {
          "id": "416",
          "name": "PWA: splash screen audit basics fails if page had no manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 37
            }
          }
        },
        {
          "id": "417",
          "name": "PWA: splash screen audit basics fails with a non-parsable manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 48
            }
          }
        },
        {
          "id": "418",
          "name": "PWA: splash screen audit basics fails when an empty manifest is present",
          "location": {
            "start": {
              "column": 6,
              "line": 57
            }
          }
        },
        {
          "id": "419",
          "name": "PWA: splash screen audit basics passes with complete manifest and SW",
          "location": {
            "start": {
              "column": 6,
              "line": 67
            }
          }
        },
        {
          "id": "420",
          "name": "PWA: splash screen audit one-off-failures fails when a manifest contains no name",
          "location": {
            "start": {
              "column": 6,
              "line": 77
            }
          }
        },
        {
          "id": "421",
          "name": "PWA: splash screen audit one-off-failures fails when a manifest contains no background color",
          "location": {
            "start": {
              "column": 6,
              "line": 88
            }
          }
        },
        {
          "id": "422",
          "name": "PWA: splash screen audit one-off-failures fails when a manifest contains invalid background color",
          "location": {
            "start": {
              "column": 6,
              "line": 99
            }
          }
        },
        {
          "id": "423",
          "name": "PWA: splash screen audit one-off-failures fails when a manifest contains no theme color",
          "location": {
            "start": {
              "column": 6,
              "line": 111
            }
          }
        },
        {
          "id": "424",
          "name": "PWA: splash screen audit one-off-failures fails if page had no icons in the manifest",
          "location": {
            "start": {
              "column": 6,
              "line": 122
            }
          }
        },
        {
          "id": "425",
          "name": "PWA: splash screen audit one-off-failures fails if icons were present, but no valid PNG present",
          "location": {
            "start": {
              "column": 6,
              "line": 133
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst SplashScreenAudit = require('../../audits/splash-screen.js');\nconst assert = require('assert').strict;\nconst manifestParser = require('../../lib/manifest-parser.js');\n\nconst manifestSrc = JSON.stringify(require('../fixtures/manifest.json'));\nconst manifestDirtyJpgSrc = JSON.stringify(require('../fixtures/manifest-dirty-jpg.json'));\nconst EXAMPLE_MANIFEST_URL = 'https://example.com/manifest.json';\nconst EXAMPLE_DOC_URL = 'https://example.com/index.html';\n\n/**\n * @param {string} src\n */\nfunction generateMockArtifacts(src = manifestSrc) {\n  const exampleManifest = manifestParser(src, EXAMPLE_MANIFEST_URL, EXAMPLE_DOC_URL);\n\n  return {\n    WebAppManifest: exampleManifest,\n    InstallabilityErrors: {errors: []},\n  };\n}\nfunction generateMockAuditContext() {\n  return {\n    computedCache: new Map(),\n  };\n}\n\n/* eslint-env jest */\ndescribe('PWA: splash screen audit', () => {\n  describe('basics', () => {\n    it('fails if page had no manifest', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest = null;\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('No manifest was fetched'), result.explanation);\n      });\n    });\n\n    it('fails with a non-parsable manifest', () => {\n      const artifacts = generateMockArtifacts('{,:}');\n      const context = generateMockAuditContext();\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('failed to parse as valid JSON'));\n      });\n    });\n\n    it('fails when an empty manifest is present', () => {\n      const artifacts = generateMockArtifacts('{}');\n      const context = generateMockAuditContext();\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation);\n        assert.strictEqual(result.details.items[0].failures.length, 4);\n      });\n    });\n\n    it('passes with complete manifest and SW', () => {\n      const context = generateMockAuditContext();\n      return SplashScreenAudit.audit(generateMockArtifacts(), context).then(result => {\n        assert.strictEqual(result.score, 1, result.explanation);\n        assert.strictEqual(result.explanation, undefined, result.explanation);\n      });\n    });\n  });\n\n  describe('one-off-failures', () => {\n    it('fails when a manifest contains no name', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.name.value = undefined;\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('name'), result.explanation);\n      });\n    });\n\n    it('fails when a manifest contains no background color', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.background_color.value = undefined;\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('background_color'), result.explanation);\n      });\n    });\n\n    it('fails when a manifest contains invalid background color', () => {\n      const artifacts = generateMockArtifacts(JSON.stringify({\n        background_color: 'no',\n      }));\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('background_color'), result.explanation);\n      });\n    });\n\n    it('fails when a manifest contains no theme color', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.theme_color.value = undefined;\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('theme_color'), result.explanation);\n      });\n    });\n\n    it('fails if page had no icons in the manifest', () => {\n      const artifacts = generateMockArtifacts();\n      artifacts.WebAppManifest.value.icons.value = [];\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('PNG icon'), result.explanation);\n      });\n    });\n\n    it('fails if icons were present, but no valid PNG present', () => {\n      const artifacts = generateMockArtifacts(manifestDirtyJpgSrc);\n      const context = generateMockAuditContext();\n\n      return SplashScreenAudit.audit(artifacts, context).then(result => {\n        assert.strictEqual(result.score, 0);\n        assert.ok(result.explanation.includes('PNG icon'), result.explanation);\n        const failures = result.details.items[0].failures;\n        assert.strictEqual(failures.length, 1, failures);\n      });\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/unused-javascript-test.js": {
      "tests": [
        {
          "id": "426",
          "name": "UnusedJavaScript audit should merge duplicates",
          "location": {
            "start": {
              "column": 4,
              "line": 64
            }
          }
        },
        {
          "id": "427",
          "name": "UnusedJavaScript audit should augment when provided source maps",
          "location": {
            "start": {
              "column": 4,
              "line": 95
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst assert = require('assert').strict;\nconst UnusedJavaScript = require('../../../audits/byte-efficiency/unused-javascript.js');\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\nconst {loadSourceMapAndUsageFixture} = require('../../test-utils.js');\n\n/* eslint-env jest */\n\n/**\n * @param {string} url\n * @param {number} transferSize\n * @param {LH.Crdp.Network.ResourceType} resourceType\n */\nfunction generateRecord(url, transferSize, resourceType) {\n  return {url, transferSize, resourceType};\n}\n\n/**\n * @param {string} url\n * @param {Array<[number, number, number]>} ranges\n * @return {Crdp.Profiler.ScriptCoverage}\n */\nfunction generateUsage(url, ranges) {\n  const functions = ranges.map(range => {\n    return {\n      ranges: [\n        {\n          startOffset: range[0],\n          endOffset: range[1],\n          count: range[2] ? 1 : 0,\n        },\n      ],\n    };\n  });\n\n  return {url, functions};\n}\n\nfunction makeJsUsage(...usages) {\n  return usages.reduce((acc, cur) => {\n    acc[cur.url] = acc[cur.url] || [];\n    acc[cur.url].push(cur);\n    return acc;\n  }, {});\n}\n\ndescribe('UnusedJavaScript audit', () => {\n  const domain = 'https://www.google.com';\n  const scriptUnknown = generateUsage(domain, [[0, 3000, false]]);\n  const scriptA = generateUsage(`${domain}/scriptA.js`, [[0, 100, true]]);\n  const scriptB = generateUsage(`${domain}/scriptB.js`, [[0, 200, true], [0, 50, false]]);\n  const inlineA = generateUsage(`${domain}/inline.html`, [[0, 5000, true], [5000, 6000, false]]);\n  const inlineB = generateUsage(`${domain}/inline.html`, [[0, 15000, true], [0, 5000, false]]);\n  const recordA = generateRecord(`${domain}/scriptA.js`, 35000, 'Script');\n  const recordB = generateRecord(`${domain}/scriptB.js`, 50000, 'Script');\n  const recordInline = generateRecord(`${domain}/inline.html`, 1000000, 'Document');\n\n  it('should merge duplicates', async () => {\n    const context = {\n      computedCache: new Map(),\n      options: {\n        // Lower the threshold so we don't need huge resources to make a test.\n        unusedThreshold: 2000,\n      },\n    };\n    const networkRecords = [recordA, recordB, recordInline];\n    const artifacts = {\n      JsUsage: makeJsUsage(scriptA, scriptB, scriptUnknown, inlineA, inlineB),\n      devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(networkRecords)},\n      SourceMaps: [],\n    };\n    const result = await UnusedJavaScript.audit_(artifacts, networkRecords, context);\n    expect(result.items.map(item => item.url)).toEqual([\n      'https://www.google.com/scriptB.js',\n      'https://www.google.com/inline.html',\n    ]);\n\n    const scriptBWaste = result.items[0];\n    assert.equal(scriptBWaste.totalBytes, 50000);\n    assert.equal(scriptBWaste.wastedBytes, 12500);\n    assert.equal(scriptBWaste.wastedPercent, 25);\n\n    const inlineWaste = result.items[1];\n    assert.equal(inlineWaste.totalBytes, 21000);\n    assert.equal(inlineWaste.wastedBytes, 6000);\n    assert.equal(Math.round(inlineWaste.wastedPercent), 29);\n  });\n\n  it('should augment when provided source maps', async () => {\n    const context = {\n      computedCache: new Map(),\n      options: {\n        // Lower the threshold so we don't need huge resources to make a test.\n        unusedThreshold: 2000,\n        // Default threshold is 512, but is lowered here so that squoosh generates more\n        // results.\n        bundleSourceUnusedThreshold: 100,\n      },\n    };\n    const {map, content, usage} = loadSourceMapAndUsageFixture('squoosh');\n    const url = 'https://squoosh.app/main-app.js';\n    const networkRecords = [generateRecord(url, content.length, 'Script')];\n    const artifacts = {\n      JsUsage: makeJsUsage(usage),\n      devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(networkRecords)},\n      SourceMaps: [{scriptUrl: url, map}],\n      ScriptElements: [{src: url, content}],\n    };\n    const result = await UnusedJavaScript.audit_(artifacts, networkRecords, context);\n\n    expect(result.items).toMatchInlineSnapshot(`\n      Array [\n        Object {\n          \"subItems\": Object {\n            \"items\": Array [\n              Object {\n                \"source\": \"(unmapped)\",\n                \"sourceBytes\": 10062,\n                \"sourceWastedBytes\": 3760,\n              },\n              Object {\n                \"source\": \"â¦src/codecs/webp/encoder-meta.ts\",\n                \"sourceBytes\": 660,\n                \"sourceWastedBytes\": 660,\n              },\n              Object {\n                \"source\": \"â¦src/lib/util.ts\",\n                \"sourceBytes\": 4043,\n                \"sourceWastedBytes\": 500,\n              },\n              Object {\n                \"source\": \"â¦src/custom-els/RangeInput/index.ts\",\n                \"sourceBytes\": 2138,\n                \"sourceWastedBytes\": 293,\n              },\n              Object {\n                \"source\": \"â¦node_modules/comlink/comlink.js\",\n                \"sourceBytes\": 4117,\n                \"sourceWastedBytes\": 256,\n              },\n            ],\n            \"type\": \"subitems\",\n          },\n          \"totalBytes\": 83748,\n          \"url\": \"https://squoosh.app/main-app.js\",\n          \"wastedBytes\": 6961,\n          \"wastedPercent\": 8.312435814764395,\n        },\n      ]\n    `);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/third-party-summary-test.js": {
      "tests": [
        {
          "id": "428",
          "name": "Third party summary surface the discovered third parties",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "429",
          "name": "Third party summary account for simulated throttling",
          "location": {
            "start": {
              "column": 4,
              "line": 82
            }
          }
        },
        {
          "id": "430",
          "name": "Third party summary be not applicable when no third parties are present",
          "location": {
            "start": {
              "column": 4,
              "line": 100
            }
          }
        },
        {
          "id": "431",
          "name": "Third party summary does not return third party entity that matches main resource entity",
          "location": {
            "start": {
              "column": 4,
              "line": 116
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ThirdPartySummary = require('../../audits/third-party-summary.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\nconst pwaTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst noThirdPartyTrace = require('../fixtures/traces/no-tracingstarted-m74.json');\n\n/* eslint-env jest */\ndescribe('Third party summary', () => {\n  it('surface the discovered third parties', async () => {\n    const artifacts = {\n      devtoolsLogs: {defaultPass: pwaDevtoolsLog},\n      traces: {defaultPass: pwaTrace},\n      URL: {finalUrl: 'https://pwa-rocks.com'},\n    };\n\n    const results = await ThirdPartySummary.audit(artifacts, {computedCache: new Map()});\n\n    expect(results.score).toBe(1);\n    expect(results.displayValue).toBeDisplayString(\n      'Third-party code blocked the main thread for 20Â ms'\n    );\n    expect(results.details.items).toEqual([\n      {\n        entity: {\n          text: 'Google Tag Manager',\n          type: 'link',\n          url: 'https://marketingplatform.google.com/about/tag-manager/',\n        },\n        mainThreadTime: 127.15300000000003,\n        blockingTime: 18.186999999999998,\n        transferSize: 30827,\n        subItems: {\n          items: [\n            {\n              blockingTime: 18.186999999999998,\n              mainThreadTime: 127.15300000000003,\n              transferSize: 30827,\n              url: 'https://www.googletagmanager.com/gtm.js?id=GTM-Q5SW',\n            },\n          ],\n          type: 'subitems',\n        },\n      },\n      {\n        entity: {\n          text: 'Google Analytics',\n          type: 'link',\n          url: 'https://www.google.com/analytics/analytics/',\n        },\n        mainThreadTime: 95.15599999999999,\n        blockingTime: 0,\n        transferSize: 20913,\n        subItems: {\n          items: [\n            {\n              blockingTime: 0,\n              mainThreadTime: 55.246999999999986,\n              transferSize: 12906,\n              url: 'https://www.google-analytics.com/analytics.js',\n            },\n            {\n              blockingTime: 0,\n              transferSize: 8007,\n              url: expect.toBeDisplayString('Other resources'),\n            },\n          ],\n          type: 'subitems',\n        },\n      },\n    ]);\n    expect(results.details.items[1].subItems.items[1].url).toBeDisplayString('Other resources');\n  });\n\n  it('account for simulated throttling', async () => {\n    const artifacts = {\n      devtoolsLogs: {defaultPass: pwaDevtoolsLog},\n      traces: {defaultPass: pwaTrace},\n      URL: {finalUrl: 'https://pwa-rocks.com'},\n    };\n\n    const settings = {throttlingMethod: 'simulate', throttling: {cpuSlowdownMultiplier: 4}};\n    const results = await ThirdPartySummary.audit(artifacts, {computedCache: new Map(), settings});\n\n    expect(results.score).toBe(0);\n    expect(results.details.items).toHaveLength(2);\n    expect(Math.round(results.details.items[0].mainThreadTime)).toEqual(509);\n    expect(Math.round(results.details.items[0].blockingTime)).toEqual(250);\n    expect(Math.round(results.details.items[1].mainThreadTime)).toEqual(381);\n    expect(Math.round(results.details.items[1].blockingTime)).toEqual(157);\n  });\n\n  it('be not applicable when no third parties are present', async () => {\n    const artifacts = {\n      devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog([{url: 'chrome://version'}])},\n      traces: {defaultPass: noThirdPartyTrace},\n      URL: {finalUrl: 'chrome://version'},\n    };\n\n    const settings = {throttlingMethod: 'simulate', throttling: {cpuSlowdownMultiplier: 4}};\n    const results = await ThirdPartySummary.audit(artifacts, {computedCache: new Map(), settings});\n\n    expect(results).toEqual({\n      score: 1,\n      notApplicable: true,\n    });\n  });\n\n  it('does not return third party entity that matches main resource entity', async () => {\n    const externalArtifacts = {\n      devtoolsLogs: {\n        defaultPass: networkRecordsToDevtoolsLog([\n          {url: 'http://example.com'},\n          {url: 'http://photos-c.ak.fbcdn.net/photos-ak-sf2p/photo.jpg'},\n        ]),\n      },\n      traces: {defaultPass: pwaTrace},\n      URL: {finalUrl: 'http://example.com'},\n    };\n    const facebookArtifacts = {\n      devtoolsLogs: {\n        defaultPass: networkRecordsToDevtoolsLog([\n          {url: 'http://facebook.com'},\n          {url: 'http://photos-c.ak.fbcdn.net/photos-ak-sf2p/photo.jpg'},\n        ]),\n      },\n      traces: {defaultPass: pwaTrace},\n      URL: {finalUrl: 'http://facebook.com'},\n    };\n    const context = {computedCache: new Map()};\n\n    const resultsOnExternal = await ThirdPartySummary.audit(externalArtifacts, context);\n    const resultsOnFacebook = await ThirdPartySummary.audit(facebookArtifacts, context);\n\n    const externalEntities = resultsOnExternal.details.items.map(item => item.entity.text);\n    const facebookEntities = resultsOnFacebook.details.items.map(item => item.entity.text);\n\n    expect(externalEntities).toEqual(['Google Tag Manager', 'Facebook', 'Google Analytics']);\n    expect(facebookEntities).toEqual(['Google Tag Manager', 'Google Analytics']);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/preload-fonts-test.js": {
      "tests": [
        {
          "id": "432",
          "name": "Preload Fonts Audit font-display is optional fails if the font is not preloaded",
          "location": {
            "start": {
              "column": 6,
              "line": 32
            }
          }
        },
        {
          "id": "433",
          "name": "Preload Fonts Audit font-display is optional passes if the font is preloaded",
          "location": {
            "start": {
              "column": 6,
              "line": 55
            }
          }
        },
        {
          "id": "434",
          "name": "Preload Fonts Audit font-display is not optional passes if the font is not preloaded",
          "location": {
            "start": {
              "column": 6,
              "line": 78
            }
          }
        },
        {
          "id": "435",
          "name": "Preload Fonts Audit font-display is not optional passes if the font is preloaded",
          "location": {
            "start": {
              "column": 6,
              "line": 99
            }
          }
        },
        {
          "id": "436",
          "name": "Preload Fonts Audit is not applicable on fonts where font-display is not optional",
          "location": {
            "start": {
              "column": 4,
              "line": 121
            }
          }
        },
        {
          "id": "437",
          "name": "Preload Fonts Audit handles multiple fonts",
          "location": {
            "start": {
              "column": 4,
              "line": 151
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst PreloadFontsAudit = require('../../audits/preload-fonts.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Preload Fonts Audit', () => {\n  let networkRecords;\n  let stylesheet;\n  let context;\n\n  beforeEach(() => {\n    stylesheet = {content: '', header: {}};\n    context = {computedCache: new Map()};\n  });\n\n  function getArtifacts() {\n    return {\n      devtoolsLogs: {[PreloadFontsAudit.DEFAULT_PASS]: networkRecordsToDevtoolsLog(networkRecords)},\n      URL: {finalUrl: 'https://example.com/foo/bar/page'},\n      CSSUsage: {stylesheets: [stylesheet]},\n    };\n  }\n\n  describe('font-display is optional', () => {\n    it('fails if the font is not preloaded', async () => {\n      stylesheet.content = `\n        @font-face {\n          font-display: optional;\n          src: url('/assets/font-a.woff');\n        }\n      `;\n\n      networkRecords = [\n        {\n          url: 'https://example.com/assets/font-a.woff',\n          resourceType: 'Font',\n          isLinkPreload: false,\n        },\n      ];\n\n      const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n      expect(result.score).toEqual(0);\n      expect(result.details.items).toEqual([\n        {url: networkRecords[0].url},\n      ]);\n    });\n\n    it('passes if the font is preloaded', async () => {\n      stylesheet.content = `\n        @font-face {\n          font-display: optional;\n          src: url('/assets/font-a.woff');\n        }\n      `;\n\n      networkRecords = [\n        {\n          url: 'https://example.com/assets/font-a.woff',\n          resourceType: 'Font',\n          isLinkPreload: true,\n        },\n      ];\n\n      const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n      expect(result.details.items).toEqual([]);\n      expect(result.score).toEqual(1);\n    });\n  });\n\n  describe('font-display is not optional', () => {\n    it('passes if the font is not preloaded', async () => {\n      stylesheet.content = `\n        @font-face {\n          src: url('/assets/font-a.woff');\n        }\n      `;\n\n      networkRecords = [\n        {\n          url: 'https://example.com/assets/font-a.woff',\n          resourceType: 'Font',\n          isLinkPreload: false,\n        },\n      ];\n\n      const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n      expect(result.score).toEqual(1);\n      expect(result.details.items).toEqual([]);\n      expect(result.notApplicable).toEqual(true);\n    });\n\n    it('passes if the font is preloaded', async () => {\n      stylesheet.content = `\n        @font-face {\n          src: url('/assets/font-a.woff');\n        }\n      `;\n\n      networkRecords = [\n        {\n          url: 'https://example.com/assets/font-a.woff',\n          resourceType: 'Font',\n          isLinkPreload: true,\n        },\n      ];\n\n      const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n      expect(result.score).toEqual(1);\n      expect(result.details.items).toEqual([]);\n      expect(result.notApplicable).toEqual(true);\n    });\n  });\n\n  it('is not applicable on fonts where font-display is not optional', async () => {\n    stylesheet.content = `\n      @font-face {\n        font-display: swap;\n        src: url('/assets/font-a.woff');\n      }\n\n      @font-face {\n        font-display: block;\n        src: url('https://example.com/foo/bar/document-font.woff');\n      }\n\n      @font-face {\n        font-display: fallback;\n        src: url('/assets/font-b.woff');\n      }\n\n      @font-face {\n        src: url('/assets/font-c.woff');\n      }\n    `;\n\n    networkRecords = [];\n\n    const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n    expect(result.score).toEqual(1);\n    expect(result.details.items).toEqual([]);\n    expect(result.notApplicable).toEqual(true);\n  });\n\n  it('handles multiple fonts', async () => {\n    stylesheet.content = `\n      @font-face {\n        font-display: optional;\n        src: url('/assets/font-a.woff');\n      }\n\n      @font-face {\n        font-display: optional;\n        src: url('https://example.com/foo/bar/document-font.woff');\n      }\n\n      @font-face {\n        font-display: fallback;\n        src: url('/assets/font-b.woff');\n      }\n\n      @font-face {\n        font-display: optional;\n        src: url('/assets/font-c.woff');\n      }\n    `;\n\n    networkRecords = [\n      {\n        url: 'https://example.com/assets/font-a.woff',\n        resourceType: 'Font',\n        isLinkPreload: true,\n      },\n      {\n        url: 'https://example.com/foo/bar/document-font.woff',\n        resourceType: 'Font',\n        isLinkPreload: false,\n      },\n      {\n        url: 'https://example.com/assets/font-b.woff',\n        resourceType: 'Font',\n        isLinkPreload: true,\n      },\n      {\n        url: 'https://example.com/assets/font-c.woff',\n        resourceType: 'Font',\n        isLinkPreload: false,\n      },\n    ];\n\n    const result = await PreloadFontsAudit.audit(getArtifacts(), context);\n    expect(result.score).toEqual(0);\n    expect(result.details.items).toEqual([\n      {url: networkRecords[1].url},\n      {url: networkRecords[3].url},\n    ]);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/bootup-time-test.js": {
      "tests": [
        {
          "id": "438",
          "name": "Performance: bootup-time audit should compute the correct BootupTime values",
          "location": {
            "start": {
              "column": 4,
              "line": 19
            }
          }
        },
        {
          "id": "439",
          "name": "Performance: bootup-time audit should compute the correct values when simulated",
          "location": {
            "start": {
              "column": 4,
              "line": 74
            }
          }
        },
        {
          "id": "440",
          "name": "Performance: bootup-time audit should get no data when no events are present",
          "location": {
            "start": {
              "column": 4,
              "line": 153
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\nconst BootupTime = require('../../audits/bootup-time.js');\nconst assert = require('assert').strict;\n\nconst acceptableTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst acceptableDevtoolsLogs = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst errorTrace = require('../fixtures/traces/no_fmp_event.json');\n\ndescribe('Performance: bootup-time audit', () => {\n  const auditOptions = Object.assign({}, BootupTime.defaultOptions, {thresholdInMs: 10});\n\n  it('should compute the correct BootupTime values', () => {\n    const artifacts = Object.assign({\n      traces: {[BootupTime.DEFAULT_PASS]: acceptableTrace},\n      devtoolsLogs: {[BootupTime.DEFAULT_PASS]: acceptableDevtoolsLogs},\n    });\n    const computedCache = new Map();\n\n    return BootupTime.audit(artifacts, {options: auditOptions, computedCache}).then(output => {\n      expect(output.details.items).toMatchInlineSnapshot(`\nArray [\n  Object {\n    \"scriptParseCompile\": 0.022,\n    \"scripting\": 7.619999999999981,\n    \"total\": 1025.2669999999957,\n    \"url\": \"Unattributable\",\n  },\n  Object {\n    \"scriptParseCompile\": 6.469,\n    \"scripting\": 97.69500000000002,\n    \"total\": 127.15300000000002,\n    \"url\": \"https://www.googletagmanager.com/gtm.js?id=GTM-Q5SW\",\n  },\n  Object {\n    \"scriptParseCompile\": 1.295,\n    \"scripting\": 31.776,\n    \"total\": 61.05500000000001,\n    \"url\": \"https://pwa.rocks/script.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 9.629,\n    \"scripting\": 40.88899999999999,\n    \"total\": 55.246999999999986,\n    \"url\": \"https://www.google-analytics.com/analytics.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 1.229,\n    \"scripting\": 6.131,\n    \"total\": 36.947,\n    \"url\": \"https://pwa.rocks/\",\n  },\n  Object {\n    \"scriptParseCompile\": 1.239,\n    \"scripting\": 25.210000000000004,\n    \"total\": 27.805000000000007,\n    \"url\": \"https://www.google-analytics.com/plugins/ua/linkid.js\",\n  },\n]\n`);\n\n      assert.equal(Math.round(output.numericValue), 229);\n      assert.equal(output.details.items.length, 6);\n      assert.equal(output.score, 1);\n    });\n  }, 10000);\n\n  it('should compute the correct values when simulated', async () => {\n    const artifacts = Object.assign({\n      traces: {defaultPass: acceptableTrace},\n      devtoolsLogs: {defaultPass: acceptableDevtoolsLogs},\n    });\n\n    const options = auditOptions;\n    const settings = {throttlingMethod: 'simulate', throttling: {cpuSlowdownMultiplier: 3}};\n    const computedCache = new Map();\n    const output = await BootupTime.audit(artifacts, {options, settings, computedCache});\n\n    expect(output.details.items).toMatchInlineSnapshot(`\nArray [\n  Object {\n    \"scriptParseCompile\": 0.066,\n    \"scripting\": 22.859999999999943,\n    \"total\": 3075.8009999999867,\n    \"url\": \"Unattributable\",\n  },\n  Object {\n    \"scriptParseCompile\": 19.407,\n    \"scripting\": 293.08500000000004,\n    \"total\": 381.459,\n    \"url\": \"https://www.googletagmanager.com/gtm.js?id=GTM-Q5SW\",\n  },\n  Object {\n    \"scriptParseCompile\": 3.885,\n    \"scripting\": 95.328,\n    \"total\": 183.165,\n    \"url\": \"https://pwa.rocks/script.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 28.887,\n    \"scripting\": 122.66699999999997,\n    \"total\": 165.74099999999999,\n    \"url\": \"https://www.google-analytics.com/analytics.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 3.6870000000000003,\n    \"scripting\": 18.393,\n    \"total\": 110.84100000000002,\n    \"url\": \"https://pwa.rocks/\",\n  },\n  Object {\n    \"scriptParseCompile\": 3.7170000000000005,\n    \"scripting\": 75.63000000000001,\n    \"total\": 83.415,\n    \"url\": \"https://www.google-analytics.com/plugins/ua/linkid.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 0,\n    \"scripting\": 0,\n    \"total\": 23.897999999999996,\n    \"url\": \"Browser GC\",\n  },\n  Object {\n    \"scriptParseCompile\": 8.943,\n    \"scripting\": 9.882,\n    \"total\": 21.03,\n    \"url\": \"https://www.google-analytics.com/cx/api.js?experiment=jdCfRmudTmy-0USnJ8xPbw\",\n  },\n  Object {\n    \"scriptParseCompile\": 0,\n    \"scripting\": 0.12,\n    \"total\": 20.156999999999996,\n    \"url\": \"https://pwa.rocks/0ff789bf.js\",\n  },\n  Object {\n    \"scriptParseCompile\": 7.638,\n    \"scripting\": 6.27,\n    \"total\": 15.282,\n    \"url\": \"https://www.google-analytics.com/cx/api.js?experiment=qvpc5qIfRC2EMnbn6bbN5A\",\n  },\n]\n`);\n    assert.equal(output.score, 0.98);\n    assert.equal(Math.round(output.numericValue), 720);\n  });\n\n  it('should get no data when no events are present', () => {\n    const artifacts = Object.assign({\n      traces: {defaultPass: errorTrace},\n      devtoolsLogs: {defaultPass: []},\n    });\n    const computedCache = new Map();\n\n    return BootupTime.audit(artifacts, {options: auditOptions, computedCache}).then(output => {\n      assert.equal(output.details.items.length, 0);\n      assert.equal(output.score, 1);\n      assert.equal(Math.round(output.numericValue), 0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/robots-txt-test.js": {
      "tests": [
        {
          "id": "441",
          "name": "SEO: robots.txt audit fails and reports error when no robots.txt was provided",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "442",
          "name": "SEO: robots.txt audit fails when request for /robots.txt returns a HTTP500+ error",
          "location": {
            "start": {
              "column": 4,
              "line": 27
            }
          }
        },
        {
          "id": "443",
          "name": "SEO: robots.txt audit fails when robots.txt file contains errors",
          "location": {
            "start": {
              "column": 4,
              "line": 53
            }
          }
        },
        {
          "id": "444",
          "name": "SEO: robots.txt audit not applicable when there is no robots.txt or it's empty",
          "location": {
            "start": {
              "column": 4,
              "line": 166
            }
          }
        },
        {
          "id": "445",
          "name": "SEO: robots.txt audit passes when robots.txt is valid",
          "location": {
            "start": {
              "column": 4,
              "line": 193
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst RobotsTxtAudit = require('../../../audits/seo/robots-txt.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('SEO: robots.txt audit', () => {\n  it('fails and reports error when no robots.txt was provided', () => {\n    const artifacts = {\n      RobotsTxt: {\n        status: null,\n        content: null,\n      },\n    };\n\n    const auditResult = RobotsTxtAudit.audit(artifacts);\n    assert.equal(auditResult.score, 0);\n    assert.ok(auditResult.explanation);\n  });\n\n  it('fails when request for /robots.txt returns a HTTP500+ error', () => {\n    const testData = [\n      {\n        status: 500,\n        content: null,\n      },\n      {\n        status: 503,\n        content: 'There is some content',\n      },\n      {\n        status: 599,\n        content: null,\n      },\n    ];\n\n    testData.forEach(RobotsTxt => {\n      const artifacts = {\n        RobotsTxt,\n      };\n\n      const auditResult = RobotsTxtAudit.audit(artifacts);\n      assert.equal(auditResult.score, 0);\n    });\n  });\n\n  it('fails when robots.txt file contains errors', () => {\n    const testData = [\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'Allow: /',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 201,\n          content: 'syntax error',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 301,\n          content: 'unknown: directive',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'unknown: directive',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'sitemap: /cant/be/relative.xml',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'sitemap:#can\\'t be empty',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'user-agent: *\\nallow: https://cant.be/absolute',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 399,\n          content: 'user-agent: *\\nallow: must/start/with/a/slash',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'user-agent: *\\nallow: /dolar/sign$in/the/middle',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: 'user-agent: *\\nallow: must/start/with/a/slash',\n        },\n        expectedErrors: 1,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: `user-agent: *\nallow: /\ndisallow: /test\n\nuser agent: wrong\nalow: /wrong\ndisallow /wrong\n`,\n        },\n        expectedErrors: 3,\n      },\n      {\n        RobotsTxt: {\n          status: 200,\n          content: `every\nsingle\nline\nis\nwrong\n`,\n        },\n        expectedErrors: 5,\n      },\n    ];\n\n    testData.forEach(({RobotsTxt, expectedErrors}) => {\n      const artifacts = {\n        RobotsTxt,\n      };\n\n      const auditResult = RobotsTxtAudit.audit(artifacts);\n\n      assert.equal(auditResult.score, 0);\n      assert.equal(auditResult.details.items.length, expectedErrors);\n      expect(auditResult.displayValue).toBeDisplayString(/\\d errors? found/);\n    });\n  });\n\n  it('not applicable when there is no robots.txt or it\\'s empty', () => {\n    const testData = [\n      {\n        status: 404,\n        content: 'invalid content',\n      },\n      {\n        status: 401,\n        content: 'invalid content',\n      },\n      {\n        status: 200,\n        content: '',\n      },\n    ];\n\n    testData.forEach(RobotsTxt => {\n      const artifacts = {\n        RobotsTxt,\n      };\n\n      const auditResult = RobotsTxtAudit.audit(artifacts);\n      assert.equal(auditResult.score, 1);\n      assert.equal(auditResult.notApplicable, true);\n    });\n  });\n\n  it('passes when robots.txt is valid', () => {\n    const testData = [\n      {\n        status: 200,\n        content: '#just a comment',\n      },\n      {\n        status: 201,\n        content: 'user-agent:*\\ndisallow:',\n      },\n      {\n        status: 200,\n        content: 'USER-AGENT:  *\\nALLOW:    /         \\nDISALLOW:#comment',\n      },\n      {\n        status: 204,\n        content: `User-agent: Twitterbot\nDisallow:\n\nUser-agent: BadBot\nDisallow: / # go away!\n\nSitemap: https://example.com/sitemap.xml\n\nUser-agent: Yandex\nHost: https://brainly.com\nclean-param: bla\n\nUser-agent: Bing\nDisallow: /*.swf$\ncrawl-delay: 10\n\nUser-agent: NotOfficial\nnoindex: /bla\nVisit-time: 0600-0845\nRequest-rate: 1/30m\n`,\n      },\n    ];\n\n    testData.forEach(RobotsTxt => {\n      const artifacts = {\n        RobotsTxt,\n      };\n\n      const auditResult = RobotsTxtAudit.audit(artifacts);\n      assert.equal(auditResult.score, 1);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/hreflang-test.js": {
      "tests": [
        {
          "id": "446",
          "name": "SEO: Document has valid hreflang code fails when the language code provided in hreflang via link element is invalid",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "447",
          "name": "SEO: Document has valid hreflang code succeeds when the language code provided in hreflang via body is invalid",
          "location": {
            "start": {
              "column": 4,
              "line": 30
            }
          }
        },
        {
          "id": "448",
          "name": "SEO: Document has valid hreflang code succeeds when language code provided via head/headers is valid",
          "location": {
            "start": {
              "column": 4,
              "line": 50
            }
          }
        },
        {
          "id": "449",
          "name": "SEO: Document has valid hreflang code succeeds when there are no rel=alternate link elements nor headers",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "450",
          "name": "SEO: Document has valid hreflang code returns all failing items",
          "location": {
            "start": {
              "column": 4,
              "line": 76
            }
          }
        },
        {
          "id": "451",
          "name": "SEO: Document has valid hreflang code fails when the hreflang url is not fully-qualified",
          "location": {
            "start": {
              "column": 4,
              "line": 91
            }
          }
        },
        {
          "id": "452",
          "name": "SEO: Document has valid hreflang code fails with an invalid language code and a href which is not fully-qualified",
          "location": {
            "start": {
              "column": 4,
              "line": 104
            }
          }
        },
        {
          "id": "453",
          "name": "SEO: Document has valid hreflang code outputs the reasons for which a hreflang failed",
          "location": {
            "start": {
              "column": 4,
              "line": 116
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst assert = require('assert').strict;\nconst HreflangAudit = require('../../../audits/seo/hreflang.js');\n\n/* eslint-env jest */\n\ndescribe('SEO: Document has valid hreflang code', () => {\n  it('fails when the language code provided in hreflang via link element is invalid', () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'alternate', hreflang: 'xx1', hrefRaw: 'http://example.com/', source: 'headers'},\n        {rel: 'alternate', hreflang: 'XX-be', hrefRaw: 'http://example.com/', source: 'headers'},\n        {rel: 'alternate', hreflang: 'XX-be-Hans', hrefRaw: 'http://example.com/', source: 'head'},\n        {rel: 'alternate', hreflang: '  es', hrefRaw: 'http://example.com/', source: 'head'},\n        {rel: 'alternate', hreflang: '  es', hrefRaw: 'http://example.com/', source: 'headers'},\n      ],\n    };\n\n    const {score, details} = HreflangAudit.audit(artifacts);\n    assert.equal(score, 0);\n    assert.equal(details.items.length, 5);\n  });\n\n  it('succeeds when the language code provided in hreflang via body is invalid', () => {\n    const hreflangValues = ['xx', 'XX-be', 'XX-be-Hans', '', '  es'];\n\n    for (const hreflangValue of hreflangValues) {\n      const artifacts = {\n        LinkElements: [\n          {\n            source: 'body',\n            rel: 'alternate',\n            hreflang: hreflangValue,\n            href: 'https://example.com',\n          },\n        ],\n      };\n\n      const {score} = HreflangAudit.audit(artifacts);\n      assert.equal(score, 1);\n    }\n  });\n\n  it('succeeds when language code provided via head/headers is valid', () => {\n    const hreflangValues = ['pl', 'nl-be', 'zh-Hans', 'x-default', 'FR-BE'];\n\n    let inHead = false;\n    for (const hreflangValue of hreflangValues) {\n      const artifacts = {\n        LinkElements: [\n          {\n            source: inHead ? 'head' : 'headers',\n            rel: 'alternate',\n            hreflang: hreflangValue,\n            hrefRaw: 'https://example.com',\n          },\n        ],\n      };\n\n      const {score} = HreflangAudit.audit(artifacts);\n      assert.equal(score, 1);\n      inHead = !inHead;\n    }\n  });\n\n  it('succeeds when there are no rel=alternate link elements nor headers', () => {\n    assert.equal(HreflangAudit.audit({LinkElements: []}).score, 1);\n  });\n\n  it('returns all failing items', () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'alternate', hreflang: 'xx1', hrefRaw: 'http://xx1.example.com/', source: 'headers'},\n        {rel: 'alternate', hreflang: 'xx2', hrefRaw: 'http://xx2.example.com/', source: 'headers'},\n        {rel: 'alternate', hreflang: 'xx3', hrefRaw: 'http://xx3.example.com/', source: 'head'},\n        {rel: 'alternate', hreflang: 'xx4', hrefRaw: 'http://xx4.example.com/', source: 'head'},\n      ],\n    };\n\n    const {score, details} = HreflangAudit.audit(artifacts);\n    assert.equal(score, 0);\n    assert.equal(details.items.length, 4);\n  });\n\n  it('fails when the hreflang url is not fully-qualified', () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'alternate', hreflang: 'es', hrefRaw: 'example.com', source: 'head'},\n        {rel: 'alternate', hreflang: 'es', hrefRaw: '//example.com', source: 'headers'},\n      ],\n    };\n\n    const {score, details} = HreflangAudit.audit(artifacts);\n    assert.equal(score, 0);\n    assert.equal(details.items.length, 2);\n  });\n\n  it('fails with an invalid language code and a href which is not fully-qualified', () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'alternate', hreflang: ' es', hrefRaw: 'example.com', source: 'head'},\n        {rel: 'alternate', hreflang: 'xx1', hrefRaw: '//example.com', source: 'headers'},\n      ],\n    };\n\n    const {score} = HreflangAudit.audit(artifacts);\n    assert.equal(score, 0);\n  });\n\n  it('outputs the reasons for which a hreflang failed', () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'alternate', hreflang: '@@', hrefRaw: 'example.com', source: 'head'},\n        {rel: 'alternate', hreflang: 'fr', hrefRaw: 'example.com', source: 'head'},\n        {rel: 'alternate', hreflang: '@@', hrefRaw: 'https://example.com', source: 'head'},\n        {rel: 'alternate', hreflang: 'fr', hrefRaw: 'https://example.com', source: 'head'},\n      ],\n    };\n\n    const {details: {items}} = HreflangAudit.audit(artifacts);\n\n    assert.equal(items.length, 3);\n    assert.equal(items[0].subItems.items.length, 2);\n    assert.equal(items[1].subItems.items.length, 1);\n\n    expect(items[0].subItems.items[0].reason).toBeDisplayString('Unexpected language code');\n    expect(items[0].subItems.items[1].reason).toBeDisplayString('Relative href value');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/load-fast-enough-for-pwa-test.js": {
      "tests": [
        {
          "id": "454",
          "name": "PWA: load-fast-enough-for-pwa audit returns boolean based on TTI value",
          "location": {
            "start": {
              "column": 4,
              "line": 20
            }
          }
        },
        {
          "id": "455",
          "name": "PWA: load-fast-enough-for-pwa audit fails a bad TTI value",
          "location": {
            "start": {
              "column": 4,
              "line": 33
            }
          }
        },
        {
          "id": "456",
          "name": "PWA: load-fast-enough-for-pwa audit respects the observed result when throttling is preset",
          "location": {
            "start": {
              "column": 4,
              "line": 59
            }
          }
        },
        {
          "id": "457",
          "name": "PWA: load-fast-enough-for-pwa audit overrides with simulated result when throttling is modified",
          "location": {
            "start": {
              "column": 4,
              "line": 70
            }
          }
        },
        {
          "id": "458",
          "name": "PWA: load-fast-enough-for-pwa audit overrides when throttling is modified but method is not \"provided\"",
          "location": {
            "start": {
              "column": 4,
              "line": 82
            }
          }
        },
        {
          "id": "459",
          "name": "PWA: load-fast-enough-for-pwa audit overrides when throttling is \"provided\" and fails the simulated TTI value",
          "location": {
            "start": {
              "column": 4,
              "line": 93
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst FastPWAAudit = require('../../audits/load-fast-enough-for-pwa.js');\nconst mobileSlow4GThrottling = require('../../config/constants.js').throttling.mobileSlow4G;\nconst assert = require('assert').strict;\nconst createTestTrace = require('../create-test-trace.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\nconst trace = require('../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n\n/* eslint-env jest */\ndescribe('PWA: load-fast-enough-for-pwa audit', () => {\n  it('returns boolean based on TTI value', () => {\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'devtools', throttling: mobileSlow4GThrottling};\n    return FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()}).then(result => {\n      assert.equal(result.score, 1, 'fixture trace is not passing audit');\n      assert.equal(result.numericValue, 1582.189);\n    });\n  });\n\n  it('fails a bad TTI value', async () => {\n    const topLevelTasks = [\n      {ts: 1000, duration: 100},\n      {ts: 3000, duration: 100},\n      {ts: 5000, duration: 100},\n      {ts: 9000, duration: 100},\n      {ts: 12000, duration: 100},\n      {ts: 14900, duration: 100},\n    ];\n    const longTrace = createTestTrace({timeOrigin: 0, traceEnd: 20000, topLevelTasks});\n    const devtoolsLog = networkRecordsToDevtoolsLog([{url: 'https://example.com'}]);\n\n    const artifacts = {\n      traces: {defaultPass: longTrace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'devtools', throttling: mobileSlow4GThrottling};\n    return FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()}).then(result => {\n      assert.equal(result.score, 0, 'not failing a long TTI value');\n      assert.equal(result.numericValue, 15000);\n      expect(result.displayValue).toBeDisplayString('Interactive at 15.0\\xa0s');\n      assert.ok(result.explanation);\n    });\n  });\n\n  it('respects the observed result when throttling is preset', async () => {\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'devtools', throttling: mobileSlow4GThrottling};\n    const result = await FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()});\n    assert.equal(Math.round(result.numericValue), 1582);\n  });\n\n  it('overrides with simulated result when throttling is modified', async () => {\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'provided', throttling: {rttMs: 40, throughput: 100000}};\n    const result = await FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()});\n    expect(result.numericValue).toBeGreaterThan(2000); // If not overridden this would be 1582\n    expect(Math.round(result.numericValue)).toMatchSnapshot();\n  });\n\n  it('overrides when throttling is modified but method is not \"provided\"', async () => {\n    const artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'devtools', throttling: {rttMs: 40, throughput: 100000}};\n    const result = await FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()});\n    expect(result.numericValue).toBeGreaterThan(2000); // If not overridden this would be 1582\n  });\n\n  it('overrides when throttling is \"provided\" and fails the simulated TTI value', async () => {\n    const topLevelTasks = [\n      {ts: 1000, duration: 1000},\n      {ts: 3000, duration: 1000},\n      {ts: 5000, duration: 1000},\n      {ts: 9000, duration: 1000},\n      {ts: 12000, duration: 1000},\n      {ts: 14900, duration: 1000},\n    ];\n    const longTrace = createTestTrace({timeOrigin: 0, traceEnd: 20000, topLevelTasks});\n\n    const artifacts = {\n      traces: {defaultPass: longTrace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'provided', throttling: {rttMs: 40, throughput: 100000}};\n    const result = await FastPWAAudit.audit(artifacts, {settings, computedCache: new Map()});\n    expect(result.displayValue)\n      .toBeDisplayString('Interactive on simulated mobile network at 24.9\\xa0s');\n    expect(result.numericValue).toBeGreaterThan(10000);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/large-javascript-libraries-test.js": {
      "tests": [
        {
          "id": "460",
          "name": "Large JavaScript libraries audit passes when no libraries were detected",
          "location": {
            "start": {
              "column": 4,
              "line": 36
            }
          }
        },
        {
          "id": "461",
          "name": "Large JavaScript libraries audit passes when none of the detected libraries exist in the database",
          "location": {
            "start": {
              "column": 4,
              "line": 44
            }
          }
        },
        {
          "id": "462",
          "name": "Large JavaScript libraries audit fails when a detected library is found in the database and gives suggestions",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        },
        {
          "id": "463",
          "name": "Large JavaScript libraries audit falls back to the latest version of a library if its version is unknown",
          "location": {
            "start": {
              "column": 4,
              "line": 69
            }
          }
        },
        {
          "id": "464",
          "name": "Large JavaScript libraries audit does not provide duplicate suggestions when a library appears twice",
          "location": {
            "start": {
              "column": 4,
              "line": 80
            }
          }
        },
        {
          "id": "465",
          "name": "Large JavaScript libraries audit gives suggestions in order of ascending KiB size",
          "location": {
            "start": {
              "column": 4,
              "line": 93
            }
          }
        },
        {
          "id": "466",
          "name": "Large JavaScript libraries audit uses a BundlePhobiaStats database that contains all necessary libraries",
          "location": {
            "start": {
              "column": 4,
              "line": 109
            }
          }
        },
        {
          "id": "467",
          "name": "Large JavaScript libraries audit uses a BundlePhobiaStats database that does not contain errors",
          "location": {
            "start": {
              "column": 4,
              "line": 123
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-disable max-len */\nconst LargeJavaScriptLibrariesAudit = require('../../../audits/large-javascript-libraries.js');\nconst assert = require('assert').strict;\nconst libStats = require('../../../lib/large-javascript-libraries/bundlephobia-database.json');\nconst librarySuggestions = require('../../../lib/large-javascript-libraries/library-suggestions.js').suggestions;\n/* eslint-enable max-len */\n\n/**\n * @param {string} detector\n * @param {string} id\n * @param {string} name\n * @param {string} version\n * @param {string} npm\n * @return {object}\n */\nfunction makeStack(detector, id, name, version, npm) {\n  return {\n    detector,\n    id,\n    name,\n    version,\n    npm,\n  };\n}\n\n/* eslint-env jest */\n\ndescribe('Large JavaScript libraries audit', () => {\n  it('passes when no libraries were detected', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when none of the detected libraries exist in the database', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [\n        makeStack('js', 'fakeLibrary1', 'FakeLibrary1', '1.0.0', 'FakeLibrary1'),\n        makeStack('css', 'fakeLibrary2', 'FakeLibrary2', '2.0.0', 'FakeLibrary2'),\n      ],\n    });\n\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('fails when a detected library is found in the database and gives suggestions', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [\n        makeStack('js', 'fakeLibrary1', 'FakeLibrary1', '1.0.0', 'FakeLibrary1'),\n        makeStack('js', 'momentjs', 'Moment.js', '2.27.0', 'moment'),\n      ],\n    });\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.equal(auditResult.details.items[0].subItems.items.length, 3);\n  });\n\n  it('falls back to the latest version of a library if its version is unknown', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [\n        makeStack('js', 'momentjs', 'Moment.js', '0', 'moment'),\n      ],\n    });\n\n    assert.equal(auditResult.details.items[0].transferSize,\n      libStats['moment'].versions['latest'].gzip);\n  });\n\n  it('does not provide duplicate suggestions when a library appears twice', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [\n        makeStack('js', 'momentjs', 'Moment.js', '2.27.0', 'moment'),\n        makeStack('js', 'momentjs', 'Moment.js', '1.0.0', 'moment'),\n      ],\n    });\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.equal(auditResult.details.items[0].subItems.items.length, 3);\n  });\n\n  it('gives suggestions in order of ascending KiB size', () => {\n    const auditResult = LargeJavaScriptLibrariesAudit.audit({\n      Stacks: [\n        makeStack('js', 'momentjs', 'Moment.js', '2.27.0', 'moment'),\n      ],\n    });\n\n    const subItems = auditResult.details.items[0].subItems.items;\n\n    for (let i = 0; i < subItems.length - 1; i++) {\n      if (subItems[i].transferSize > subItems[i + 1].transferSize) {\n        assert.fail('Suggestions are not in ascending order');\n      }\n    }\n  });\n\n  it('uses a BundlePhobiaStats database that contains all necessary libraries', () => {\n    const libraries = [].\n      concat(...Object.values(librarySuggestions)).\n      concat(Object.keys(librarySuggestions));\n\n    for (const library of libraries) {\n      if (!libStats[library] || !libStats[library].versions['latest']) {\n        assert.fail('The library \"' + library + '\" does not have any stats. ' +\n          'Please re-run the generate-bundlephobia-database script ' +\n          'to keep the database up-to-date.');\n      }\n    }\n  });\n\n  it('uses a BundlePhobiaStats database that does not contain errors', () => {\n    const libraries = [].\n    concat(...Object.values(librarySuggestions)).\n    concat(Object.keys(librarySuggestions));\n\n    for (const library of libraries) {\n      if (libStats[library].lastScraped === 'Error') {\n        assert.fail('The library \"' + library + '\" encountered an error when scraping recently. ' +\n          'Please re-run the generate-bundlephobia-database script to fix this, or check if ' +\n          'the library no longer exists on npm (in which case remove it from our list).');\n      }\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/resource-summary-test.js": {
      "tests": [
        {
          "id": "468",
          "name": "Performance: Resource summary audit has three table columns",
          "location": {
            "start": {
              "column": 4,
              "line": 32
            }
          }
        },
        {
          "id": "469",
          "name": "Performance: Resource summary audit has the correct score",
          "location": {
            "start": {
              "column": 4,
              "line": 37
            }
          }
        },
        {
          "id": "470",
          "name": "Performance: Resource summary audit has the correct display value",
          "location": {
            "start": {
              "column": 4,
              "line": 42
            }
          }
        },
        {
          "id": "471",
          "name": "Performance: Resource summary audit includes the correct properties for each table item",
          "location": {
            "start": {
              "column": 4,
              "line": 47
            }
          }
        },
        {
          "id": "472",
          "name": "Performance: Resource summary audit includes all resource types, regardless of whether page contains them",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        },
        {
          "id": "473",
          "name": "Performance: Resource summary audit it displays \"0\" if there are no resources of that type",
          "location": {
            "start": {
              "column": 4,
              "line": 61
            }
          }
        },
        {
          "id": "474",
          "name": "Performance: Resource summary audit third-party resource identification is based on root domain if firstPartyHostnames is NOT set",
          "location": {
            "start": {
              "column": 6,
              "line": 68
            }
          }
        },
        {
          "id": "475",
          "name": "Performance: Resource summary audit third-party resource identification uses firstPartyHostnames if provided",
          "location": {
            "start": {
              "column": 6,
              "line": 76
            }
          }
        },
        {
          "id": "476",
          "name": "Performance: Resource summary audit table ordering except for the last row, it sorts items by size (descending)",
          "location": {
            "start": {
              "column": 6,
              "line": 92
            }
          }
        },
        {
          "id": "477",
          "name": "Performance: Resource summary audit table ordering \"Total\" is the first row",
          "location": {
            "start": {
              "column": 6,
              "line": 100
            }
          }
        },
        {
          "id": "478",
          "name": "Performance: Resource summary audit table ordering \"Third-party\" is the last-row",
          "location": {
            "start": {
              "column": 6,
              "line": 105
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ResourceSummaryAudit = require('../../audits/resource-summary.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Performance: Resource summary audit', () => {\n  let artifacts;\n  let context;\n  beforeEach(() => {\n    context = {computedCache: new Map(), settings: {budgets: null}};\n\n    artifacts = {\n      devtoolsLogs: {\n        defaultPass: networkRecordsToDevtoolsLog([\n          {url: 'http://example.com/file.html', resourceType: 'Document', transferSize: 30},\n          {url: 'http://example.com/app.js', resourceType: 'Script', transferSize: 10},\n          {url: 'http://my-cdn.com/bin.js', resourceType: 'Script', transferSize: 25},\n          {url: 'http://third-party.com/script.js', resourceType: 'Script', transferSize: 50},\n          {url: 'http://third-party.com/file.jpg', resourceType: 'Image', transferSize: 70},\n        ]),\n      },\n      URL: {requestedUrl: 'http://example.com', finalUrl: 'http://example.com'},\n    };\n  });\n  it('has three table columns', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    expect(result.details.headings).toHaveLength(3);\n  });\n\n  it('has the correct score', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    expect(result.score).toBe(1);\n  });\n\n  it('has the correct display value', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    expect(result.displayValue).toBeDisplayString('5 requests â¢ 0 KiB');\n  });\n\n  it('includes the correct properties for each table item', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    const item = result.details.items[0];\n    expect(item.resourceType).toEqual('total');\n    expect(item.label).toBeDisplayString('Total');\n    expect(item.requestCount).toBe(5);\n    expect(item.transferSize).toBe(185);\n  });\n\n  it('includes all resource types, regardless of whether page contains them', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    expect(Object.keys(result.details.items)).toHaveLength(9);\n  });\n\n  it('it displays \"0\" if there are no resources of that type', async () => {\n    const result = await ResourceSummaryAudit.audit(artifacts, context);\n    const fontItem = result.details.items.find(item => item.resourceType === 'font');\n    expect(fontItem.requestCount).toBe(0);\n    expect(fontItem.transferSize).toBe(0);\n  });\n  describe('third-party resource identification', () => {\n    it('is based on root domain if firstPartyHostnames is NOT set', async () => {\n      const result = await ResourceSummaryAudit.audit(artifacts, context);\n      const thirdParty = result.details.items\n        .find(item => item.resourceType === 'third-party');\n      expect(thirdParty.transferSize).toBe(145);\n      expect(thirdParty.requestCount).toBe(3);\n    });\n\n    it('uses firstPartyHostnames if provided', async () => {\n      context.settings.budgets = [{\n        path: '/',\n        options: {\n          firstPartyHostnames: ['example.com', 'my-cdn.com'],\n        },\n      }];\n      const result = await ResourceSummaryAudit.audit(artifacts, context);\n      const thirdParty = result.details.items\n        .find(item => item.resourceType === 'third-party');\n      expect(thirdParty.transferSize).toBe(120);\n      expect(thirdParty.requestCount).toBe(2);\n    });\n  });\n\n  describe('table ordering', () => {\n    it('except for the last row, it sorts items by size (descending)', async () => {\n      const result = await ResourceSummaryAudit.audit(artifacts, context);\n      const items = result.details.items;\n      items.slice(0, -2).forEach((item, index) => {\n        expect(item.transferSize).toBeGreaterThanOrEqual(items[index + 1].transferSize);\n      });\n    });\n\n    it('\"Total\" is the first row', async () => {\n      const result = await ResourceSummaryAudit.audit(artifacts, context);\n      expect(result.details.items[0].resourceType).toBe('total');\n    });\n\n    it('\"Third-party\" is the last-row', async () => {\n      const result = await ResourceSummaryAudit.audit(artifacts, context);\n      const items = result.details.items;\n      expect(items[items.length - 1].resourceType).toBe('third-party');\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/external-anchors-use-rel-noopener-test.js": {
      "tests": [
        {
          "id": "479",
          "name": "External anchors use rel=\"noopener\" passes when links are from same hosts as the page host",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "480",
          "name": "External anchors use rel=\"noopener\" passes when links have a valid rel",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        },
        {
          "id": "481",
          "name": "External anchors use rel=\"noopener\" passes when links do not use target=_blank",
          "location": {
            "start": {
              "column": 4,
              "line": 42
            }
          }
        },
        {
          "id": "482",
          "name": "External anchors use rel=\"noopener\" passes when links have javascript in href attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 54
            }
          }
        },
        {
          "id": "483",
          "name": "External anchors use rel=\"noopener\" passes when links have mailto in href attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 66
            }
          }
        },
        {
          "id": "484",
          "name": "External anchors use rel=\"noopener\" fails when links are from different hosts than the page host",
          "location": {
            "start": {
              "column": 4,
              "line": 78
            }
          }
        },
        {
          "id": "485",
          "name": "External anchors use rel=\"noopener\" fails when links have no href attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 104
            }
          }
        },
        {
          "id": "486",
          "name": "External anchors use rel=\"noopener\" fails when links have href attribute starting with a protocol",
          "location": {
            "start": {
              "column": 4,
              "line": 114
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ExternalAnchorsAudit =\n  require('../../../audits/dobetterweb/external-anchors-use-rel-noopener.js');\nconst assert = require('assert').strict;\n\nconst URL = 'https://google.com/test';\n\n/* eslint-env jest */\n\ndescribe('External anchors use rel=\"noopener\"', () => {\n  it('passes when links are from same hosts as the page host', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'https://google.com/test', target: '_blank', rel: ''},\n        {href: 'https://google.com/test1', target: '_blank', rel: ''},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when links have a valid rel', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'https://other.com/test', target: '_blank', rel: 'nofollow noopener'},\n        {href: 'https://other.com/test1', target: '_blank', rel: 'noreferrer'},\n        {href: 'https://other.com/test2', target: '_blank', rel: 'noopener'},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when links do not use target=_blank', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'https://other.com/test', rel: ''},\n        {href: 'https://other.com/test1', rel: ''},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when links have javascript in href attribute', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'javascript:void(0)', target: '_blank', rel: ''},\n        {href: 'JAVASCRIPT:void(0)', target: '_blank', rel: ''},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('passes when links have mailto in href attribute', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'mailto:inbox@email.com', target: '_blank', rel: ''},\n        {href: 'MAILTO:INBOX@EMAIL.COM', target: '_blank', rel: ''},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('fails when links are from different hosts than the page host', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {\n          href: 'https://example.com/test',\n          target: '_blank',\n          rel: 'nofollow',\n          devtoolsNodePath: 'devtools',\n        },\n        {\n          href: 'https://example.com/test1',\n          target: '_blank',\n          rel: '',\n          devtoolsNodePath: 'nodepath',\n        },\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n    assert.equal(auditResult.details.items[0].node.type, 'node');\n    assert.equal(auditResult.details.items[0].node.path, 'devtools');\n    assert.equal(auditResult.details.items[1].node.type, 'node');\n    assert.equal(auditResult.details.items[1].node.path, 'nodepath');\n  });\n\n  it('fails when links have no href attribute', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [{href: '', target: '_blank', rel: ''}],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.ok(auditResult.warnings.length, 'includes warning');\n  });\n\n  it('fails when links have href attribute starting with a protocol', () => {\n    const auditResult = ExternalAnchorsAudit.audit({\n      AnchorElements: [\n        {href: 'http://', target: '_blank', rel: ''},\n        {href: 'http:', target: '_blank', rel: ''},\n        {href: 'https://', target: '_blank', rel: ''},\n        {href: 'https:', target: '_blank', rel: ''},\n      ],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 4);\n    assert.equal(auditResult.warnings.length, 4);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/uses-optimized-images-test.js": {
      "tests": [
        {
          "id": "514",
          "name": "Page uses optimized images ignores files when there is only insignificant savings",
          "location": {
            "start": {
              "column": 4,
              "line": 50
            }
          }
        },
        {
          "id": "515",
          "name": "Page uses optimized images flags files when there is only small savings",
          "location": {
            "start": {
              "column": 4,
              "line": 57
            }
          }
        },
        {
          "id": "489",
          "name": "Page uses optimized images estimates savings on files without jpegSize",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "517",
          "name": "Page uses optimized images estimates savings on cross-origin files",
          "location": {
            "start": {
              "column": 4,
              "line": 87
            }
          }
        },
        {
          "id": "491",
          "name": "Page uses optimized images ignores files when file type is not JPEG/BMP",
          "location": {
            "start": {
              "column": 4,
              "line": 102
            }
          }
        },
        {
          "id": "518",
          "name": "Page uses optimized images passes when all images are sufficiently optimized",
          "location": {
            "start": {
              "column": 4,
              "line": 109
            }
          }
        },
        {
          "id": "519",
          "name": "Page uses optimized images elides data URIs",
          "location": {
            "start": {
              "column": 4,
              "line": 121
            }
          }
        },
        {
          "id": "520",
          "name": "Page uses optimized images warns when images have failed",
          "location": {
            "start": {
              "column": 4,
              "line": 132
            }
          }
        },
        {
          "id": "521",
          "name": "Page uses optimized images warns when missing ImageElement",
          "location": {
            "start": {
              "column": 4,
              "line": 140
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst OptimizedImagesAudit = require('../../../audits/byte-efficiency/uses-optimized-images.js');\n\nfunction generateArtifacts(images) {\n  const optimizedImages = [];\n  const imageElements = [];\n\n  for (const image of images) {\n    let {type = 'jpeg'} = image;\n    const isData = /^data:/.test(type);\n    if (isData) {\n      type = type.slice('data:'.length);\n    }\n\n    const mimeType = image.mimeType || `image/${type}`;\n    const url = isData\n      ? `data:${mimeType};base64,reaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaly ` +\n        'reaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaly long'\n      : `http://google.com/image.${type}`;\n\n    optimizedImages.push({\n      url,\n      mimeType,\n      ...image,\n    });\n\n    imageElements.push({\n      src: url,\n      naturalWidth: image.width,\n      naturalHeight: image.height,\n    });\n  }\n\n  return {\n    URL: {finalUrl: 'http://google.com/'},\n    ImageElements: imageElements,\n    OptimizedImages: optimizedImages,\n  };\n}\n\n/* eslint-env jest */\n\ndescribe('Page uses optimized images', () => {\n  it('ignores files when there is only insignificant savings', () => {\n    const artifacts = generateArtifacts([{originalSize: 5000, jpegSize: 4500}]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([]);\n  });\n\n  it('flags files when there is only small savings', () => {\n    const artifacts = generateArtifacts([{originalSize: 15000, jpegSize: 4500}]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([\n      {\n        fromProtocol: true,\n        isCrossOrigin: false,\n        totalBytes: 15000,\n        wastedBytes: 15000 - 4500,\n        url: 'http://google.com/image.jpeg',\n      },\n    ]);\n  });\n\n  it('estimates savings on files without jpegSize', () => {\n    const artifacts = generateArtifacts([{originalSize: 1e6, width: 1000, height: 1000}]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([\n      {\n        fromProtocol: false,\n        isCrossOrigin: false,\n        totalBytes: 1e6,\n        wastedBytes: 1e6 - 1000 * 1000 * 2 / 8,\n        url: 'http://google.com/image.jpeg',\n      },\n    ]);\n  });\n\n  it('estimates savings on cross-origin files', () => {\n    const artifacts = generateArtifacts([{\n      url: 'http://localhost:1234/image.jpg', originalSize: 50000, jpegSize: 20000,\n    }]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toMatchObject([\n      {\n        fromProtocol: true,\n        isCrossOrigin: true,\n        url: 'http://localhost:1234/image.jpg',\n      },\n    ]);\n  });\n\n  it('ignores files when file type is not JPEG/BMP', () => {\n    const artifacts = generateArtifacts([{type: 'png', originalSize: 150000}]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([]);\n  });\n\n  it('passes when all images are sufficiently optimized', () => {\n    const artifacts = generateArtifacts([\n      {type: 'png', originalSize: 50000},\n      {type: 'jpeg', originalSize: 50000, jpegSize: 50001},\n      {type: 'png', originalSize: 50000},\n    ]);\n\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([]);\n  });\n\n  it('elides data URIs', () => {\n    const artifacts = generateArtifacts([\n      {type: 'data:jpeg', originalSize: 15000, jpegSize: 4500},\n    ]);\n\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(1);\n    expect(auditResult.items[0].url).toMatch(/^data.{2,40}/);\n  });\n\n  it('warns when images have failed', () => {\n    const artifacts = generateArtifacts([{failed: true, url: 'http://localhost/image.jpeg'}]);\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(0);\n    expect(auditResult.warnings).toHaveLength(1);\n  });\n\n  it('warns when missing ImageElement', () => {\n    const artifacts = generateArtifacts([{originalSize: 1e6}]);\n    artifacts.ImageElements = [];\n    const auditResult = OptimizedImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(0);\n    expect(auditResult.warnings).toHaveLength(1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/critical-request-chains-test.js": {
      "tests": [
        {
          "id": "496",
          "name": "Performance: critical-request-chains audit calculates the correct chain result for failing example",
          "location": {
            "start": {
              "column": 4,
              "line": 86
            }
          }
        },
        {
          "id": "497",
          "name": "Performance: critical-request-chains audit calculates the correct chain result for passing example",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "498",
          "name": "Performance: critical-request-chains audit calculates the correct chain result for a real devtools log",
          "location": {
            "start": {
              "column": 4,
              "line": 106
            }
          }
        },
        {
          "id": "499",
          "name": "Performance: critical-request-chains audit calculates the correct chain result for passing example (no 2.)",
          "location": {
            "start": {
              "column": 4,
              "line": 120
            }
          }
        },
        {
          "id": "500",
          "name": "Performance: critical-request-chains audit throws an error for no main resource found for empty example",
          "location": {
            "start": {
              "column": 4,
              "line": 129
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst CriticalRequestChains = require('../../audits/critical-request-chains.js');\nconst redditDevtoolsLog = require('../fixtures/artifacts/perflog/defaultPass.devtoolslog.json');\nconst assert = require('assert').strict;\nconst createTestTrace = require('../create-test-trace.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\nconst FAILING_CHAIN_RECORDS = [\n  {\n    endTime: 5,\n    responseReceivedTime: 5,\n    startTime: 0,\n    url: 'https://example.com/',\n    priority: 'VeryHigh',\n  }, {\n    endTime: 16,\n    responseReceivedTime: 14,\n    startTime: 11,\n    url: 'https://example.com/b.js',\n    priority: 'VeryHigh',\n    initiator: {\n      type: 'parser',\n      url: 'https://example.com/',\n    },\n  }, {\n    endTime: 17,\n    responseReceivedTime: 15,\n    startTime: 12,\n    url: 'https://example.com/c.js',\n    priority: 'VeryHigh',\n    initiator: {\n      type: 'parser',\n      url: 'https://example.com/',\n    },\n  },\n];\n\nconst PASSING_CHAIN_RECORDS = [\n  {\n    endTime: 1,\n    responseReceivedTime: 1,\n    startTime: 0,\n    url: 'https://example.com/',\n    priority: 'VeryHigh',\n  },\n];\n\nconst PASSING_CHAIN_RECORDS_2 = [\n  {\n    url: 'http://localhost:10503/offline-ready.html',\n    startTime: 33552.036878,\n    endTime: 33552.285438,\n    responseReceivedTime: 33552.275677,\n    transferSize: 1849,\n    priority: 'VeryHigh',\n  },\n];\n\nconst EMPTY_CHAIN_RECORDS = [];\n\nconst mockArtifacts = (chainNetworkRecords) => {\n  const trace = createTestTrace({topLevelTasks: [{ts: 0}]});\n  const devtoolsLog = networkRecordsToDevtoolsLog(chainNetworkRecords);\n  const finalUrl = chainNetworkRecords[0] ? chainNetworkRecords[0].url : 'https://example.com';\n\n  return {\n    traces: {\n      [CriticalRequestChains.DEFAULT_PASS]: trace,\n    },\n    devtoolsLogs: {\n      [CriticalRequestChains.DEFAULT_PASS]: devtoolsLog,\n    },\n    URL: {finalUrl},\n  };\n};\n\ndescribe('Performance: critical-request-chains audit', () => {\n  it('calculates the correct chain result for failing example', () => {\n    const artifacts = mockArtifacts(FAILING_CHAIN_RECORDS);\n    const context = {computedCache: new Map()};\n    return CriticalRequestChains.audit(artifacts, context).then(output => {\n      expect(output.displayValue).toBeDisplayString('2 chains found');\n      assert.equal(output.score, 0);\n      assert.ok(output.details);\n    });\n  });\n\n  it('calculates the correct chain result for passing example', () => {\n    const artifacts = mockArtifacts(PASSING_CHAIN_RECORDS);\n    const context = {computedCache: new Map()};\n    return CriticalRequestChains.audit(artifacts, context).then(output => {\n      assert.equal(output.details.longestChain.duration, 1000);\n      assert.equal(output.displayValue, '');\n      assert.equal(output.score, 1);\n    });\n  });\n\n  it('calculates the correct chain result for a real devtools log', () => {\n    const artifacts = {\n      traces: {defaultPass: createTestTrace({topLevelTasks: [{ts: 0}]})},\n      devtoolsLogs: {defaultPass: redditDevtoolsLog},\n      URL: {finalUrl: 'https://www.reddit.com/r/nba'},\n    };\n    const context = {computedCache: new Map()};\n    return CriticalRequestChains.audit(artifacts, context).then(output => {\n      expect(output.details.longestChain.duration).toBeCloseTo(656.491);\n      expect(output.details.longestChain.transferSize).toEqual(2468);\n      expect(output).toHaveProperty('score', 0);\n    });\n  });\n\n  it('calculates the correct chain result for passing example (no 2.)', () => {\n    const artifacts = mockArtifacts(PASSING_CHAIN_RECORDS_2);\n    const context = {computedCache: new Map()};\n    return CriticalRequestChains.audit(artifacts, context).then(output => {\n      assert.equal(output.displayValue, '');\n      assert.equal(output.score, 1);\n    });\n  });\n\n  it('throws an error for no main resource found for empty example', () => {\n    const artifacts = mockArtifacts(EMPTY_CHAIN_RECORDS);\n    const context = {computedCache: new Map()};\n    return CriticalRequestChains.audit(artifacts, context).then(_ => {\n      throw new Error('should have failed');\n    }).catch(err => {\n      assert.ok(err.message.includes('Unable to identify the main resource'));\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/screenshot-thumbnails-test.js": {
      "tests": [
        {
          "id": "501",
          "name": "Screenshot thumbnails should extract thumbnails from a trace",
          "location": {
            "start": {
              "column": 4,
              "line": 19
            }
          }
        },
        {
          "id": "502",
          "name": "Screenshot thumbnails should scale the timeline to TTI when observed",
          "location": {
            "start": {
              "column": 4,
              "line": 45
            }
          }
        },
        {
          "id": "503",
          "name": "Screenshot thumbnails should not scale the timeline to TTI when simulate",
          "location": {
            "start": {
              "column": 4,
              "line": 65
            }
          }
        },
        {
          "id": "504",
          "name": "Screenshot thumbnails should scale the timeline to minimumTimelineDuration",
          "location": {
            "start": {
              "column": 4,
              "line": 79
            }
          }
        },
        {
          "id": "505",
          "name": "Screenshot thumbnails should handle nonsense times",
          "location": {
            "start": {
              "column": 4,
              "line": 92
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst fs = require('fs');\nconst path = require('path');\nconst assert = require('assert').strict;\n\nconst ScreenshotThumbnailsAudit = require('../../audits/screenshot-thumbnails.js');\nconst pwaTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Screenshot thumbnails', () => {\n  it('should extract thumbnails from a trace', () => {\n    const options = {minimumTimelineDuration: 500};\n    const settings = {throttlingMethod: 'provided'};\n    const artifacts = {\n      traces: {defaultPass: pwaTrace},\n      devtoolsLogs: {}, // empty devtools logs to test just thumbnails without TTI behavior\n    };\n\n    const context = {settings, options, computedCache: new Map()};\n    return ScreenshotThumbnailsAudit.audit(artifacts, context).then(results => {\n      results.details.items.forEach((result, index) => {\n        const framePath = path.join(__dirname,\n            `../fixtures/traces/screenshots/progressive-app-frame-${index}.jpg`);\n        const expectedData = fs.readFileSync(framePath, 'base64');\n        const actualData = result.data.slice('data:image/jpeg;base64,'.length);\n        expect(actualData).toEqual(expectedData);\n      });\n\n      assert.equal(results.score, 1);\n      assert.equal(results.details.items[0].timing, 82);\n      assert.equal(results.details.items[2].timing, 245);\n      assert.equal(results.details.items[9].timing, 818);\n      assert.equal(results.details.items[0].timestamp, 225414253815);\n    });\n  }, 10000);\n\n  it('should scale the timeline to TTI when observed', () => {\n    const options = {minimumTimelineDuration: 500};\n    const settings = {throttlingMethod: 'devtools'};\n    const artifacts = {\n      traces: {defaultPass: pwaTrace},\n      devtoolsLogs: {defaultPass: pwaDevtoolsLog},\n    };\n\n    const context = {settings, options, computedCache: new Map()};\n    return ScreenshotThumbnailsAudit.audit(artifacts, context).then(results => {\n      assert.equal(results.details.items[0].timing, 158);\n      assert.equal(results.details.items[9].timing, 1582);\n\n      // last 5 frames should be equal to the last real frame\n      const extrapolatedFrames = new Set(results.details.items.slice(5).map(f => f.data));\n      assert.ok(results.details.items[9].data.length > 100, 'did not have last frame');\n      assert.ok(extrapolatedFrames.size === 1, 'did not extrapolate last frame');\n    });\n  });\n\n  it('should not scale the timeline to TTI when simulate', () => {\n    const options = {minimumTimelineDuration: 500};\n    const settings = {throttlingMethod: 'simulate'};\n    const artifacts = {\n      traces: {defaultPass: pwaTrace},\n    };\n\n    const context = {settings, options, computedCache: new Map()};\n    return ScreenshotThumbnailsAudit.audit(artifacts, context).then(results => {\n      assert.equal(results.details.items[0].timing, 82);\n      assert.equal(results.details.items[9].timing, 818);\n    });\n  });\n\n  it('should scale the timeline to minimumTimelineDuration', () => {\n    const settings = {throttlingMethod: 'simulate'};\n    const artifacts = {\n      traces: {defaultPass: pwaTrace},\n    };\n\n    const context = {settings, options: {}, computedCache: new Map()};\n    return ScreenshotThumbnailsAudit.audit(artifacts, context).then(results => {\n      assert.equal(results.details.items[0].timing, 300);\n      assert.equal(results.details.items[9].timing, 3000);\n    });\n  });\n\n  it('should handle nonsense times', async () => {\n    const infiniteTrace = JSON.parse(JSON.stringify(pwaTrace));\n    infiniteTrace.traceEvents.forEach(event => {\n      if (event.name === 'Screenshot') {\n        event.ts = Infinity;\n      }\n    });\n\n    const settings = {throttlingMethod: 'simulate'};\n    const artifacts = {\n      traces: {defaultPass: infiniteTrace},\n    };\n    const context = {settings, options: {}, computedCache: new Map()};\n\n    try {\n      await ScreenshotThumbnailsAudit.audit(artifacts, context);\n      assert.fail('should have thrown');\n    } catch (err) {\n      assert.equal(err.message, 'INVALID_SPEEDLINE');\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/unminified-javascript-test.js": {
      "tests": [
        {
          "id": "506",
          "name": "Page uses optimized responses fails when given unminified scripts",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "507",
          "name": "Page uses optimized responses fails when given unminified scripts even with missing network record",
          "location": {
            "start": {
              "column": 4,
              "line": 80
            }
          }
        },
        {
          "id": "508",
          "name": "Page uses optimized responses passes when scripts are already minified",
          "location": {
            "start": {
              "column": 4,
              "line": 111
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst KB = 1024;\nconst UnminifiedJavascriptAudit =\n  require('../../../audits/byte-efficiency/unminified-javascript.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nconst resourceType = 'Script';\ndescribe('Page uses optimized responses', () => {\n  it('fails when given unminified scripts', () => {\n    const auditResult = UnminifiedJavascriptAudit.audit_({\n      ScriptElements: [\n        {\n          requestId: '123.1',\n          src: 'foo.js',\n          content: `\n            var foo = new Set();\n            foo.add(1);\n            foo.add(2);\n\n            if (foo.has(2)) {\n              console.log('hello!')\n            }\n        `,\n        },\n        {\n          requestId: '123.2',\n          src: 'other.js',\n          content: `\n            const foo = new Set();\n            foo.add(1);\n\n            async function go() {\n              await foo.has(1)\n              console.log('yay esnext!')\n            }\n        `,\n        },\n        {\n          requestId: '123.3',\n          src: 'valid-ish.js',\n          content: /* eslint-disable no-useless-escape */\n          `\n            const foo = 1\n            /Edge\\/\\d*\\.\\d*/.exec('foo')\n          `,\n        },\n        {\n          requestId: '123.4',\n          src: 'invalid.js',\n          content: '#$*%dense',\n        },\n      ],\n    }, [\n      {requestId: '123.1', url: 'foo.js', transferSize: 20 * KB, resourceType},\n      {requestId: '123.2', url: 'other.js', transferSize: 50 * KB, resourceType},\n      {requestId: '123.3', url: 'valid-ish.js', transferSize: 100 * KB, resourceType},\n      {requestId: '123.4', url: 'invalid.js', transferSize: 100 * KB, resourceType},\n    ]);\n\n    const results = auditResult.items.map(item => Object.assign(item, {\n      wastedKB: Math.round(item.wastedBytes / 1024),\n      wastedPercent: Math.round(item.wastedPercent),\n    }));\n\n    expect(results).toMatchObject([\n      {url: 'foo.js', wastedPercent: 56, wastedKB: 11},\n      {url: 'other.js', wastedPercent: 53, wastedKB: 26},\n      {url: 'valid-ish.js', wastedPercent: 39, wastedKB: 39},\n    ]);\n  });\n\n  it('fails when given unminified scripts even with missing network record', () => {\n    const auditResult = UnminifiedJavascriptAudit.audit_({\n      ScriptElements: [\n        {\n          requestId: '123.1',\n          content: `\n            var foo = new Set();\n            foo.add(1);\n            foo.add(2);\n\n            if (foo.has(2)) {\n              console.log('hello!')\n            }\n            // we can't fake the size to get over the threshold w/o a network record,\n            // so make some really big code instead\n            var a = 0;\n            // ${'a++;'.repeat(2000)}\n        `,\n        },\n      ],\n    }, []);\n\n    assert.strictEqual(auditResult.items.length, 1);\n    const item = auditResult.items[0];\n    if (!item.url.startsWith('inline: ')) {\n      assert.fail('url should start with \"inline: \"');\n    }\n    assert.strictEqual(Math.round(item.wastedBytes / 1024), 3);\n    assert.strictEqual(Math.round(item.wastedPercent), 99);\n  });\n\n  it('passes when scripts are already minified', () => {\n    const auditResult = UnminifiedJavascriptAudit.audit_({\n      ScriptElements: [\n        {\n          requestId: '123.1',\n          src: 'foo.js',\n          content: 'var f=new Set();f.add(1);f.add(2);if(f.has(2))console.log(1234)',\n        },\n        {\n          requestId: '123.2',\n          src: 'other.js',\n          content: `\n          const foo = new Set();\n          foo.add(1);\n\n          async function go() {\n            await foo.has(1)\n            console.log('yay esnext!')\n          }\n        `,\n        },\n        {\n          requestId: '123.3',\n          src: 'invalid.js',\n          content: 'for{(wtf',\n        },\n      ],\n    }, [\n      {requestId: '123.1', url: 'foo.js', transferSize: 20 * KB, resourceType},\n      {requestId: '123.2', url: 'other.js', transferSize: 3 * KB, resourceType}, // too small\n      {requestId: '123.3', url: 'invalid.js', transferSize: 20 * KB, resourceType},\n    ]);\n\n    assert.equal(auditResult.items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/mainthread-work-breakdown-test.js": {
      "tests": [
        {
          "id": "509",
          "name": "Performance: page execution timings audit should compute the correct pageExecutionTiming values for the pwa trace",
          "location": {
            "start": {
              "column": 4,
              "line": 54
            }
          }
        },
        {
          "id": "510",
          "name": "Performance: page execution timings audit should compute the correct values when simulated",
          "location": {
            "start": {
              "column": 4,
              "line": 64
            }
          }
        },
        {
          "id": "511",
          "name": "Performance: page execution timings audit should compute the correct values for the redirect trace",
          "location": {
            "start": {
              "column": 4,
              "line": 83
            }
          }
        },
        {
          "id": "512",
          "name": "Performance: page execution timings audit should compute the correct values for the load trace",
          "location": {
            "start": {
              "column": 4,
              "line": 93
            }
          }
        },
        {
          "id": "513",
          "name": "Performance: page execution timings audit should get no data when no events are present",
          "location": {
            "start": {
              "column": 4,
              "line": 103
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\nconst PageExecutionTimings = require('../../audits/mainthread-work-breakdown.js');\nconst assert = require('assert').strict;\nconst options = PageExecutionTimings.defaultOptions;\n\nconst acceptableTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst siteWithRedirectTrace = require('../fixtures/traces/site-with-redirect.json');\nconst loadTrace = require('../fixtures/traces/load.json');\nconst errorTrace = require('../fixtures/traces/no_fmp_event.json');\n\nconst acceptableTraceExpectations = {\n  parseHTML: 14,\n  styleLayout: 308,\n  paintCompositeRender: 87,\n  scriptEvaluation: 215,\n  scriptParseCompile: 25,\n  garbageCollection: 48,\n  other: 663,\n};\nconst siteWithRedirectTraceExpectations = {\n  parseHTML: 84,\n  styleLayout: 275,\n  paintCompositeRender: 12,\n  scriptEvaluation: 145,\n  scriptParseCompile: 38,\n  garbageCollection: 46,\n  other: 184,\n};\nconst loadTraceExpectations = {\n  parseHTML: 25,\n  styleLayout: 131,\n  paintCompositeRender: 44,\n  scriptEvaluation: 347,\n  garbageCollection: 3,\n  other: 382,\n};\n\ndescribe('Performance: page execution timings audit', () => {\n  function keyOutput(output) {\n    const keyedOutput = {};\n    for (const item of output.details.items) {\n      keyedOutput[item.group] = Math.round(item.duration);\n    }\n    return keyedOutput;\n  }\n\n  it('should compute the correct pageExecutionTiming values for the pwa trace', async () => {\n    const artifacts = {traces: {defaultPass: acceptableTrace}};\n\n    const output = await PageExecutionTimings.audit(artifacts, {options, computedCache: new Map()});\n    assert.deepStrictEqual(keyOutput(output), acceptableTraceExpectations);\n    assert.equal(Math.round(output.numericValue), 1360);\n    assert.equal(output.details.items.length, 7);\n    assert.equal(output.score, 0.98);\n  });\n\n  it('should compute the correct values when simulated', async () => {\n    const artifacts = {traces: {defaultPass: acceptableTrace}};\n\n    const settings = {throttlingMethod: 'simulate', throttling: {cpuSlowdownMultiplier: 3}};\n    const context = {options, settings, computedCache: new Map()};\n    const output = await PageExecutionTimings.audit(artifacts, context);\n\n    const keyedOutput = keyOutput(output);\n    for (const key of Object.keys(acceptableTraceExpectations)) {\n      const actual = keyedOutput[key];\n      const expected = acceptableTraceExpectations[key] * 3;\n      assert.ok(Math.abs(actual - expected) <= 2, `expected ${expected} got ${actual}`);\n    }\n\n    assert.equal(Math.round(output.numericValue), 4081);\n    assert.equal(output.details.items.length, 7);\n    assert.equal(output.score, 0.49);\n  });\n\n  it('should compute the correct values for the redirect trace', async () => {\n    const artifacts = {traces: {defaultPass: siteWithRedirectTrace}};\n\n    const output = await PageExecutionTimings.audit(artifacts, {options, computedCache: new Map()});\n    assert.deepStrictEqual(keyOutput(output), siteWithRedirectTraceExpectations);\n    assert.equal(Math.round(output.numericValue), 784);\n    assert.equal(output.details.items.length, 7);\n    assert.equal(output.score, 1);\n  });\n\n  it('should compute the correct values for the load trace', async () => {\n    const artifacts = {traces: {defaultPass: {traceEvents: loadTrace}}};\n\n    const output = await PageExecutionTimings.audit(artifacts, {options, computedCache: new Map()});\n    assert.deepStrictEqual(keyOutput(output), loadTraceExpectations);\n    assert.equal(Math.round(output.numericValue), 933);\n    assert.equal(output.details.items.length, 6);\n    assert.equal(output.score, 1);\n  });\n\n  it('should get no data when no events are present', () => {\n    const artifacts = {traces: {defaultPass: errorTrace}};\n\n    const context = {options, computedCache: new Map()};\n    return PageExecutionTimings.audit(artifacts, context).then(output => {\n      assert.equal(output.details.items.length, 0);\n      assert.equal(output.score, 1);\n      assert.equal(Math.round(output.numericValue), 0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/uses-webp-images-test.js": {
      "tests": [
        {
          "id": "514",
          "name": "Page uses optimized images ignores files when there is only insignificant savings",
          "location": {
            "start": {
              "column": 4,
              "line": 50
            }
          }
        },
        {
          "id": "515",
          "name": "Page uses optimized images flags files when there is only small savings",
          "location": {
            "start": {
              "column": 4,
              "line": 57
            }
          }
        },
        {
          "id": "516",
          "name": "Page uses optimized images estimates savings on files without webpSize",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "517",
          "name": "Page uses optimized images estimates savings on cross-origin files",
          "location": {
            "start": {
              "column": 4,
              "line": 87
            }
          }
        },
        {
          "id": "518",
          "name": "Page uses optimized images passes when all images are sufficiently optimized",
          "location": {
            "start": {
              "column": 4,
              "line": 102
            }
          }
        },
        {
          "id": "519",
          "name": "Page uses optimized images elides data URIs",
          "location": {
            "start": {
              "column": 4,
              "line": 114
            }
          }
        },
        {
          "id": "520",
          "name": "Page uses optimized images warns when images have failed",
          "location": {
            "start": {
              "column": 4,
              "line": 125
            }
          }
        },
        {
          "id": "521",
          "name": "Page uses optimized images warns when missing ImageElement",
          "location": {
            "start": {
              "column": 4,
              "line": 133
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst WebPImagesAudit = require('../../../audits/byte-efficiency/uses-webp-images.js');\n\nfunction generateArtifacts(images) {\n  const optimizedImages = [];\n  const imageElements = [];\n\n  for (const image of images) {\n    let {type = 'jpeg'} = image;\n    const isData = /^data:/.test(type);\n    if (isData) {\n      type = type.slice('data:'.length);\n    }\n\n    const mimeType = image.mimeType || `image/${type}`;\n    const url = isData\n      ? `data:${mimeType};base64,reaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaly ` +\n        'reaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaly long'\n      : `http://google.com/image.${type}`;\n\n    optimizedImages.push({\n      url,\n      mimeType,\n      ...image,\n    });\n\n    imageElements.push({\n      src: url,\n      naturalWidth: image.width,\n      naturalHeight: image.height,\n    });\n  }\n\n  return {\n    URL: {finalUrl: 'http://google.com/'},\n    ImageElements: imageElements,\n    OptimizedImages: optimizedImages,\n  };\n}\n\n/* eslint-env jest */\n\ndescribe('Page uses optimized images', () => {\n  it('ignores files when there is only insignificant savings', () => {\n    const artifacts = generateArtifacts([{originalSize: 5000, webpSize: 4500}]);\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([]);\n  });\n\n  it('flags files when there is only small savings', () => {\n    const artifacts = generateArtifacts([{originalSize: 15000, webpSize: 4500}]);\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([\n      {\n        fromProtocol: true,\n        isCrossOrigin: false,\n        totalBytes: 15000,\n        wastedBytes: 15000 - 4500,\n        url: 'http://google.com/image.jpeg',\n      },\n    ]);\n  });\n\n  it('estimates savings on files without webpSize', () => {\n    const artifacts = generateArtifacts([{originalSize: 1e6, width: 1000, height: 1000}]);\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([\n      {\n        fromProtocol: false,\n        isCrossOrigin: false,\n        totalBytes: 1e6,\n        wastedBytes: 1e6 - 1000 * 1000 * 2 / 10,\n        url: 'http://google.com/image.jpeg',\n      },\n    ]);\n  });\n\n  it('estimates savings on cross-origin files', () => {\n    const artifacts = generateArtifacts([{\n      url: 'http://localhost:1234/image.jpeg', originalSize: 50000, webpSize: 20000,\n    }]);\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toMatchObject([\n      {\n        fromProtocol: true,\n        isCrossOrigin: true,\n        url: 'http://localhost:1234/image.jpeg',\n      },\n    ]);\n  });\n\n  it('passes when all images are sufficiently optimized', () => {\n    const artifacts = generateArtifacts([\n      {type: 'png', originalSize: 50000, webpSize: 50001},\n      {type: 'jpeg', originalSize: 50000, webpSize: 50001},\n      {type: 'bmp', originalSize: 4000, webpSize: 2000},\n    ]);\n\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toEqual([]);\n  });\n\n  it('elides data URIs', () => {\n    const artifacts = generateArtifacts([\n      {type: 'data:webp', originalSize: 15000, webpSize: 4500},\n    ]);\n\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(1);\n    expect(auditResult.items[0].url).toMatch(/^data.{2,40}/);\n  });\n\n  it('warns when images have failed', () => {\n    const artifacts = generateArtifacts([{failed: true, url: 'http://localhost/image.jpeg'}]);\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(0);\n    expect(auditResult.warnings).toHaveLength(1);\n  });\n\n  it('warns when missing ImageElement', () => {\n    const artifacts = generateArtifacts([{originalSize: 1e6}]);\n    artifacts.ImageElements = [];\n    const auditResult = WebPImagesAudit.audit_(artifacts);\n\n    expect(auditResult.items).toHaveLength(0);\n    expect(auditResult.warnings).toHaveLength(1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/link-text-test.js": {
      "tests": [
        {
          "id": "522",
          "name": "SEO: link text audit fails when link with non descriptive text is found",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "523",
          "name": "SEO: link text audit ignores links pointing to the main document",
          "location": {
            "start": {
              "column": 4,
              "line": 34
            }
          }
        },
        {
          "id": "524",
          "name": "SEO: link text audit ignores javascript: links",
          "location": {
            "start": {
              "column": 4,
              "line": 51
            }
          }
        },
        {
          "id": "525",
          "name": "SEO: link text audit ignores mailto: links",
          "location": {
            "start": {
              "column": 4,
              "line": 67
            }
          }
        },
        {
          "id": "526",
          "name": "SEO: link text audit ignores links with no href",
          "location": {
            "start": {
              "column": 4,
              "line": 82
            }
          }
        },
        {
          "id": "527",
          "name": "SEO: link text audit ignores links with nofollow",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "528",
          "name": "SEO: link text audit passes when all links have descriptive texts",
          "location": {
            "start": {
              "column": 4,
              "line": 110
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LinkTextAudit = require('../../../audits/seo/link-text.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('SEO: link text audit', () => {\n  it('fails when link with non descriptive text is found', () => {\n    const invalidLink = {href: 'https://example.com/otherpage.html', text: 'click here', rel: ''};\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: 'https://example.com/otherpage.html', text: 'legit link text', rel: ''},\n        invalidLink,\n        {href: 'https://example.com/otherpage.html', text: 'legit link text', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 1);\n    assert.equal(auditResult.details.items[0].href, invalidLink.href);\n    assert.equal(auditResult.details.items[0].text, invalidLink.text);\n  });\n\n  it('ignores links pointing to the main document', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: 'https://example.com/otherpage.html', text: 'legit link text', rel: ''},\n        {href: 'https://example.com/page.html', text: 'click here', rel: ''},\n        {href: 'https://example.com/page.html#test', text: 'click here', rel: ''},\n        {href: 'https://example.com/otherpage.html', text: 'legit link text', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('ignores javascript: links', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: 'javascript:alert(1)', text: 'click here', rel: ''},\n        {href: 'JavaScript:window.location=\"/otherpage.html\"', text: 'click here', rel: ''},\n        {href: 'JAVASCRIPT:void(0)', text: 'click here', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('ignores mailto: links', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: 'mailto:info@example.com', text: 'click here', rel: ''},\n        {href: 'mailto:mailmaster@localhost', text: 'click here', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('ignores links with no href', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: '', text: 'click here', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('ignores links with nofollow', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: '', text: 'click here', rel: 'noopener nofollow'},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('passes when all links have descriptive texts', () => {\n    const artifacts = {\n      URL: {\n        finalUrl: 'https://example.com/page.html',\n      },\n      AnchorElements: [\n        {href: 'https://example.com/otherpage.html', text: 'legit link text', rel: ''},\n        {href: 'http://example.com/page.html?test=test', text: 'legit link text', rel: ''},\n        {href: 'file://Users/user/Desktop/file.png', text: 'legit link text', rel: ''},\n      ],\n    };\n\n    const auditResult = LinkTextAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/image-aspect-ratio-test.js": {
      "tests": [
        {
          "id": "529",
          "name": "Images: aspect-ratio audit identifies when an image is a css image",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "530",
          "name": "Images: aspect-ratio audit identifies when an image is much larger than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "531",
          "name": "Images: aspect-ratio audit identifies when an image is a css image and much larger than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "532",
          "name": "Images: aspect-ratio audit identifies when an image is larger than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "533",
          "name": "Images: aspect-ratio audit identifies when an image uses object-fit and is much smaller than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "534",
          "name": "Images: aspect-ratio audit identifies when an image is much smaller than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "535",
          "name": "Images: aspect-ratio audit identifies when an image is smaller than natural aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "536",
          "name": "Images: aspect-ratio audit identifies when an image is almost the right aspect ratio",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "537",
          "name": "Images: aspect-ratio audit identifies when an image aspect ratios match",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "538",
          "name": "Images: aspect-ratio audit identifies when an image has no display sizing information",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "539",
          "name": "Images: aspect-ratio audit identifies when an image is placeholder image",
          "location": {
            "start": {
              "column": 6,
              "line": 22
            }
          }
        },
        {
          "id": "540",
          "name": "Images: aspect-ratio audit skips svg images",
          "location": {
            "start": {
              "column": 4,
              "line": 151
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ImageAspectRatioAudit = require('../../audits/image-aspect-ratio.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nfunction generateImage(clientSize, naturalSize, props, src = 'https://google.com/logo.png') {\n  const image = {src, mimeType: 'image/png'};\n  Object.assign(image, clientSize, naturalSize, props);\n  return image;\n}\n\ndescribe('Images: aspect-ratio audit', () => {\n  function testImage(condition, data) {\n    const description = `identifies when an image ${condition}`;\n    it(description, () => {\n      const result = ImageAspectRatioAudit.audit({\n        ImageElements: [\n          generateImage(\n            {displayedWidth: data.clientSize[0], displayedHeight: data.clientSize[1]},\n            {naturalWidth: data.naturalSize[0], naturalHeight: data.naturalSize[1]},\n            data.props\n          ),\n        ],\n      });\n\n      assert.strictEqual(result.score, data.score, 'score does not match');\n      if (data.warning) {\n        assert.strictEqual(result.warnings[0], data.warning);\n      } else {\n        assert.ok(!result.warnings || result.warnings.length === 0, 'should not have warnings');\n      }\n    });\n  }\n\n  testImage('is a css image', {\n    score: 1,\n    clientSize: [1000, 20],\n    naturalSize: [5, 5],\n    props: {\n      isCss: true,\n    },\n  });\n\n  testImage('is much larger than natural aspect ratio', {\n    score: 0,\n    clientSize: [800, 500],\n    naturalSize: [200, 200],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('is a css image and much larger than natural aspect ratio', {\n    score: 1,\n    clientSize: [],\n    naturalSize: [200, 200],\n    props: {\n      isCss: true,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('is larger than natural aspect ratio', {\n    score: 0,\n    clientSize: [400, 300],\n    naturalSize: [200, 200],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('uses object-fit and is much smaller than natural aspect ratio', {\n    score: 1,\n    clientSize: [200, 200],\n    naturalSize: [800, 500],\n    props: {\n      isCss: false,\n      usesObjectFit: true,\n    },\n  });\n\n  testImage('is much smaller than natural aspect ratio', {\n    score: 0,\n    clientSize: [200, 200],\n    naturalSize: [800, 500],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('is smaller than natural aspect ratio', {\n    score: 0,\n    clientSize: [200, 200],\n    naturalSize: [400, 300],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('is almost the right aspect ratio', {\n    score: 1,\n    clientSize: [412, 36],\n    naturalSize: [800, 69],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('aspect ratios match', {\n    score: 1,\n    clientSize: [100, 100],\n    naturalSize: [300, 300],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('has no display sizing information', {\n    score: 1,\n    clientSize: [0, 0],\n    naturalSize: [100, 100],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  testImage('is placeholder image', {\n    score: 1,\n    clientSize: [300, 220],\n    naturalSize: [1, 1],\n    props: {\n      isCss: false,\n      usesObjectFit: false,\n    },\n  });\n\n  it('skips svg images', () => {\n    const result = ImageAspectRatioAudit.audit({\n      ImageElements: [\n        generateImage(\n          {width: 150, height: 150},\n          {},\n          {\n            mimeType: 'image/svg+xml',\n            isCss: false,\n            usesObjectFit: false,\n          }\n        ),\n      ],\n    });\n\n    assert.strictEqual(result.score, 1, 'score does not match');\n    assert.equal(result.warnings.length, 0, 'should not have warnings');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/largest-contentful-paint-test.js": {
      "tests": [
        {
          "id": "541",
          "name": "Performance: largest-contentful-paint audit adjusts scoring based on form factor",
          "location": {
            "start": {
              "column": 4,
              "line": 33
            }
          }
        },
        {
          "id": "542",
          "name": "Performance: largest-contentful-paint audit throws error when old Chrome does not support LCP",
          "location": {
            "start": {
              "column": 4,
              "line": 65
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LCPAudit = require('../../../audits/metrics/largest-contentful-paint.js');\nconst defaultOptions = LCPAudit.defaultOptions;\n\nconst trace = require('../../fixtures/traces/lcp-m78.json');\nconst devtoolsLog = require('../../fixtures/traces/lcp-m78.devtools.log.json');\n\nconst preLcpTrace = require('../../fixtures/traces/progressive-app-m60.json');\nconst preLcpDevtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\nfunction generateArtifacts({trace, devtoolsLog, TestedAsMobileDevice, HostUserAgent}) {\n  return {\n    traces: {[LCPAudit.DEFAULT_PASS]: trace},\n    devtoolsLogs: {[LCPAudit.DEFAULT_PASS]: devtoolsLog},\n    TestedAsMobileDevice,\n    HostUserAgent,\n  };\n}\n\nfunction generateContext({throttlingMethod}) {\n  const settings = {throttlingMethod};\n  return {options: defaultOptions, settings, computedCache: new Map()};\n}\n/* eslint-env jest */\n\ndescribe('Performance: largest-contentful-paint audit', () => {\n  it('adjusts scoring based on form factor', async () => {\n    const artifactsMobile = generateArtifacts({\n      trace,\n      devtoolsLog,\n      TestedAsMobileDevice: true,\n      HostUserAgent: 'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5 Build/MRA58N) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 ' +\n        'Mobile Safari/537.36 Chrome-Lighthouse',\n    });\n    const contextMobile = generateContext({throttlingMethod: 'provided'});\n\n    const outputMobile = await LCPAudit.audit(artifactsMobile, contextMobile);\n    expect(outputMobile.numericValue).toBeCloseTo(1121.711, 1);\n    expect(outputMobile.score).toBe(1);\n    expect(outputMobile.displayValue).toBeDisplayString('1.1\\xa0s');\n\n    const artifactsDesktop = generateArtifacts({\n      trace,\n      devtoolsLog,\n      TestedAsMobileDevice: false,\n      HostUserAgent: 'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5 Build/MRA58N) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/78.0.3904.70 ' +\n        'Mobile Safari/537.36 Chrome-Lighthouse',\n    });\n    const contextDesktop = generateContext({throttlingMethod: 'provided'});\n\n    const outputDesktop = await LCPAudit.audit(artifactsDesktop, contextDesktop);\n    expect(outputDesktop.numericValue).toBeCloseTo(1121.711, 1);\n    expect(outputDesktop.score).toBe(0.92);\n    expect(outputDesktop.displayValue).toBeDisplayString('1.1\\xa0s');\n  });\n\n  it('throws error when old Chrome does not support LCP', async () => {\n    const artifactsOldChrome = generateArtifacts({\n      trace: preLcpTrace,\n      devtoolsLog: preLcpDevtoolsLog,\n      TestedAsMobileDevice: true,\n      HostUserAgent: 'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5 Build/MRA58N) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/60.0.3112.78 ' +\n        'Mobile Safari/537.36 Chrome-Lighthouse',\n    });\n    const contextOldChrome = generateContext({throttlingMethod: 'provided'});\n\n    await expect(LCPAudit.audit(artifactsOldChrome, contextOldChrome))\n      .rejects.toThrow(/UNSUPPORTED_OLD_CHROME/);\n\n    const artifactsNewChrome = generateArtifacts({\n      trace: preLcpTrace,\n      devtoolsLog: preLcpDevtoolsLog,\n      TestedAsMobileDevice: true,\n      HostUserAgent: 'Mozilla/5.0 (Linux; Android 6.0.1; Nexus 5 Build/MRA58N) ' +\n        'AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.116 ' +\n        'Mobile Safari/537.36 Chrome-Lighthouse',\n    });\n    const contextNewChrome = generateContext({throttlingMethod: 'provided'});\n\n    await expect(LCPAudit.audit(artifactsNewChrome, contextNewChrome)).rejects.toThrow(/NO_LCP/);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics-test.js": {
      "tests": [
        {
          "id": "543",
          "name": "Performance: metrics evaluates valid input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        },
        {
          "id": "544",
          "name": "Performance: metrics evaluates valid input correctly (throttlingMethod=provided)",
          "location": {
            "start": {
              "column": 4,
              "line": 38
            }
          }
        },
        {
          "id": "545",
          "name": "Performance: metrics evaluates valid input (with lcp) correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 53
            }
          }
        },
        {
          "id": "546",
          "name": "Performance: metrics evaluates valid input (with CLS) correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 68
            }
          }
        },
        {
          "id": "547",
          "name": "Performance: metrics does not fail the entire audit when TTI errors",
          "location": {
            "start": {
              "column": 4,
              "line": 84
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst MetricsAudit = require('../../audits/metrics.js');\nconst TTIComputed = require('../../computed/metrics/interactive.js');\n\nconst pwaTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\nconst lcpTrace = require('../fixtures/traces/lcp-m78.json');\nconst lcpDevtoolsLog = require('../fixtures/traces/lcp-m78.devtools.log.json');\n\nconst artifactsTrace = require('../results/artifacts/defaultPass.trace.json');\nconst artifactsDevtoolsLog = require('../results/artifacts/defaultPass.devtoolslog.json');\n\n/* eslint-env jest */\n\ndescribe('Performance: metrics', () => {\n  it('evaluates valid input correctly', async () => {\n    const artifacts = {\n      traces: {\n        [MetricsAudit.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [MetricsAudit.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const result = await MetricsAudit.audit(artifacts, context);\n    expect(result.details.items[0]).toMatchSnapshot();\n  });\n\n  it('evaluates valid input correctly (throttlingMethod=provided)', async () => {\n    const artifacts = {\n      traces: {\n        [MetricsAudit.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [MetricsAudit.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const context = {settings: {throttlingMethod: 'provided'}, computedCache: new Map()};\n    const result = await MetricsAudit.audit(artifacts, context);\n    expect(result.details.items[0]).toMatchSnapshot();\n  });\n\n  it('evaluates valid input (with lcp) correctly', async () => {\n    const artifacts = {\n      traces: {\n        [MetricsAudit.DEFAULT_PASS]: lcpTrace,\n      },\n      devtoolsLogs: {\n        [MetricsAudit.DEFAULT_PASS]: lcpDevtoolsLog,\n      },\n    };\n\n    const context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const result = await MetricsAudit.audit(artifacts, context);\n    expect(result.details.items[0]).toMatchSnapshot();\n  });\n\n  it('evaluates valid input (with CLS) correctly', async () => {\n    const artifacts = {\n      traces: {\n        [MetricsAudit.DEFAULT_PASS]: artifactsTrace,\n      },\n      devtoolsLogs: {\n        [MetricsAudit.DEFAULT_PASS]: artifactsDevtoolsLog,\n      },\n    };\n\n    const context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const {details} = await MetricsAudit.audit(artifacts, context);\n    expect(details.items[0].cumulativeLayoutShift).toMatchInlineSnapshot(`0.42`);\n    expect(details.items[0].observedCumulativeLayoutShift).toMatchInlineSnapshot(`0.42`);\n  });\n\n  it('does not fail the entire audit when TTI errors', async () => {\n    const artifacts = {\n      traces: {\n        [MetricsAudit.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [MetricsAudit.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const mockTTIFn = jest.spyOn(TTIComputed, 'request');\n    mockTTIFn.mockRejectedValueOnce(new Error('TTI failed'));\n    const context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const result = await MetricsAudit.audit(artifacts, context);\n    expect(result.details.items[0].interactive).toEqual(undefined);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/plugins-test.js": {
      "tests": [
        {
          "id": "548",
          "name": "SEO: Avoids plugins fails when page contains java, silverlight or flash content",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "549",
          "name": "SEO: Avoids plugins returns multiple results when there are multiple failing items",
          "location": {
            "start": {
              "column": 4,
              "line": 71
            }
          }
        },
        {
          "id": "550",
          "name": "SEO: Avoids plugins succeeds when there is no external content found on page",
          "location": {
            "start": {
              "column": 4,
              "line": 96
            }
          }
        },
        {
          "id": "551",
          "name": "SEO: Avoids plugins succeeds when all external content is valid",
          "location": {
            "start": {
              "column": 4,
              "line": 105
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst PluginsAudit = require('../../../audits/seo/plugins.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('SEO: Avoids plugins', () => {\n  it('fails when page contains java, silverlight or flash content', () => {\n    const embeddedContentValues = [\n      [{\n        tagName: 'APPLET',\n        params: [],\n      }],\n      [{\n        tagName: 'OBJECT',\n        type: 'application/x-shockwave-flash',\n        params: [],\n      }],\n      [{\n        tagName: 'EMBED',\n        type: 'application/x-java-applet;jpi-version=1.4',\n        params: [],\n      }],\n      [{\n        tagName: 'OBJECT',\n        type: 'application/x-silverlight-2',\n        params: [],\n      }],\n      [{\n        tagName: 'OBJECT',\n        data: 'https://example.com/movie_name.swf?uid=123',\n        params: [],\n      }],\n      [{\n        tagName: 'EMBED',\n        src: '/path/to/movie_name.latest.swf',\n        params: [],\n      }],\n      [{\n        tagName: 'OBJECT',\n        params: [\n          {name: 'quality', value: 'low'},\n          {name: 'movie', value: 'movie.swf?id=123'},\n        ],\n      }],\n      [{\n        tagName: 'OBJECT',\n        params: [\n          {name: 'code', value: '../HelloWorld.class'},\n        ],\n      }],\n    ];\n\n    embeddedContentValues.forEach(embeddedContent => {\n      const artifacts = {\n        EmbeddedContent: embeddedContent,\n      };\n\n      const auditResult = PluginsAudit.audit(artifacts);\n      assert.equal(auditResult.score, 0);\n      assert.equal(auditResult.details.items.length, 1);\n    });\n  });\n\n  it('returns multiple results when there are multiple failing items', () => {\n    const artifacts = {\n      EmbeddedContent: [\n        {\n          tagName: 'EMBED',\n          type: 'application/x-java-applet;jpi-version=1.4',\n          params: [],\n        },\n        {\n          tagName: 'OBJECT',\n          type: 'application/x-silverlight-2',\n          params: [],\n        },\n        {\n          tagName: 'APPLET',\n          params: [],\n        },\n      ],\n    };\n\n    const auditResult = PluginsAudit.audit(artifacts);\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 3);\n  });\n\n  it('succeeds when there is no external content found on page', () => {\n    const artifacts = {\n      EmbeddedContent: [],\n    };\n\n    const auditResult = PluginsAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n\n  it('succeeds when all external content is valid', () => {\n    const artifacts = {\n      EmbeddedContent: [\n        {\n          tagName: 'OBJECT',\n          type: 'image/svg+xml',\n          data: 'https://example.com/test.svg',\n          params: [],\n        },\n        {\n          tagName: 'OBJECT',\n          data: 'https://example.com',\n          params: [],\n        },\n        {\n          tagName: 'EMBED',\n          type: 'video/quicktime',\n          src: 'movie.mov',\n          params: [],\n        },\n        {\n          tagName: 'OBJECT',\n          params: [{\n            name: 'allowFullScreen',\n            value: 'true',\n          }, {\n            name: 'movie',\n            value: 'http://www.youtube.com/v/example',\n          }],\n        },\n      ],\n    };\n\n    const auditResult = PluginsAudit.audit(artifacts);\n    assert.equal(auditResult.score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/uses-http2-test.js": {
      "tests": [
        {
          "id": "552",
          "name": "Resources are fetched over http/2 should pass when resources are requested via http/2",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        },
        {
          "id": "553",
          "name": "Resources are fetched over http/2 should fail when resources are requested via http/1.x",
          "location": {
            "start": {
              "column": 4,
              "line": 35
            }
          }
        },
        {
          "id": "554",
          "name": "Resources are fetched over http/2 should ignore service worker requests",
          "location": {
            "start": {
              "column": 4,
              "line": 53
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UsesHTTP2Audit = require('../../../audits/dobetterweb/uses-http2.js');\nconst trace = require('../../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\nconst NetworkRecords = require('../../../computed/network-records.js');\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('Resources are fetched over http/2', () => {\n  let artifacts = {};\n  let context = {};\n\n  beforeEach(() => {\n    context = {settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n\n    artifacts = {\n      traces: {defaultPass: trace},\n      devtoolsLogs: {defaultPass: devtoolsLog},\n    };\n  });\n\n  it('should pass when resources are requested via http/2', async () => {\n    const results = await UsesHTTP2Audit.audit(artifacts, context);\n    expect(results).toHaveProperty('score', 1);\n    expect(results.details.items).toHaveLength(0);\n  });\n\n  it('should fail when resources are requested via http/1.x', async () => {\n    const records = await NetworkRecords.compute_(artifacts.devtoolsLogs.defaultPass);\n    records.forEach(record => (record.protocol = 'HTTP/1.1'));\n    artifacts.devtoolsLogs.defaultPass = networkRecordsToDevtoolsLog(records);\n    const result = await UsesHTTP2Audit.audit(artifacts, context);\n    const hosts = new Set(result.details.items.map(item => new URL(item.url).host));\n\n    // make sure we don't pull in domains with only a few requests (GTM, GA)\n    expect(hosts).toEqual(new Set(['pwa.rocks']));\n    // make sure we flag all the rest\n    expect(result.details.items).toHaveLength(60);\n    // make sure we report savings\n    expect(result.numericValue).toMatchInlineSnapshot(`1030`);\n    expect(result.details.overallSavingsMs).toMatchInlineSnapshot(`1030`);\n    // make sure we have a failing score\n    expect(result.score).toBeLessThan(0.5);\n  });\n\n  it('should ignore service worker requests', async () => {\n    const records = await NetworkRecords.compute_(artifacts.devtoolsLogs.defaultPass);\n    records.forEach(record => (record.protocol = 'HTTP/1.1'));\n    records.slice(30).forEach(record => {\n      // Force the records we're making service worker to another origin.\n      // Because it doesn't make sense to have half H2 half not to the same origin.\n      const url = record.url;\n      if (url.includes('pwa.rocks')) record.url = url.replace('pwa.rocks', 'pwa2.rocks');\n      record.fetchedViaServiceWorker = true;\n      delete record.parsedURL;\n    });\n\n    artifacts.devtoolsLogs.defaultPass = networkRecordsToDevtoolsLog(records);\n    const result = await UsesHTTP2Audit.audit(artifacts, context);\n    const urls = new Set(result.details.items.map(item => item.url));\n\n    // make sure we flag only the non-sw ones\n    expect(urls).not.toContain(records[30].url);\n    expect(result.details.items).toHaveLength(30);\n    // make sure we report less savings\n    expect(result.numericValue).toMatchInlineSnapshot(`250`);\n    expect(result.details.overallSavingsMs).toMatchInlineSnapshot(`250`);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/apple-touch-icon-test.js": {
      "tests": [
        {
          "id": "555",
          "name": "PWA: apple-touch-icon audit fails when apple-touch-icon is not present",
          "location": {
            "start": {
              "column": 4,
              "line": 13
            }
          }
        },
        {
          "id": "556",
          "name": "PWA: apple-touch-icon audit fails when apple-touch-icon does not have an href",
          "location": {
            "start": {
              "column": 4,
              "line": 26
            }
          }
        },
        {
          "id": "557",
          "name": "PWA: apple-touch-icon audit passes but warns when apple-touch-icon-precomposed only",
          "location": {
            "start": {
              "column": 4,
              "line": 36
            }
          }
        },
        {
          "id": "558",
          "name": "PWA: apple-touch-icon audit passes with no warning when precomposed with normal",
          "location": {
            "start": {
              "column": 4,
              "line": 48
            }
          }
        },
        {
          "id": "559",
          "name": "PWA: apple-touch-icon audit passes when apple-touch-icon is on page",
          "location": {
            "start": {
              "column": 4,
              "line": 62
            }
          }
        },
        {
          "id": "560",
          "name": "PWA: apple-touch-icon audit passes with multiple apple-touch-icons on page",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        },
        {
          "id": "561",
          "name": "PWA: apple-touch-icon audit passes when lots of LinkElements",
          "location": {
            "start": {
              "column": 4,
              "line": 85
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst AppleTouchIcon = require('../../audits/apple-touch-icon.js');\n\n/* eslint-env jest */\n\ndescribe('PWA: apple-touch-icon audit', () => {\n  it(`fails when apple-touch-icon is not present`, () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'iOS-touch-thing', href: 'https://example.com/else.png'},\n        {rel: 'something else', href: 'https://example.com/else.png'},\n      ],\n    };\n\n    const {score} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(0);\n  });\n\n  it(`fails when apple-touch-icon does not have an href`, () => {\n    const artifacts = {\n      LinkElements: [{rel: 'apple-touch-icon'}],\n    };\n\n    const {score} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(0);\n  });\n\n  it(`passes but warns when apple-touch-icon-precomposed only`, () => {\n    const artifacts = {\n      LinkElements: [{rel: 'apple-touch-icon-precomposed', href: 'https://example.com/touch-icon.png'}],\n    };\n\n    const {score, warnings} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(1);\n    expect(warnings[0]).toBeDisplayString('`apple-touch-icon-precomposed` is ' +\n      'out of date; `apple-touch-icon` is preferred.');\n  });\n\n  it(`passes with no warning when precomposed with normal`, () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'apple-touch-icon', href: 'https://example.com/touch-icon.png'},\n        {rel: 'apple-touch-icon-precomposed', href: 'https://example.com/touch-icon.png'},\n      ],\n    };\n\n    const {score, warnings} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(1);\n    expect(warnings).toEqual([]);\n  });\n\n  it(`passes when apple-touch-icon is on page`, () => {\n    const artifacts = {\n      LinkElements: [{rel: 'apple-touch-icon', href: 'https://example.com/touch-icon.png'}],\n    };\n\n    const {score} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(1);\n  });\n\n  it(`passes with multiple apple-touch-icons on page`, () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'apple-touch-icon', sizes: '152x152', href: 'https://example.com/touch-icon.png'},\n        {rel: 'apple-touch-icon', sizes: '180x180', href: 'https://example.com/touch-icon.png'},\n      ],\n    };\n\n    const {score} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(1);\n  });\n\n  it(`passes when lots of LinkElements`, () => {\n    const artifacts = {\n      LinkElements: [\n        {rel: 'iOS-touch-thing', href: 'https://example.com/else.png'},\n        {rel: 'apple-touch-icon', href: 'https://example.com/touch-icon.png'},\n        {rel: 'something else', href: 'https://example.com/else.png'},\n      ],\n    };\n\n    const {score} = AppleTouchIcon.audit(artifacts);\n\n    expect(score).toBe(1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/total-byte-weight-test.js": {
      "tests": [
        {
          "id": "562",
          "name": "Total byte weight audit passes when requests are small",
          "location": {
            "start": {
              "column": 4,
              "line": 42
            }
          }
        },
        {
          "id": "563",
          "name": "Total byte weight audit scores in the middle when a mixture of small and large requests are used",
          "location": {
            "start": {
              "column": 4,
              "line": 58
            }
          }
        },
        {
          "id": "564",
          "name": "Total byte weight audit fails when requests are huge",
          "location": {
            "start": {
              "column": 4,
              "line": 81
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst TotalByteWeight = require('../../../audits/byte-efficiency/total-byte-weight.js');\nconst assert = require('assert').strict;\nconst URL = require('url').URL;\nconst options = TotalByteWeight.defaultOptions;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\nfunction generateRequest(url, size, baseUrl = 'http://google.com/') {\n  const parsedUrl = new URL(url, baseUrl);\n  const scheme = parsedUrl.protocol.slice(0, -1);\n  return {\n    url: parsedUrl.href,\n    finished: true,\n    transferSize: size * 1024,\n    responseReceivedTime: 1000,\n    endTime: 2000,\n    parsedURL: {\n      scheme,\n    },\n  };\n}\n\nfunction generateArtifacts(records) {\n  if (records[0] && records[0].length > 1) {\n    records = records.map(args => generateRequest(...args));\n  }\n\n  return {\n    devtoolsLogs: {defaultPass: networkRecordsToDevtoolsLog(records)},\n  };\n}\n\ndescribe('Total byte weight audit', () => {\n  it('passes when requests are small', () => {\n    const artifacts = generateArtifacts([\n      ['file.html', 30],\n      ['file.js', 50],\n      ['file.jpg', 70],\n    ]);\n\n    return TotalByteWeight.audit(artifacts, {options, computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.numericValue, 150 * 1024);\n      assert.strictEqual(result.score, 1);\n      const results = result.details.items;\n      assert.strictEqual(results.length, 3);\n      assert.strictEqual(results[0].totalBytes, 71680, 'results are sorted');\n    });\n  });\n\n  it('scores in the middle when a mixture of small and large requests are used', () => {\n    const artifacts = generateArtifacts([\n      ['file.html', 30],\n      ['file.js', 50],\n      ['file.jpg', 70],\n      ['file-large.jpg', 1000],\n      ['file-xlarge.jpg', 3000],\n      ['small1.js', 5],\n      ['small2.js', 5],\n      ['small3.js', 5],\n      ['small4.js', 5],\n      ['small5.js', 5],\n      ['small6.js', 5],\n    ]);\n\n    return TotalByteWeight.audit(artifacts, {options, computedCache: new Map()}).then(result => {\n      assert.ok(0.40 < result.score && result.score < 0.6, 'score is around 0.5');\n      assert.strictEqual(result.numericValue, 4180 * 1024);\n      const results = result.details.items;\n      assert.strictEqual(results.length, 10, 'results are clipped at top 10');\n    });\n  });\n\n  it('fails when requests are huge', () => {\n    const artifacts = generateArtifacts([\n      ['file.html', 3000],\n      ['file.js', 5000],\n      ['file.jpg', 7000],\n    ]);\n\n    return TotalByteWeight.audit(artifacts, {options, computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.numericValue, 15000 * 1024);\n      assert.strictEqual(result.score, 0);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/unminified-css-test.js": {
      "tests": [
        {
          "id": "565",
          "name": "Page uses optimized css fails when given unminified stylesheets",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        },
        {
          "id": "566",
          "name": "Page uses optimized css passes when stylesheets are already minified",
          "location": {
            "start": {
              "column": 4,
              "line": 62
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst KB = 1024;\nconst UnminifiedCssAudit = require('../../../audits/byte-efficiency/unminified-css.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nconst resourceType = 'Stylesheet';\ndescribe('Page uses optimized css', () => {\n  it('fails when given unminified stylesheets', () => {\n    const auditResult = UnminifiedCssAudit.audit_(\n      {\n        URL: {finalUrl: ''},\n        CSSUsage: {stylesheets: [\n          {\n            header: {sourceURL: 'foo.css'},\n            content: `\n              /*\n              * a complicated comment\n              * that is\n              * several\n              * lines\n              */\n              .my-class {\n                width: 100px;\n                height: 100px;\n              }\n            `.replace(/\\n\\s+/g, '\\n'),\n          },\n          {\n            header: {sourceURL: 'other.css'},\n            content: `\n              .my-other-class {\n                background: data(\"data:image/jpeg;base64,asdfadiosgjwiojasfaasd\");\n                height: 100px;\n              }\n            `.replace(/\\n\\s+/g, '\\n'),\n          },\n        ]},\n      },\n      [\n        {url: 'foo.css', transferSize: 20 * KB, resourceType},\n        {url: 'other.css', transferSize: 50 * KB, resourceType},\n      ]\n    );\n\n    assert.equal(auditResult.items.length, 2);\n    assert.equal(auditResult.items[0].url, 'foo.css');\n    assert.equal(Math.round(auditResult.items[0].wastedPercent), 65);\n    assert.equal(Math.round(auditResult.items[0].wastedBytes / 1024), 13);\n    assert.equal(auditResult.items[1].url, 'other.css');\n    assert.equal(Math.round(auditResult.items[1].wastedPercent), 8);\n    assert.equal(Math.round(auditResult.items[1].wastedBytes / 1024), 4);\n  });\n\n  it('passes when stylesheets are already minified', () => {\n    const auditResult = UnminifiedCssAudit.audit_(\n      {\n        URL: {finalUrl: ''},\n        CSSUsage: {stylesheets: [\n          {header: {sourceURL: 'foo.css'}, content: '#id{width:100px;}'},\n          {\n            header: {sourceURL: 'other.css'},\n            content: `\n              /* basically just one comment */\n              .the-class {\n                display: block;\n              }\n            `.replace(/\\n\\s+/g, '\\n'),\n          },\n          {\n            header: {sourceURL: 'invalid.css'},\n            content: '/* a broken comment .clasz { width: 0; }',\n          },\n        ]},\n      },\n      [\n        {url: 'foo.css', transferSize: 20 * KB, resourceType},\n        {url: 'other.css', transferSize: 512, resourceType},\n        {url: 'invalid.css', transferSize: 20 * KB, resourceType},\n      ]\n    );\n\n    assert.equal(auditResult.items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/no-unload-listeners-test.js": {
      "tests": [
        {
          "id": "567",
          "name": "No Unload Listeners passes when there were no listeners",
          "location": {
            "start": {
              "column": 4,
              "line": 28
            }
          }
        },
        {
          "id": "568",
          "name": "No Unload Listeners passes when there were no `unload` listeners",
          "location": {
            "start": {
              "column": 4,
              "line": 34
            }
          }
        },
        {
          "id": "569",
          "name": "No Unload Listeners fails when there are unload listeners and matches them to script locations",
          "location": {
            "start": {
              "column": 4,
              "line": 43
            }
          }
        },
        {
          "id": "570",
          "name": "No Unload Listeners fails when there are unload listeners and has a fallback if script URL is not found",
          "location": {
            "start": {
              "column": 4,
              "line": 60
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the 'License'); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an 'AS IS' BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NoUnloadListeners = require('../../audits/no-unload-listeners.js');\n\n/* eslint-env jest */\n\nconst testJsUsage = {\n  'https://example.com/1.js': [\n    {scriptId: '12', functions: []},\n    {scriptId: '13', functions: []},\n    {scriptId: '16', functions: []},\n    {scriptId: '17', functions: []},\n  ],\n  'https://example.com/2.js': [\n    {scriptId: '22', functions: []},\n    {scriptId: '23', functions: []},\n    {scriptId: '26', functions: []},\n    {scriptId: '27', functions: []},\n  ],\n};\n\ndescribe('No Unload Listeners', () => {\n  it('passes when there were no listeners', () => {\n    const artifacts = {JsUsage: testJsUsage, GlobalListeners: []};\n    const result = NoUnloadListeners.audit(artifacts);\n    expect(result).toEqual({score: 1});\n  });\n\n  it('passes when there were no `unload` listeners', () => {\n    const GlobalListeners = [{\n      type: 'DOMContentLoaded', scriptId: '12', lineNumber: 5, columnNumber: 0,\n    }];\n    const artifacts = {JsUsage: testJsUsage, GlobalListeners};\n    const result = NoUnloadListeners.audit(artifacts);\n    expect(result).toEqual({score: 1});\n  });\n\n  it('fails when there are unload listeners and matches them to script locations', () => {\n    const GlobalListeners = [\n      {type: 'unload', scriptId: '16', lineNumber: 10, columnNumber: 30},\n      {type: 'unload', scriptId: '23', lineNumber: 0, columnNumber: 0},\n    ];\n    const artifacts = {JsUsage: testJsUsage, GlobalListeners};\n    const result = NoUnloadListeners.audit(artifacts);\n    expect(result.score).toEqual(0);\n    expect(result.details.items).toMatchObject([\n      {\n        source: {type: 'source-location', url: 'https://example.com/1.js', urlProvider: 'network', line: 10, column: 30},\n      }, {\n        source: {type: 'source-location', url: 'https://example.com/2.js', urlProvider: 'network', line: 0, column: 0},\n      },\n    ]);\n  });\n\n  it('fails when there are unload listeners and has a fallback if script URL is not found', () => {\n    const GlobalListeners = [\n      {type: 'DOMContentLoaded', scriptId: '12', lineNumber: 5, columnNumber: 0},\n      {type: 'unload', scriptId: 'notascriptid', lineNumber: 10, columnNumber: 30},\n      {type: 'unload', scriptId: '22', lineNumber: 1, columnNumber: 100},\n    ];\n    const artifacts = {JsUsage: testJsUsage, GlobalListeners};\n    const result = NoUnloadListeners.audit(artifacts);\n    expect(result.score).toEqual(0);\n    expect(result.details.items).toMatchObject([\n      {\n        source: {type: 'url', value: '(unknown)'},\n      }, {\n        source: {type: 'source-location', url: 'https://example.com/2.js', urlProvider: 'network', line: 1, column: 100},\n      },\n    ]);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/total-blocking-time-test.js": {
      "tests": [
        {
          "id": "571",
          "name": "Performance: total-blocking-time audit evaluates Total Blocking Time metric properly",
          "location": {
            "start": {
              "column": 4,
              "line": 32
            }
          }
        },
        {
          "id": "572",
          "name": "Performance: total-blocking-time audit adjusts scoring based on form factor",
          "location": {
            "start": {
              "column": 4,
              "line": 42
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst TBTAudit = require('../../../audits/metrics/total-blocking-time.js');\nconst defaultOptions = TBTAudit.defaultOptions;\n\nconst trace = require('../../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\nconst lcpTrace = require('../../fixtures/traces/lcp-m78.json');\nconst lcpDevtoolsLog = require('../../fixtures/traces/lcp-m78.devtools.log.json');\n\nfunction generateArtifacts({trace, devtoolsLog, TestedAsMobileDevice}) {\n  return {\n    traces: {[TBTAudit.DEFAULT_PASS]: trace},\n    devtoolsLogs: {[TBTAudit.DEFAULT_PASS]: devtoolsLog},\n    TestedAsMobileDevice,\n  };\n}\n\nfunction generateContext({throttlingMethod}) {\n  const settings = {throttlingMethod};\n  return {options: defaultOptions, settings, computedCache: new Map()};\n}\n/* eslint-env jest */\n\ndescribe('Performance: total-blocking-time audit', () => {\n  it('evaluates Total Blocking Time metric properly', async () => {\n    const artifacts = generateArtifacts({trace, devtoolsLog, TestedAsMobileDevice: true});\n    const context = generateContext({throttlingMethod: 'provided'});\n\n    const output = await TBTAudit.audit(artifacts, context);\n    expect(output.numericValue).toBeCloseTo(48.3, 1);\n    expect(output.score).toBe(1);\n    expect(output.displayValue).toBeDisplayString('50\\xa0ms');\n  });\n\n  it('adjusts scoring based on form factor', async () => {\n    const artifactsMobile = generateArtifacts({trace: lcpTrace,\n      devtoolsLog: lcpDevtoolsLog, TestedAsMobileDevice: true});\n    const contextMobile = generateContext({throttlingMethod: 'provided'});\n\n    const outputMobile = await TBTAudit.audit(artifactsMobile, contextMobile);\n    expect(outputMobile.numericValue).toBeCloseTo(333, 1);\n    expect(outputMobile.score).toBe(0.85);\n    expect(outputMobile.displayValue).toBeDisplayString('330\\xa0ms');\n\n    const artifactsDesktop = generateArtifacts({trace: lcpTrace,\n      devtoolsLog: lcpDevtoolsLog, TestedAsMobileDevice: false});\n    const contextDesktop = generateContext({throttlingMethod: 'provided'});\n\n    const outputDesktop = await TBTAudit.audit(artifactsDesktop, contextDesktop);\n    expect(outputDesktop.numericValue).toBeCloseTo(333, 1);\n    expect(outputDesktop.score).toBe(0.53);\n    expect(outputDesktop.displayValue).toBeDisplayString('330\\xa0ms');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/user-timing-test.js": {
      "tests": [
        {
          "id": "573",
          "name": "Performance: user-timings audit evaluates valid input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        },
        {
          "id": "574",
          "name": "Performance: user-timings audit doesn't throw when user_timing events have a colon",
          "location": {
            "start": {
              "column": 4,
              "line": 45
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst UserTimingsAudit = require('../../audits/user-timings.js');\nconst assert = require('assert').strict;\nconst traceEvents = require('../fixtures/traces/trace-user-timings.json');\n\nfunction generateArtifactsWithTrace(trace) {\n  return {\n    traces: {\n      defaultPass: {traceEvents: Array.isArray(trace) ? trace : trace.traceEvents},\n    },\n  };\n}\n\n/* eslint-env jest */\ndescribe('Performance: user-timings audit', () => {\n  it('evaluates valid input correctly', () => {\n    const artifacts = generateArtifactsWithTrace(traceEvents);\n    return UserTimingsAudit.audit(artifacts, {computedCache: new Map()}).then(auditResult => {\n      const excludedUTs = auditResult.details.items.filter(timing => {\n        return UserTimingsAudit.excludedPrefixes.some(prefix => timing.name.startsWith(prefix));\n      });\n      assert.equal(excludedUTs.length, 0, 'excluded usertimings included in results');\n\n      assert.equal(auditResult.score, 0);\n      expect(auditResult.displayValue).toBeDisplayString('2 user timings');\n\n      assert.equal(auditResult.details.items[0].name, 'measure_test');\n      assert.equal(auditResult.details.items[0].timingType, 'Measure');\n      assert.equal(auditResult.details.items[0].startTime, 0.002);\n      assert.equal(auditResult.details.items[0].duration, 1000.965);\n\n      assert.equal(auditResult.details.items[1].name, 'mark_test');\n      assert.equal(auditResult.details.items[1].timingType, 'Mark');\n      assert.equal(auditResult.details.items[1].startTime, 1000.954);\n      assert.equal(auditResult.details.items[1].duration, undefined);\n    });\n  });\n\n  it('doesn\\'t throw when user_timing events have a colon', () => {\n    const extraTraceEvents = traceEvents.concat([\n      {\n        'pid': 41904,\n        'tid': 1295,\n        'ts': 1676836141,\n        'ph': 'R',\n        'id': 'fake-event',\n        'cat': 'blink.user_timing',\n        'name': 'Zone:ZonePromise',\n        'dur': 64,\n        'tdur': 61,\n        'tts': 881373,\n        'args': {},\n      },\n    ]);\n\n    const artifacts = generateArtifactsWithTrace(extraTraceEvents);\n    return UserTimingsAudit.audit(artifacts, {computedCache: new Map()}).then(result => {\n      const fakeEvt = result.details.items.find(item => item.name === 'Zone:ZonePromise');\n      assert.ok(fakeEvt, 'failed to find user timing item with colon');\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/doctype-test.js": {
      "tests": [
        {
          "id": "575",
          "name": "DOBETTERWEB: doctype audit fails when document does not contain a doctype",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "576",
          "name": "DOBETTERWEB: doctype audit fails when the value of the name attribute is a value other then lowercase \"html\"",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        },
        {
          "id": "577",
          "name": "DOBETTERWEB: doctype audit fails when the value of the name attribute is not the lowercase string \"html\"",
          "location": {
            "start": {
              "column": 4,
              "line": 35
            }
          }
        },
        {
          "id": "578",
          "name": "DOBETTERWEB: doctype audit fails when the publicId attribute is not an empty string",
          "location": {
            "start": {
              "column": 4,
              "line": 48
            }
          }
        },
        {
          "id": "579",
          "name": "DOBETTERWEB: doctype audit fails when the systemId attribute is not an empty string",
          "location": {
            "start": {
              "column": 4,
              "line": 60
            }
          }
        },
        {
          "id": "580",
          "name": "DOBETTERWEB: doctype audit succeeds when document contains a doctype, and the name value is \"html\"",
          "location": {
            "start": {
              "column": 4,
              "line": 72
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/dobetterweb/doctype.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('DOBETTERWEB: doctype audit', () => {\n  it('fails when document does not contain a doctype', () => {\n    const auditResult = Audit.audit({\n      Doctype: null,\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('Document must contain a doctype');\n  });\n\n  it('fails when the value of the name attribute is a value other then lowercase \"html\"', () => {\n    const auditResult = Audit.audit({\n      Doctype: {\n        name: 'xml',\n        publicId: '',\n        systemId: '',\n      },\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString(\n      'Doctype name must be the lowercase string `html`');\n  });\n\n  it('fails when the value of the name attribute is not the lowercase string \"html\"', () => {\n    const auditResult = Audit.audit({\n      Doctype: {\n        name: 'HTML',\n        publicId: '',\n        systemId: '',\n      },\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString(\n      'Doctype name must be the lowercase string `html`');\n  });\n\n  it('fails when the publicId attribute is not an empty string', () => {\n    const auditResult = Audit.audit({\n      Doctype: {\n        name: 'html',\n        publicId: '189655',\n        systemId: '',\n      },\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('Expected publicId to be an empty string');\n  });\n\n  it('fails when the systemId attribute is not an empty string', () => {\n    const auditResult = Audit.audit({\n      Doctype: {\n        name: 'html',\n        publicId: '',\n        systemId: '189655',\n      },\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('Expected systemId to be an empty string');\n  });\n\n  it('succeeds when document contains a doctype, and the name value is \"html\"', () => {\n    const auditResult = Audit.audit({\n      Doctype: {\n        name: 'html',\n        publicId: '',\n        systemId: '',\n      },\n    });\n    assert.equal(auditResult.score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/network-requests-test.js": {
      "tests": [
        {
          "id": "581",
          "name": "Network requests audit should report finished and unfinished network requests",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        },
        {
          "id": "582",
          "name": "Network requests audit should handle times correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NetworkRequests = require('../../audits/network-requests.js');\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\nconst cutoffLoadDevtoolsLog = require('../fixtures/traces/cutoff-load-m83.devtoolslog.json');\n\n/* eslint-env jest */\ndescribe('Network requests audit', () => {\n  it('should report finished and unfinished network requests', async () => {\n    const artifacts = {\n      devtoolsLogs: {\n        [NetworkRequests.DEFAULT_PASS]: cutoffLoadDevtoolsLog,\n      },\n    };\n\n    const output = await NetworkRequests.audit(artifacts, {computedCache: new Map()});\n\n    expect(output.details.items[0]).toMatchObject({\n      startTime: 0,\n      endTime: expect.toBeApproximately(701, 0),\n      finished: true,\n      transferSize: 11358,\n      resourceSize: 39471,\n      statusCode: 200,\n      mimeType: 'text/html',\n      resourceType: 'Document',\n    });\n    expect(output.details.items[2]).toMatchObject({\n      startTime: expect.toBeApproximately(711, 0),\n      endTime: expect.toBeApproximately(1289, 0),\n      finished: false,\n      transferSize: 26441,\n      resourceSize: 0,\n      statusCode: 200,\n      mimeType: 'image/png',\n      resourceType: 'Image',\n    });\n    expect(output.details.items[5]).toMatchObject({\n      startTime: expect.toBeApproximately(717, 0),\n      endTime: expect.toBeApproximately(1296, 0),\n      finished: false,\n      transferSize: 58571,\n      resourceSize: 0,\n      statusCode: 200,\n      mimeType: 'application/javascript',\n      resourceType: 'Script',\n    });\n  });\n\n  it('should handle times correctly', async () => {\n    const records = [\n      {url: 'https://example.com/0', startTime: 15.0, endTime: 15.5},\n      {url: 'https://example.com/1', startTime: 15.5, endTime: -1},\n    ];\n\n    const artifacts = {\n      devtoolsLogs: {\n        [NetworkRequests.DEFAULT_PASS]: networkRecordsToDevtoolsLog(records),\n      },\n    };\n    const output = await NetworkRequests.audit(artifacts, {computedCache: new Map()});\n\n    expect(output.details.items).toMatchObject([{\n      startTime: 0,\n      endTime: 500,\n      finished: true,\n    }, {\n      startTime: 500,\n      endTime: undefined,\n      finished: true,\n    }]);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/efficient-animated-content-test.js": {
      "tests": [
        {
          "id": "583",
          "name": "Page uses videos for animated GIFs should flag gifs above 100kb as unoptimized",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        },
        {
          "id": "584",
          "name": "Page uses videos for animated GIFs shouldn't flag content that looks like a gif but isn't",
          "location": {
            "start": {
              "column": 4,
              "line": 41
            }
          }
        },
        {
          "id": "585",
          "name": "Page uses videos for animated GIFs shouldn't flag non gif content",
          "location": {
            "start": {
              "column": 4,
              "line": 57
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\nconst EfficientAnimatedContent =\n  require('../../../audits/byte-efficiency/efficient-animated-content.js');\nconst NetworkRequest = require('../../../lib/network-request.js');\nconst assert = require('assert').strict;\n\ndescribe('Page uses videos for animated GIFs', () => {\n  it('should flag gifs above 100kb as unoptimized', async () => {\n    const networkRecords = [\n      {\n        resourceType: NetworkRequest.TYPES.Image,\n        mimeType: 'image/gif',\n        resourceSize: 100240,\n        url: 'https://example.com/example.gif',\n      },\n      {\n        resourceType: NetworkRequest.TYPES.Image,\n        mimeType: 'image/gif',\n        resourceSize: 110000,\n        url: 'https://example.com/example2.gif',\n      },\n    ];\n    const artifacts = {\n      devtoolsLogs: {[EfficientAnimatedContent.DEFAULT_PASS]: []},\n    };\n\n    const {items} = await EfficientAnimatedContent.audit_(artifacts, networkRecords);\n    assert.equal(items.length, 1);\n    assert.equal(items[0].url, 'https://example.com/example2.gif');\n    assert.equal(items[0].totalBytes, 110000);\n    assert.equal(Math.round(items[0].wastedBytes), 50600);\n  });\n\n  it(`shouldn't flag content that looks like a gif but isn't`, async () => {\n    const networkRecords = [\n      {\n        mimeType: 'image/gif',\n        resourceType: NetworkRequest.TYPES.Media,\n        resourceSize: 150000,\n      },\n    ];\n    const artifacts = {\n      devtoolsLogs: {[EfficientAnimatedContent.DEFAULT_PASS]: []},\n    };\n\n    const {items} = await EfficientAnimatedContent.audit_(artifacts, networkRecords);\n    assert.equal(items.length, 0);\n  });\n\n  it(`shouldn't flag non gif content`, async () => {\n    const networkRecords = [\n      {\n        resourceType: NetworkRequest.TYPES.Document,\n        mimeType: 'text/html',\n        resourceSize: 150000,\n      },\n      {\n        resourceType: NetworkRequest.TYPES.Stylesheet,\n        mimeType: 'text/css',\n        resourceSize: 150000,\n      },\n    ];\n    const artifacts = {\n      devtoolsLogs: {[EfficientAnimatedContent.DEFAULT_PASS]: []},\n    };\n\n    const {items} = await EfficientAnimatedContent.audit_(artifacts, networkRecords);\n    assert.equal(items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/js-libraries-test.js": {
      "tests": [
        {
          "id": "586",
          "name": "Returns detected front-end JavaScript libraries always passes",
          "location": {
            "start": {
              "column": 4,
              "line": 13
            }
          }
        },
        {
          "id": "587",
          "name": "Returns detected front-end JavaScript libraries generates expected details",
          "location": {
            "start": {
              "column": 4,
              "line": 42
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst JsLibrariesAudit = require('../../../audits/dobetterweb/js-libraries.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\ndescribe('Returns detected front-end JavaScript libraries', () => {\n  it('always passes', () => {\n    // no libraries\n    const auditResult1 = JsLibrariesAudit.audit({\n      Stacks: [],\n    });\n    assert.equal(auditResult1.score, 1);\n\n    // duplicates. TODO: consider failing in this case\n    const auditResult2 = JsLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', id: 'lib1', name: 'lib1', version: '3.10.1', npm: 'lib1'},\n        {detector: 'js', id: 'lib2', name: 'lib2', version: undefined, npm: 'lib2'},\n      ],\n    });\n    assert.equal(auditResult2.score, 1);\n\n    // LOTS of frontend libs\n    const auditResult3 = JsLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', id: 'react', name: 'React', version: undefined, npm: 'react'},\n        {detector: 'js', id: 'polymer', name: 'Polymer', version: undefined, npm: 'polymer-core'},\n        {detector: 'js', id: 'preact', name: 'Preact', version: undefined, npm: 'preact'},\n        {detector: 'js', id: 'angular', name: 'Angular', version: undefined, npm: 'angular'},\n        {detector: 'js', id: 'jquery', name: 'jQuery', version: undefined, npm: 'jquery'},\n      ],\n    });\n    assert.equal(auditResult3.score, 1);\n  });\n\n  it('generates expected details', () => {\n    const auditResult = JsLibrariesAudit.audit({\n      Stacks: [\n        {detector: 'js', id: 'lib1', name: 'lib1', version: '3.10.1', npm: 'lib1'},\n        {detector: 'js', id: 'lib2', name: 'lib2', version: undefined, npm: 'lib2'},\n        {detector: 'js', id: 'lib2-fast', name: 'lib2', version: undefined, npm: 'lib2'},\n      ],\n    });\n    const expected = [\n      {\n        name: 'lib1',\n        npm: 'lib1',\n        version: '3.10.1',\n      },\n      {\n        name: 'lib2',\n        npm: 'lib2',\n        version: undefined,\n      },\n    ];\n    assert.equal(auditResult.score, 1);\n    assert.deepStrictEqual(auditResult.details.items, expected);\n    assert.deepStrictEqual(auditResult.details.debugData.stacks[2], {\n      id: 'lib2-fast',\n      version: undefined,\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/offline-start-url-test.js": {
      "tests": [
        {
          "id": "588",
          "name": "Offline start_url audit fails if start_url is not fetched",
          "location": {
            "start": {
              "column": 4,
              "line": 27
            }
          }
        },
        {
          "id": "589",
          "name": "Offline start_url audit passes if start_url is fetched",
          "location": {
            "start": {
              "column": 4,
              "line": 44
            }
          }
        },
        {
          "id": "590",
          "name": "Offline start_url audit warns if there was a manifest start_url parsing error",
          "location": {
            "start": {
              "column": 4,
              "line": 56
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst assert = require('assert').strict;\nconst OfflineStartUrlAudit = require('../../audits/offline-start-url.js');\nconst manifestParser = require('../../lib/manifest-parser.js');\n\n/* eslint-env jest */\n\nfunction generateMockAuditContext() {\n  return {\n    computedCache: new Map(),\n  };\n}\nfunction getManifest(manifest) {\n  const documentUrl = 'https://example.com/';\n  const manifestUrl = `${documentUrl}manifest.json`;\n\n  return manifestParser(JSON.stringify(manifest), manifestUrl, documentUrl);\n}\n\ndescribe('Offline start_url audit', () => {\n  it('fails if start_url is not fetched', async () => {\n    const explanation = 'Unable to fetch start URL via service worker.';\n\n    const artifacts = {\n      StartUrl: {\n        statusCode: -1,\n        explanation,\n      },\n    };\n    const context = generateMockAuditContext();\n\n    const result = await OfflineStartUrlAudit.audit(artifacts, context);\n    assert.strictEqual(result.score, 0);\n    assert.strictEqual(result.explanation, explanation);\n    assert.strictEqual(result.warnings.length, 0);\n  });\n\n  it('passes if start_url is fetched', async () => {\n    const artifacts = {\n      StartUrl: {statusCode: 200},\n    };\n    const context = generateMockAuditContext();\n\n    const result = await OfflineStartUrlAudit.audit(artifacts, context);\n    assert.strictEqual(result.score, 1);\n    assert.strictEqual(result.explanation, undefined);\n    assert.strictEqual(result.warnings.length, 0);\n  });\n\n  it('warns if there was a manifest start_url parsing error', async () => {\n    const manifest = {\n      start_url: 'https://evil.com/',\n    };\n\n    const artifacts = {\n      WebAppManifest: getManifest(manifest),\n      StartUrl: {statusCode: 200},\n    };\n    const context = generateMockAuditContext();\n\n    const result = await OfflineStartUrlAudit.audit(artifacts, context);\n    assert.strictEqual(result.score, 1);\n    assert.strictEqual(result.explanation, undefined);\n    assert.strictEqual(result.warnings.length, 1);\n    expect(result.warnings[0]).toBeDisplayString(\n      /Lighthouse couldn't read the `start_url`.*ERROR: start_url must be same-origin as document/);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/deprecations-test.js": {
      "tests": [
        {
          "id": "591",
          "name": "Console deprecations audit passes when no console messages were found",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "592",
          "name": "Console deprecations audit handles deprecations that do not have url or line numbers",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        },
        {
          "id": "593",
          "name": "Console deprecations audit fails when deprecation messages are found",
          "location": {
            "start": {
              "column": 4,
              "line": 39
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst DeprecationsAudit = require('../../audits/deprecations.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Console deprecations audit', () => {\n  it('passes when no console messages were found', () => {\n    const auditResult = DeprecationsAudit.audit({\n      ConsoleMessages: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('handles deprecations that do not have url or line numbers', () => {\n    const auditResult = DeprecationsAudit.audit({\n      ConsoleMessages: [\n        {\n          entry: {\n            source: 'deprecation',\n            text: 'Deprecation message',\n          },\n        },\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.displayValue).toBeDisplayString('1 warning found');\n    assert.equal(auditResult.details.items.length, 1);\n    assert.equal(auditResult.details.items[0].source, undefined);\n  });\n\n  it('fails when deprecation messages are found', () => {\n    const URL = 'http://example.com';\n\n    const auditResult = DeprecationsAudit.audit({\n      ConsoleMessages: [\n        {\n          entry: {\n            source: 'deprecation',\n            lineNumber: 123,\n            url: URL,\n            text: 'Deprecation message 123',\n          },\n        }, {\n          entry: {\n            source: 'deprecation',\n            lineNumber: 456,\n            url: 'http://example2.com',\n            text: 'Deprecation message 456',\n          },\n        }, {\n          entry: {\n            source: 'somethingelse',\n            lineNumber: 789,\n            url: 'http://example3.com',\n            text: 'Not a deprecation message 789',\n          },\n        },\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.displayValue).toBeDisplayString('2 warnings found');\n    assert.equal(auditResult.details.items.length, 2);\n    assert.equal(auditResult.details.items[0].source.url, URL);\n    assert.equal(auditResult.details.items[0].source.line, 123);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/layout-shift-elements-test.js": {
      "tests": [
        {
          "id": "594",
          "name": "Performance: layout-shift-elements audit correctly surfaces a single CLS element",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "595",
          "name": "Performance: layout-shift-elements audit correctly surfaces multiple CLS elements",
          "location": {
            "start": {
              "column": 4,
              "line": 35
            }
          }
        },
        {
          "id": "596",
          "name": "Performance: layout-shift-elements audit correctly handles when there are no CLS elements to show",
          "location": {
            "start": {
              "column": 4,
              "line": 53
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 Google Inc. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LayoutShiftElementsAudit =\n  require('../../audits/layout-shift-elements.js');\n\n/* eslint-env jest */\n\ndescribe('Performance: layout-shift-elements audit', () => {\n  it('correctly surfaces a single CLS element', async () => {\n    const artifacts = {\n      TraceElements: [{\n        traceEventType: 'layout-shift',\n        devtoolsNodePath: '1,HTML,3,BODY,5,DIV,0,HEADER',\n        selector: 'div.l-header > div.chorus-emc__content',\n        nodeLabel: 'My Test Label',\n        snippet: '<h1 class=\"test-class\">',\n        score: 0.3,\n      }],\n    };\n\n    const auditResult = await LayoutShiftElementsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.displayValue).toBeDisplayString('1 element found');\n    expect(auditResult.details.items).toHaveLength(1);\n    expect(auditResult.details.items[0]).toHaveProperty('node');\n    expect(auditResult.details.items[0].node).toHaveProperty('type', 'node');\n    expect(auditResult.details.items[0].score).toEqual(0.3);\n  });\n\n  it('correctly surfaces multiple CLS elements', async () => {\n    const clsElement = {\n      traceEventType: 'layout-shift',\n      devtoolsNodePath: '1,HTML,3,BODY,5,DIV,0,HEADER',\n      selector: 'div.l-header > div.chorus-emc__content',\n      nodeLabel: 'My Test Label',\n      snippet: '<h1 class=\"test-class\">',\n    };\n    const artifacts = {\n      TraceElements: Array(4).fill(clsElement),\n    };\n\n    const auditResult = await LayoutShiftElementsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.displayValue).toBeDisplayString('4 elements found');\n    expect(auditResult.details.items).toHaveLength(4);\n  });\n\n  it('correctly handles when there are no CLS elements to show', async () => {\n    const artifacts = {\n      TraceElements: [],\n    };\n\n    const auditResult = await LayoutShiftElementsAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.displayValue).toBeUndefined();\n    expect(auditResult.details.items).toHaveLength(0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/interactive-test.js": {
      "tests": [
        {
          "id": "597",
          "name": "Performance: interactive audit should compute interactive",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        },
        {
          "id": "598",
          "name": "Performance: interactive audit should compute interactive on pages with redirect",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Interactive = require('../../../audits/metrics/interactive.js');\nconst assert = require('assert').strict;\nconst options = Interactive.defaultOptions;\n\nconst acceptableTrace = require('../../fixtures/traces/progressive-app-m60.json');\nconst acceptableDevToolsLog =\n    require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\nconst redirectTrace = require('../../fixtures/traces/site-with-redirect.json');\nconst redirectDevToolsLog = require('../../fixtures/traces/site-with-redirect.devtools.log.json');\n\n\n/* eslint-env jest */\ndescribe('Performance: interactive audit', () => {\n  it('should compute interactive', () => {\n    const artifacts = {\n      traces: {\n        [Interactive.DEFAULT_PASS]: acceptableTrace,\n      },\n      devtoolsLogs: {\n        [Interactive.DEFAULT_PASS]: acceptableDevToolsLog,\n      },\n    };\n\n    const context = {options, settings: {throttlingMethod: 'provided'}, computedCache: new Map()};\n    return Interactive.audit(artifacts, context).then(output => {\n      assert.equal(output.score, 1);\n      assert.equal(Math.round(output.numericValue), 1582);\n      expect(output.displayValue).toBeDisplayString('1.6\\xa0s');\n    });\n  });\n\n  it('should compute interactive on pages with redirect', () => {\n    const artifacts = {\n      traces: {\n        [Interactive.DEFAULT_PASS]: redirectTrace,\n      },\n      devtoolsLogs: {\n        [Interactive.DEFAULT_PASS]: redirectDevToolsLog,\n      },\n    };\n\n    const context = {options, settings: {throttlingMethod: 'provided'}, computedCache: new Map()};\n    return Interactive.audit(artifacts, context).then(output => {\n      assert.equal(output.score, 0.97);\n      assert.equal(Math.round(output.numericValue), 2712);\n      expect(output.displayValue).toBeDisplayString('2.7\\xa0s');\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/maskable-icon-test.js": {
      "tests": [
        {
          "id": "599",
          "name": "Maskable Icon Audit fails when the manifest fails to be parsed",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        },
        {
          "id": "600",
          "name": "Maskable Icon Audit fails when the manifest contains no maskable icons",
          "location": {
            "start": {
              "column": 4,
              "line": 48
            }
          }
        },
        {
          "id": "601",
          "name": "Maskable Icon Audit passes when the manifest contains at least one maskable icon",
          "location": {
            "start": {
              "column": 4,
              "line": 55
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst MaskableIconAudit = require('../../audits/maskable-icon.js');\nconst manifestParser = require('../../lib/manifest-parser.js');\n\nconst manifestSrc = JSON.stringify(require('../fixtures/manifest.json'));\nconst manifestWithoutMaskableSrc =\n  JSON.stringify(require('../fixtures/manifest-no-maskable-icon.json'));\nconst EXAMPLE_MANIFEST_URL = 'https://example.com/manifest.json';\nconst EXAMPLE_DOC_URL = 'https://example.com/index.html';\n\n/**\n * @param {string}\n */\nfunction generateMockArtifacts(src = manifestSrc) {\n  const exampleManifest = manifestParser(src, EXAMPLE_MANIFEST_URL, EXAMPLE_DOC_URL);\n\n  return {\n    WebAppManifest: exampleManifest,\n    InstallabilityErrors: {errors: []},\n  };\n}\n\nfunction generateMockAuditContext() {\n  return {\n    computedCache: new Map(),\n  };\n}\n\n/* eslint-env jest */\n\ndescribe('Maskable Icon Audit', () => {\n  const context = generateMockAuditContext();\n\n  it('fails when the manifest fails to be parsed', async () => {\n    const artifacts = generateMockArtifacts();\n    artifacts.WebAppManifest = null;\n\n    const auditResult = await MaskableIconAudit.audit(artifacts, context);\n    expect(auditResult.score).toEqual(0);\n  });\n\n  it('fails when the manifest contains no maskable icons', async () => {\n    const artifacts = generateMockArtifacts(manifestWithoutMaskableSrc);\n\n    const auditResult = await MaskableIconAudit.audit(artifacts, context);\n    expect(auditResult.score).toEqual(0);\n  });\n\n  it('passes when the manifest contains at least one maskable icon', async () => {\n    const artifacts = generateMockArtifacts();\n\n    const auditResult = await MaskableIconAudit.audit(artifacts, context);\n    expect(auditResult.score).toEqual(1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/byte-efficiency/uses-text-compression-test.js": {
      "tests": [
        {
          "id": "602",
          "name": "Page uses optimized responses fails when responses are collectively unoptimized",
          "location": {
            "start": {
              "column": 4,
              "line": 25
            }
          }
        },
        {
          "id": "603",
          "name": "Page uses optimized responses passes when all responses are sufficiently optimized",
          "location": {
            "start": {
              "column": 4,
              "line": 37
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst KB = 1024;\nconst ResponsesAreCompressedAudit =\n  require('../../../audits/byte-efficiency/uses-text-compression.js');\nconst assert = require('assert').strict;\n\nfunction generateResponse(options) {\n  return Object.assign({\n    url: `http://google.com/${options.file}`,\n    transferSize: options.resourceSize || 0,\n    resourceSize: 0,\n    gzipSize: 0,\n  }, options);\n}\n\n/* eslint-env jest */\n\ndescribe('Page uses optimized responses', () => {\n  it('fails when responses are collectively unoptimized', () => {\n    const auditResult = ResponsesAreCompressedAudit.audit_({\n      ResponseCompression: [\n        generateResponse({file: 'index.js', resourceSize: 100 * KB, gzipSize: 90 * KB}), // 10kb & 10%\n        generateResponse({file: 'index.css', resourceSize: 50 * KB, gzipSize: 37 * KB}), //  13kb & 26% (hit)\n        generateResponse({file: 'index.json', resourceSize: 2048 * KB, gzipSize: 1024 * KB}), // 1024kb & 50% (hit)\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 2);\n  });\n\n  it('passes when all responses are sufficiently optimized', () => {\n    const auditResult = ResponsesAreCompressedAudit.audit_({\n      ResponseCompression: [\n        generateResponse({file: 'index.js', resourceSize: 1000 * KB, gzipSize: 910 * KB}), // 90kb & 9%\n        generateResponse({file: 'index.css', resourceSize: 6 * KB, gzipSize: 4.5 * KB}), // 1,5kb & 25% (hit)\n        generateResponse({file: 'index.json', resourceSize: 10 * KB, gzipSize: 10 * KB}), // 0kb & 0%\n        generateResponse({file: 'compressed.json', resourceSize: 10 * KB, transferSize: 3 * KB,\n          gzipSize: 6 * KB}), // 0kb & 0%\n      ],\n    });\n\n    assert.equal(auditResult.items.length, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/server-response-time-test.js": {
      "tests": [
        {
          "id": "604",
          "name": "Performance: server-response-time audit fails when response time of root document is higher than 600ms",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "605",
          "name": "Performance: server-response-time audit succeeds when response time of root document is lower than 600ms",
          "location": {
            "start": {
              "column": 4,
              "line": 38
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ServerResponseTime = require('../../audits/server-response-time.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\ndescribe('Performance: server-response-time audit', () => {\n  it('fails when response time of root document is higher than 600ms', async () => {\n    const mainResource = {\n      url: 'https://example.com/',\n      requestId: '0',\n      timing: {receiveHeadersEnd: 830, sendEnd: 200},\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n\n    const artifacts = {\n      devtoolsLogs: {[ServerResponseTime.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl: 'https://example.com/'},\n    };\n\n    const result = await ServerResponseTime.audit(artifacts, {computedCache: new Map()});\n    expect(result).toMatchObject({\n      score: 0,\n      numericValue: 630,\n      details: {\n        overallSavingsMs: 530,\n        items: [{url: 'https://example.com/', responseTime: 630}],\n      },\n    });\n  });\n\n  it('succeeds when response time of root document is lower than 600ms', () => {\n    const mainResource = {\n      url: 'https://example.com/',\n      requestId: '0',\n      timing: {receiveHeadersEnd: 400, sendEnd: 200},\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n\n    const artifacts = {\n      devtoolsLogs: {[ServerResponseTime.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl: 'https://example.com/'},\n    };\n\n    return ServerResponseTime.audit(artifacts, {computedCache: new Map()}).then(result => {\n      assert.strictEqual(result.numericValue, 200);\n      assert.strictEqual(result.score, 1);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/http-status-code-test.js": {
      "tests": [
        {
          "id": "606",
          "name": "SEO: HTTP code audit fails when status code is unsuccesfull",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        },
        {
          "id": "607",
          "name": "SEO: HTTP code audit passes when status code is successful",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst HTTPStatusCodeAudit = require('../../../audits/seo/http-status-code.js');\nconst assert = require('assert').strict;\nconst networkRecordsToDevtoolsLog = require('../../network-records-to-devtools-log.js');\n\n/* eslint-env jest */\n\ndescribe('SEO: HTTP code audit', () => {\n  it('fails when status code is unsuccesfull', () => {\n    const statusCodes = [403, 404, 500];\n\n    const allRuns = statusCodes.map(statusCode => {\n      const finalUrl = 'https://example.com';\n      const mainResource = {\n        url: finalUrl,\n        statusCode,\n      };\n      const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n\n      const artifacts = {\n        devtoolsLogs: {[HTTPStatusCodeAudit.DEFAULT_PASS]: devtoolsLog},\n        URL: {finalUrl},\n      };\n\n      return HTTPStatusCodeAudit.audit(artifacts, {computedCache: new Map()}).then(auditResult => {\n        assert.equal(auditResult.score, 0);\n        assert.ok(auditResult.displayValue.includes(statusCode), false);\n      });\n    });\n\n    return Promise.all(allRuns);\n  });\n\n  it('passes when status code is successful', () => {\n    const finalUrl = 'https://example.com';\n    const mainResource = {\n      url: finalUrl,\n      statusCode: 200,\n    };\n    const devtoolsLog = networkRecordsToDevtoolsLog([mainResource]);\n\n    const artifacts = {\n      devtoolsLogs: {[HTTPStatusCodeAudit.DEFAULT_PASS]: devtoolsLog},\n      URL: {finalUrl},\n    };\n\n    return HTTPStatusCodeAudit.audit(artifacts, {computedCache: new Map()}).then(auditResult => {\n      assert.equal(auditResult.score, 1);\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/largest-contentful-paint-element-test.js": {
      "tests": [
        {
          "id": "608",
          "name": "Performance: largest-contentful-paint-element audit correctly surfaces the LCP element",
          "location": {
            "start": {
              "column": 4,
              "line": 13
            }
          }
        },
        {
          "id": "609",
          "name": "Performance: largest-contentful-paint-element audit doesn't throw an error when there is nothing to show",
          "location": {
            "start": {
              "column": 4,
              "line": 33
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2020 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst LargestContentfulPaintElementAudit =\n  require('../../audits/largest-contentful-paint-element.js');\n\n/* eslint-env jest */\ndescribe('Performance: largest-contentful-paint-element audit', () => {\n  it('correctly surfaces the LCP element', async () => {\n    const artifacts = {\n      TraceElements: [{\n        traceEventType: 'largest-contentful-paint',\n        devtoolsNodePath: '1,HTML,3,BODY,5,DIV,0,HEADER',\n        selector: 'div.l-header > div.chorus-emc__content',\n        nodeLabel: 'My Test Label',\n        snippet: '<h1 class=\"test-class\">',\n      }],\n    };\n\n    const auditResult = await LargestContentfulPaintElementAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.displayValue).toBeDisplayString('1 element found');\n    expect(auditResult.details.items).toHaveLength(1);\n    expect(auditResult.details.items[0].node.path).toEqual('1,HTML,3,BODY,5,DIV,0,HEADER');\n    expect(auditResult.details.items[0].node.nodeLabel).toEqual('My Test Label');\n    expect(auditResult.details.items[0].node.snippet).toEqual('<h1 class=\"test-class\">');\n  });\n\n  it('doesn\\'t throw an error when there is nothing to show', async () => {\n    const artifacts = {\n      TraceElements: [],\n    };\n\n    const auditResult = await LargestContentfulPaintElementAudit.audit(artifacts);\n    expect(auditResult.score).toEqual(1);\n    expect(auditResult.displayValue).toBeDisplayString('0 elements found');\n    expect(auditResult.details.items).toHaveLength(0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/first-meaningful-paint-test.js": {
      "tests": [
        {
          "id": "610",
          "name": "Performance: first-meaningful-paint audit computes FMP correctly for valid trace",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "611",
          "name": "Performance: first-meaningful-paint audit computes FMP correctly for simulated",
          "location": {
            "start": {
              "column": 4,
              "line": 30
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst FMPAudit = require('../../../audits/metrics/first-meaningful-paint.js');\nconst Audit = require('../../../audits/audit.js');\nconst assert = require('assert').strict;\nconst options = FMPAudit.defaultOptions;\nconst trace = require('../../fixtures/traces/progressive-app-m60.json');\nconst devtoolsLogs = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\ndescribe('Performance: first-meaningful-paint audit', () => {\n  it('computes FMP correctly for valid trace', async () => {\n    const artifacts = {\n      traces: {[Audit.DEFAULT_PASS]: trace},\n      devtoolsLogs: {[Audit.DEFAULT_PASS]: devtoolsLogs},\n    };\n    const context = {options, settings: {throttlingMethod: 'provided'}, computedCache: new Map()};\n    const fmpResult = await FMPAudit.audit(artifacts, context);\n\n    assert.equal(fmpResult.score, 1);\n    assert.equal(fmpResult.numericValue, 783.328);\n    expect(fmpResult.displayValue).toBeDisplayString('0.8\\xa0s');\n  });\n\n  it('computes FMP correctly for simulated', async () => {\n    const artifacts = {\n      traces: {[Audit.DEFAULT_PASS]: trace},\n      devtoolsLogs: {[Audit.DEFAULT_PASS]: devtoolsLogs},\n    };\n    const context = {options, settings: {throttlingMethod: 'simulate'}, computedCache: new Map()};\n    const fmpResult = await FMPAudit.audit(artifacts, context);\n\n    expect({\n      score: fmpResult.score,\n      numericValue: fmpResult.numericValue,\n    }).toMatchSnapshot();\n  });\n});\n"
    },
    "lighthouse-core/test/audits/without-javascript-test.js": {
      "tests": [
        {
          "id": "612",
          "name": "Progressive Enhancement: without javascript audit fails when the js-less body is empty",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "613",
          "name": "Progressive Enhancement: without javascript audit fails when the js-less body is whitespace",
          "location": {
            "start": {
              "column": 4,
              "line": 27
            }
          }
        },
        {
          "id": "614",
          "name": "Progressive Enhancement: without javascript audit succeeds when the js-less body contains some content",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        },
        {
          "id": "615",
          "name": "Progressive Enhancement: without javascript audit succeeds when the js-less body contains noscript",
          "location": {
            "start": {
              "column": 4,
              "line": 51
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst withoutJsAudit = require('../../audits/without-javascript.js');\nconst assert = require('assert').strict;\n\ndescribe('Progressive Enhancement: without javascript audit', () => {\n  it('fails when the js-less body is empty', () => {\n    const artifacts = {\n      HTMLWithoutJavaScript: {\n        bodyText: '',\n        hasNoScript: false,\n      },\n    };\n\n    const result = withoutJsAudit.audit(artifacts);\n    assert.equal(result.score, 0);\n    assert.ok(result.explanation);\n  });\n\n  it('fails when the js-less body is whitespace', () => {\n    const artifacts = {\n      HTMLWithoutJavaScript: {\n        bodyText: '        ',\n        hasNoScript: false,\n      },\n    };\n\n    const result = withoutJsAudit.audit(artifacts);\n    assert.equal(result.score, 0);\n    assert.ok(result.explanation);\n  });\n\n  it('succeeds when the js-less body contains some content', () => {\n    const artifacts = {\n      HTMLWithoutJavaScript: {\n        bodyText: 'test',\n        hasNoScript: false,\n      },\n    };\n\n    assert.equal(withoutJsAudit.audit(artifacts).score, 1);\n  });\n\n  it('succeeds when the js-less body contains noscript', () => {\n    const artifacts = {\n      HTMLWithoutJavaScript: {\n        bodyText: '',\n        hasNoScript: true,\n      },\n    };\n\n    assert.equal(withoutJsAudit.audit(artifacts).score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/dom-size-test.js": {
      "tests": [
        {
          "id": "616",
          "name": "DOMSize audit calculates score hitting mid distribution",
          "location": {
            "start": {
              "column": 4,
              "line": 25
            }
          }
        },
        {
          "id": "617",
          "name": "DOMSize audit calculates score hitting top distribution",
          "location": {
            "start": {
              "column": 4,
              "line": 35
            }
          }
        },
        {
          "id": "618",
          "name": "DOMSize audit calculates score hitting bottom of distribution",
          "location": {
            "start": {
              "column": 4,
              "line": 40
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst DOMSize = require('../../../audits/dobetterweb/dom-size.js');\nconst assert = require('assert').strict;\nconst options = DOMSize.defaultOptions;\n\n/* eslint-env jest */\n\ndescribe('DOMSize audit', () => {\n  const numElements = 1500;\n  const artifact = {\n    DOMStats: {\n      totalBodyElements: numElements,\n      depth: {max: 1},\n      width: {max: 2},\n    },\n  };\n  const context = {options, settings: {locale: 'en'}};\n\n  it('calculates score hitting mid distribution', () => {\n    const auditResult = DOMSize.audit(artifact, context);\n    assert.equal(auditResult.score, 0.43);\n    assert.equal(auditResult.numericValue, numElements);\n    expect(auditResult.displayValue).toBeDisplayString('1,500 elements');\n    assert.equal(auditResult.details.items[0].value, numElements);\n    assert.equal(auditResult.details.items[1].value, 1);\n    assert.equal(auditResult.details.items[2].value, 2);\n  });\n\n  it('calculates score hitting top distribution', () => {\n    artifact.DOMStats.totalBodyElements = 400;\n    assert.equal(DOMSize.audit(artifact, context).score, 1);\n  });\n\n  it('calculates score hitting bottom of distribution', () => {\n    artifact.DOMStats.totalBodyElements = 5970;\n    assert.equal(DOMSize.audit(artifact, context).score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/uses-passive-event-listeners-test.js": {
      "tests": [
        {
          "id": "619",
          "name": "Page uses passive events listeners where applicable fails when scroll blocking listeners should be passive",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "620",
          "name": "Page uses passive events listeners where applicable passes scroll blocking listeners should be passive",
          "location": {
            "start": {
              "column": 4,
              "line": 31
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst PassiveEventsAudit = require('../../../audits/dobetterweb/uses-passive-event-listeners.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Page uses passive events listeners where applicable', () => {\n  it('fails when scroll blocking listeners should be passive', () => {\n    const text = 'Use passive event listeners when you do not use preventDefault';\n\n    const auditResult = PassiveEventsAudit.audit({\n      ConsoleMessages: [\n        {entry: {source: 'violation', url: 'https://example.com/', text}},\n        {entry: {source: 'violation', url: 'https://example2.com/two', text}},\n        {entry: {source: 'violation', url: 'https://example2.com/two', text}}, // duplicate\n        {entry: {source: 'violation', url: 'http://abc.com/', text: 'No document.write'}},\n        {entry: {source: 'deprecation', url: 'https://example.com/two'}},\n      ],\n    });\n\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n  });\n\n  it('passes scroll blocking listeners should be passive', () => {\n    const auditResult = PassiveEventsAudit.audit({\n      ConsoleMessages: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/seo/meta-description-test.js": {
      "tests": [
        {
          "id": "621",
          "name": "SEO: description audit fails when HTML does not contain a description meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        },
        {
          "id": "622",
          "name": "SEO: description audit fails when HTML contains an empty description meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        },
        {
          "id": "623",
          "name": "SEO: description audit fails when description consists only of whitespace",
          "location": {
            "start": {
              "column": 4,
              "line": 31
            }
          }
        },
        {
          "id": "624",
          "name": "SEO: description audit passes when a description text is provided",
          "location": {
            "start": {
              "column": 4,
              "line": 39
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/seo/meta-description.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('SEO: description audit', () => {\n  const makeMetaElements = content => [{name: 'description', content}];\n\n  it('fails when HTML does not contain a description meta tag', () => {\n    const auditResult = Audit.audit({\n      MetaElements: [],\n    });\n    assert.equal(auditResult.score, 0);\n  });\n\n  it('fails when HTML contains an empty description meta tag', () => {\n    const auditResult = Audit.audit({\n      MetaElements: makeMetaElements(''),\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('Description text is empty.');\n  });\n\n  it('fails when description consists only of whitespace', () => {\n    const auditResult = Audit.audit({\n      MetaElements: makeMetaElements('\\t\\xa0'),\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('Description text is empty.');\n  });\n\n  it('passes when a description text is provided', () => {\n    return assert.equal(Audit.audit({\n      MetaElements: makeMetaElements('description text'),\n    }).score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/viewport-test.js": {
      "tests": [
        {
          "id": "625",
          "name": "Mobile-friendly: viewport audit fails when HTML does not contain a viewport meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        },
        {
          "id": "626",
          "name": "Mobile-friendly: viewport audit fails when HTML contains a non-mobile friendly viewport meta tag",
          "location": {
            "start": {
              "column": 4,
              "line": 25
            }
          }
        },
        {
          "id": "627",
          "name": "Mobile-friendly: viewport audit passes when a valid viewport is provided",
          "location": {
            "start": {
              "column": 4,
              "line": 32
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/viewport.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Mobile-friendly: viewport audit', () => {\n  const makeMetaElements = viewport => [{name: 'viewport', content: viewport}];\n  const fakeContext = {computedCache: new Map()};\n\n  it('fails when HTML does not contain a viewport meta tag', async () => {\n    const auditResult = await Audit.audit({\n      MetaElements: [],\n    }, fakeContext);\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.explanation).toBeDisplayString('No `<meta name=\"viewport\">` tag found');\n  });\n\n  it('fails when HTML contains a non-mobile friendly viewport meta tag', async () => {\n    const viewport = 'maximum-scale=1';\n    const auditResult = await Audit.audit({MetaElements: makeMetaElements(viewport)}, fakeContext);\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.warnings[0], undefined);\n  });\n\n  it('passes when a valid viewport is provided', async () => {\n    const viewport = 'initial-scale=1';\n    const auditResult = await Audit.audit({\n      MetaElements: makeMetaElements(viewport),\n    }, fakeContext);\n    assert.equal(auditResult.score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/no-document-write-test.js": {
      "tests": [
        {
          "id": "628",
          "name": "Page does not use document.write() passes when document.write() is not used",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        },
        {
          "id": "629",
          "name": "Page does not use document.write() fails when document.write() is used",
          "location": {
            "start": {
              "column": 4,
              "line": 25
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst DocWriteUseAudit = require('../../../audits/dobetterweb/no-document-write.js');\nconst assert = require('assert').strict;\n\nconst URL = 'https://example.com';\n\n/* eslint-env jest */\n\ndescribe('Page does not use document.write()', () => {\n  it('passes when document.write() is not used', () => {\n    const auditResult = DocWriteUseAudit.audit({\n      ConsoleMessages: [],\n      URL: {finalUrl: URL},\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('fails when document.write() is used', () => {\n    const text = 'Do not use document.write';\n    const auditResult = DocWriteUseAudit.audit({\n      URL: {finalUrl: URL},\n      ConsoleMessages: [\n        {entry: {source: 'violation', url: 'https://example.com/', text}},\n        {entry: {source: 'violation', url: 'https://example2.com/two', text}},\n        {entry: {source: 'violation', url: 'http://abc.com/', text: 'Long event handler!'}},\n        {entry: {source: 'deprecation', url: 'https://example.com/two'}},\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/geolocation-on-start-test.js": {
      "tests": [
        {
          "id": "630",
          "name": "UX: geolocation audit fails when geolocation has been automatically requested",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "631",
          "name": "UX: geolocation audit passes when geolocation has not been automatically requested",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst GeolocationOnStartAudit = require('../../../audits/dobetterweb/geolocation-on-start.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('UX: geolocation audit', () => {\n  it('fails when geolocation has been automatically requested', () => {\n    const text = 'Do not request geolocation permission without a user action.';\n\n    const auditResult = GeolocationOnStartAudit.audit({\n      ConsoleMessages: [\n        {entry: {source: 'violation', url: 'https://example.com/', text}},\n        {entry: {source: 'violation', url: 'https://example2.com/two', text}},\n        {entry: {source: 'violation', url: 'http://abc.com/', text: 'No document.write'}},\n        {entry: {source: 'deprecation', url: 'https://example.com/two'}},\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n  });\n\n  it('passes when geolocation has not been automatically requested', () => {\n    const auditResult = GeolocationOnStartAudit.audit({\n      ConsoleMessages: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/notification-on-start-test.js": {
      "tests": [
        {
          "id": "632",
          "name": "UX: notification audit fails when notification has been automatically requested",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "633",
          "name": "UX: notification audit passes when notification has not been automatically requested",
          "location": {
            "start": {
              "column": 4,
              "line": 28
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NotificationOnStart = require('../../../audits/dobetterweb/notification-on-start.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('UX: notification audit', () => {\n  it('fails when notification has been automatically requested', () => {\n    const text = 'Do not request notification permission without a user action.';\n    const auditResult = NotificationOnStart.audit({\n      ConsoleMessages: [\n        {entry: {source: 'violation', url: 'https://example.com/', text}},\n        {entry: {source: 'violation', url: 'https://example2.com/two', text}},\n        {entry: {source: 'violation', url: 'http://abc.com/', text: 'No document.write'}},\n        {entry: {source: 'deprecation', url: 'https://example.com/two'}},\n      ],\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n  });\n\n  it('passes when notification has not been automatically requested', () => {\n    const auditResult = NotificationOnStart.audit({\n      ConsoleMessages: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/diagnostics-test.js": {
      "tests": [
        {
          "id": "634",
          "name": "Diagnostics audit should work",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Diagnostics = require('../../audits/diagnostics.js');\n\nconst acceptableTrace = require('../fixtures/traces/progressive-app-m60.json');\nconst acceptableDevToolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Diagnostics audit', () => {\n  it('should work', async () => {\n    const artifacts = {\n      traces: {defaultPass: acceptableTrace},\n      devtoolsLogs: {defaultPass: acceptableDevToolsLog},\n    };\n\n    const result = await Diagnostics.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items[0]).toEqual({\n      maxRtt: 3.6660000041592014,\n      maxServerLatency: 159.5549999910874,\n      numFonts: 1,\n      numRequests: 66,\n      numScripts: 6,\n      numStylesheets: 0,\n      numTasks: 547,\n      numTasksOver10ms: 13,\n      numTasksOver25ms: 8,\n      numTasksOver50ms: 4,\n      numTasksOver100ms: 1,\n      numTasksOver500ms: 0,\n      rtt: 2.6209999923595007,\n      throughput: 1628070.200017642,\n      totalByteWeight: 234053,\n      totalTaskTime: 1360.2630000000001,\n      mainDocumentTransferSize: 5368,\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/network-server-latency-test.js": {
      "tests": [
        {
          "id": "635",
          "name": "Network Server Latency audit should work",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ServerLatency = require('../../audits/network-server-latency.js');\n\nconst acceptableDevToolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Network Server Latency audit', () => {\n  it('should work', async () => {\n    const artifacts = {devtoolsLogs: {defaultPass: acceptableDevToolsLog}};\n    const result = await ServerLatency.audit(artifacts, {computedCache: new Map()});\n    result.details.items.forEach(\n      item => (item.serverResponseTime = Math.round(item.serverResponseTime * 100) / 100)\n    );\n\n    // These were all from a trace that used our ancient 150ms devtools throttling which appears as\n    // artifical response time = Math.max(real response time, 150ms)\n    expect(result.details.items).toEqual([\n      {\n        origin: 'https://www.google-analytics.com',\n        serverResponseTime: 159.55,\n      },\n      {\n        origin: 'https://pwa.rocks',\n        serverResponseTime: 159.42,\n      },\n      {\n        origin: 'https://www.googletagmanager.com',\n        serverResponseTime: 153.03,\n      },\n    ]);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/content-width-test.js": {
      "tests": [
        {
          "id": "636",
          "name": "Mobile-friendly: content-width audit fails when scroll width differs from viewport width",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "637",
          "name": "Mobile-friendly: content-width audit passes when widths match",
          "location": {
            "start": {
              "column": 4,
              "line": 27
            }
          }
        },
        {
          "id": "638",
          "name": "Mobile-friendly: content-width audit not applicable when run on desktop",
          "location": {
            "start": {
              "column": 4,
              "line": 37
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/content-width.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Mobile-friendly: content-width audit', () => {\n  it('fails when scroll width differs from viewport width', () => {\n    const result = Audit.audit({\n      TestedAsMobileDevice: true,\n      ViewportDimensions: {\n        innerWidth: 100,\n        outerWidth: 300,\n      },\n    });\n\n    assert.equal(result.score, 0);\n    assert.ok(result.explanation);\n  });\n\n  it('passes when widths match', () => {\n    return assert.equal(Audit.audit({\n      HostUserAgent: '',\n      ViewportDimensions: {\n        innerWidth: 300,\n        outerWidth: 300,\n      },\n    }, {settings: {emulatedFormFactor: 'mobile'}}).score, 1);\n  });\n\n  it('not applicable when run on desktop', () => {\n    return assert.equal(Audit.audit({\n      TestedAsMobileDevice: false,\n      ViewportDimensions: {\n        innerWidth: 300,\n        outerWidth: 450,\n      },\n    }).notApplicable, true);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/first-contentful-paint-3g-test.js": {
      "tests": [
        {
          "id": "639",
          "name": "Performance: first-contentful-paint-3g audit evaluates valid input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst FCP3G = require('../../../audits/metrics/first-contentful-paint-3g.js');\nconst options = FCP3G.defaultOptions;\n\nconst pwaTrace = require('../../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Performance: first-contentful-paint-3g audit', () => {\n  it('evaluates valid input correctly', async () => {\n    const artifacts = {\n      traces: {\n        [FCP3G.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [FCP3G.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const result = await FCP3G.audit(artifacts, {settings: {}, options, computedCache: new Map()});\n    // Use InlineSnapshot here so changes to Lantern coefficients can be easily updated en masse\n    expect({score: result.score, value: Math.round(result.numericValue)}).toMatchInlineSnapshot(`\nObject {\n  \"score\": 0.99,\n  \"value\": 2087,\n}\n`);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/estimated-input-latency-test.js": {
      "tests": [
        {
          "id": "640",
          "name": "Performance: estimated-input-latency audit evaluates valid input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/metrics/estimated-input-latency.js');\nconst assert = require('assert').strict;\nconst options = Audit.defaultOptions;\n\nconst pwaTrace = require('../../fixtures/traces/progressive-app-m60.json');\n\nfunction generateArtifactsWithTrace(trace) {\n  return {\n    traces: {[Audit.DEFAULT_PASS]: trace},\n    devtoolsLogs: {[Audit.DEFAULT_PASS]: []},\n  };\n}\n/* eslint-env jest */\n\ndescribe('Performance: estimated-input-latency audit', () => {\n  it('evaluates valid input correctly', () => {\n    const artifacts = generateArtifactsWithTrace(pwaTrace);\n    const settings = {throttlingMethod: 'provided'};\n    const context = {options, settings, computedCache: new Map()};\n    return Audit.audit(artifacts, context).then(output => {\n      assert.equal(Math.round(output.numericValue * 10) / 10, 17.1);\n      assert.equal(output.score, 1);\n      expect(output.displayValue).toBeDisplayString('20\\xa0ms');\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/works-offline-test.js": {
      "tests": [
        {
          "id": "641",
          "name": "Offline: works-offline audit correctly audits a 200 code",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        },
        {
          "id": "642",
          "name": "Offline: works-offline audit warns if requested url does not match final url",
          "location": {
            "start": {
              "column": 4,
              "line": 26
            }
          }
        },
        {
          "id": "643",
          "name": "Offline: works-offline audit correctly audits a non-200 code",
          "location": {
            "start": {
              "column": 4,
              "line": 36
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/works-offline.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\nconst URL = 'https://www.chromestatus.com';\n\ndescribe('Offline: works-offline audit', () => {\n  it('correctly audits a 200 code', () => {\n    const output = Audit.audit({\n      Offline: 200,\n      URL: {requestedUrl: URL, finalUrl: URL},\n    });\n\n    assert.equal(output.score, 1);\n    assert.ok(!output.explanation);\n  });\n\n  it('warns if requested url does not match final url', () => {\n    const output = Audit.audit({\n      Offline: 404,\n      URL: {requestedUrl: URL, finalUrl: `${URL}/features`},\n    });\n\n    assert.equal(output.score, 0);\n    assert.ok(output.warnings[0]);\n  });\n\n  it('correctly audits a non-200 code', () => {\n    const output = Audit.audit({\n      Offline: 203,\n      URL: {requestedUrl: URL, finalUrl: URL},\n    });\n\n    assert.equal(output.score, 0);\n    assert.ok(!output.explanation);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/predictive-perf-test.js": {
      "tests": [
        {
          "id": "644",
          "name": "Performance: predictive performance audit should compute the predicted values",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst PredictivePerf = require('../../audits/predictive-perf.js');\n\nconst acceptableTrace = require('../fixtures/traces/lcp-m78.json');\nconst acceptableDevToolsLog = require('../fixtures/traces/lcp-m78.devtools.log.json');\n\n/* eslint-env jest */\ndescribe('Performance: predictive performance audit', () => {\n  it('should compute the predicted values', () => {\n    const artifacts = {\n      traces: {\n        [PredictivePerf.DEFAULT_PASS]: acceptableTrace,\n      },\n      devtoolsLogs: {\n        [PredictivePerf.DEFAULT_PASS]: acceptableDevToolsLog,\n      },\n    };\n    const context = {computedCache: new Map(), settings: {locale: 'en'}};\n\n    return PredictivePerf.audit(artifacts, context).then(output => {\n      const metrics = output.details.items[0];\n      for (const [key, value] of Object.entries(metrics)) {\n        metrics[key] = Math.round(value);\n      }\n\n      expect(metrics).toMatchSnapshot();\n    });\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-required-children-test.js": {
      "tests": [
        {
          "id": "645",
          "name": "Accessibility: aria-required-children audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "646",
          "name": "Accessibility: aria-required-children audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-required-children.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-required-children audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-children',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-children',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/first-contentful-paint-test.js": {
      "tests": [
        {
          "id": "647",
          "name": "Performance: first-contentful-paint audit evaluates valid input correctly",
          "location": {
            "start": {
              "column": 4,
              "line": 17
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\nconst Audit = require('../../../audits/metrics/first-contentful-paint.js');\nconst assert = require('assert').strict;\nconst options = Audit.defaultOptions;\n\nconst pwaTrace = require('../../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Performance: first-contentful-paint audit', () => {\n  it('evaluates valid input correctly', async () => {\n    const artifacts = {\n      traces: {\n        [Audit.DEFAULT_PASS]: pwaTrace,\n      },\n      devtoolsLogs: {\n        [Audit.DEFAULT_PASS]: pwaDevtoolsLog,\n      },\n    };\n\n    const settings = {throttlingMethod: 'provided'};\n    const result = await Audit.audit(artifacts, {settings, options, computedCache: new Map()});\n    assert.equal(result.score, 1);\n    assert.equal(result.numericValue, 498.87);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-valid-attr-value-test.js": {
      "tests": [
        {
          "id": "648",
          "name": "Accessibility: aria-valid-attr-value audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "649",
          "name": "Accessibility: aria-valid-attr-value audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-valid-attr-value.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-valid-attr-value audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-valid-attr-value',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-valid-attr-value',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-required-parent-test.js": {
      "tests": [
        {
          "id": "650",
          "name": "Accessibility: aria-required-parent audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "651",
          "name": "Accessibility: aria-required-parent audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-required-parent.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-required-parent audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-parent',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-parent',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-required-attr-test.js": {
      "tests": [
        {
          "id": "652",
          "name": "Accessibility: aria-required-attr audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "653",
          "name": "Accessibility: aria-required-attr audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-required-attr.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-required-attr audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-attr',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-required-attr',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/th-has-data-cells-test.js": {
      "tests": [
        {
          "id": "654",
          "name": "Accessibility: th-has-data-cells audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "655",
          "name": "Accessibility: th-has-data-cells audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/th-has-data-cells.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: th-has-data-cells audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'th-has-data-cells',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'th-has-data-cells',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-allowed-attr-test.js": {
      "tests": [
        {
          "id": "656",
          "name": "Accessibility: aria-allowed-attr audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "657",
          "name": "Accessibility: aria-allowed-attr audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-allowed-attr.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-allowed-attr audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-allowed-attr',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-allowed-attr',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/video-description-test.js": {
      "tests": [
        {
          "id": "658",
          "name": "Accessibility: video-description audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "659",
          "name": "Accessibility: video-description audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/video-description.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: video-description audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'video-description',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'video-description',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/password-inputs-can-be-pasted-into-test.js": {
      "tests": [
        {
          "id": "660",
          "name": "Password inputs can be pasted into passes when there are no password inputs preventing paste",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        },
        {
          "id": "661",
          "name": "Password inputs can be pasted into fails when there are password inputs preventing paste",
          "location": {
            "start": {
              "column": 4,
              "line": 23
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst PasswordInputsCanBePastedIntoAudit =\n  require('../../../audits/dobetterweb/password-inputs-can-be-pasted-into.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Password inputs can be pasted into', () => {\n  it('passes when there are no password inputs preventing paste', () => {\n    const auditResult = PasswordInputsCanBePastedIntoAudit.audit({\n      PasswordInputsWithPreventedPaste: [],\n    });\n    assert.equal(auditResult.score, 1);\n    assert.equal(auditResult.details.items.length, 0);\n  });\n\n  it('fails when there are password inputs preventing paste', () => {\n    const auditResult = PasswordInputsCanBePastedIntoAudit.audit({\n      PasswordInputsWithPreventedPaste: [{snippet: ''}, {snippet: ''}],\n    });\n    assert.equal(auditResult.score, 0);\n    assert.equal(auditResult.details.items.length, 2);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/html-lang-valid-test.js": {
      "tests": [
        {
          "id": "662",
          "name": "Accessibility: html-lang-valid audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "663",
          "name": "Accessibility: html-lang-valid audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/html-lang-valid.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: html-lang-valid audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'html-lang-valid',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'html-lang-valid',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-valid-attr-test.js": {
      "tests": [
        {
          "id": "664",
          "name": "Accessibility: aria-valid-attr audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "665",
          "name": "Accessibility: aria-valid-attr audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-valid-attr.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-valid-attr audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-valid-attr',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-valid-attr',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/definition-list-test.js": {
      "tests": [
        {
          "id": "666",
          "name": "Accessibility: definition-list audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "667",
          "name": "Accessibility: definition-list audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/definition-list.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: definition-list audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'definition-list',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'definition-list',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/input-image-alt-test.js": {
      "tests": [
        {
          "id": "668",
          "name": "Accessibility: input-image-alt audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "669",
          "name": "Accessibility: input-image-alt audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/input-image-alt.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: input-image-alt audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'input-image-alt',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'input-image-alt',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/td-headers-attr-test.js": {
      "tests": [
        {
          "id": "670",
          "name": "Accessibility: td-headers-attr audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "671",
          "name": "Accessibility: td-headers-attr audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/td-headers-attr.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: td-headers-attr audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'td-headers-attr',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'td-headers-attr',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/color-contrast-test.js": {
      "tests": [
        {
          "id": "672",
          "name": "Accessibility: color-contrast audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "673",
          "name": "Accessibility: color-contrast audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/color-contrast.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: color-contrast audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'color-contrast',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'color-contrast',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/document-title-test.js": {
      "tests": [
        {
          "id": "674",
          "name": "Accessibility: document-title audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "675",
          "name": "Accessibility: document-title audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/document-title.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: document-title audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'document-title',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'document-title',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/html-has-lang-test.js": {
      "tests": [
        {
          "id": "676",
          "name": "Accessibility: html-has-lang audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "677",
          "name": "Accessibility: html-has-lang audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/html-has-lang.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: html-has-lang audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'html-has-lang',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'html-has-lang',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/meta-viewport-test.js": {
      "tests": [
        {
          "id": "678",
          "name": "Accessibility: meta-viewport audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "679",
          "name": "Accessibility: meta-viewport audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/meta-viewport.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: meta-viewport audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'meta-viewport',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'meta-viewport',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/video-caption-test.js": {
      "tests": [
        {
          "id": "680",
          "name": "Accessibility: video-caption audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "681",
          "name": "Accessibility: video-caption audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/video-caption.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: video-caption audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'video-caption',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'video-caption',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/layout-table-test.js": {
      "tests": [
        {
          "id": "682",
          "name": "Accessibility: layout-table audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "683",
          "name": "Accessibility: layout-table audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/layout-table.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: layout-table audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'layout-table',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'layout-table',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/meta-refresh-test.js": {
      "tests": [
        {
          "id": "684",
          "name": "Accessibility: meta-refresh audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "685",
          "name": "Accessibility: meta-refresh audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/meta-refresh.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: meta-refresh audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'meta-refresh',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'meta-refresh',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/frame-title-test.js": {
      "tests": [
        {
          "id": "686",
          "name": "Accessibility: frame-title audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "687",
          "name": "Accessibility: frame-title audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/frame-title.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: frame-title audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'frame-title',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'frame-title',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/button-name-test.js": {
      "tests": [
        {
          "id": "688",
          "name": "Accessibility: button-name audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "689",
          "name": "Accessibility: button-name audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/button-name.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: button-name audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'button-name',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'button-name',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/aria-roles-test.js": {
      "tests": [
        {
          "id": "690",
          "name": "Accessibility: aria-roles audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "691",
          "name": "Accessibility: aria-roles audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/aria-roles.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: aria-roles audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-roles',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'aria-roles',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/valid-lang-test.js": {
      "tests": [
        {
          "id": "692",
          "name": "Accessibility: valid-lang audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "693",
          "name": "Accessibility: valid-lang audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/valid-lang.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: valid-lang audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'valid-lang',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'valid-lang',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/object-alt-test.js": {
      "tests": [
        {
          "id": "694",
          "name": "Accessibility: object-alt audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "695",
          "name": "Accessibility: object-alt audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/object-alt.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: object-alt audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'object-alt',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'object-alt',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/link-name-test.js": {
      "tests": [
        {
          "id": "696",
          "name": "Accessibility: link-name audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "697",
          "name": "Accessibility: link-name audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/link-name.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: link-name audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'link-name',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'link-name',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/image-alt-test.js": {
      "tests": [
        {
          "id": "698",
          "name": "Accessibility: image-alt audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "699",
          "name": "Accessibility: image-alt audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/image-alt.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: image-alt audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'image-alt',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'image-alt',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/listitem-test.js": {
      "tests": [
        {
          "id": "700",
          "name": "Accessibility: listitem audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "701",
          "name": "Accessibility: listitem audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/listitem.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: listitem audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'listitem',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'listitem',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/tabindex-test.js": {
      "tests": [
        {
          "id": "702",
          "name": "Accessibility: tabindex audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "703",
          "name": "Accessibility: tabindex audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/tabindex.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: tabindex audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'tabindex',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'tabindex',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/dlitem-test.js": {
      "tests": [
        {
          "id": "704",
          "name": "Accessibility: dlitem audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "705",
          "name": "Accessibility: dlitem audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/dlitem.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: dlitem audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'dlitem',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'dlitem',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/bypass-test.js": {
      "tests": [
        {
          "id": "706",
          "name": "Accessibility: bypass audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "707",
          "name": "Accessibility: bypass audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/bypass.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: bypass audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'bypass',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'bypass',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/label-test.js": {
      "tests": [
        {
          "id": "708",
          "name": "Accessibility: label audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "709",
          "name": "Accessibility: label audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/label.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: label audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'label',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'label',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/network-rtt-test.js": {
      "tests": [
        {
          "id": "710",
          "name": "Network RTT audit should work",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst NetworkRTT = require('../../audits/network-rtt.js');\n\nconst acceptableDevToolsLog = require('../fixtures/traces/progressive-app-m60.devtools.log.json');\n\n/* eslint-env jest */\n\ndescribe('Network RTT audit', () => {\n  it('should work', async () => {\n    const artifacts = {devtoolsLogs: {defaultPass: acceptableDevToolsLog}};\n    const result = await NetworkRTT.audit(artifacts, {computedCache: new Map()});\n    result.details.items.forEach(item => (item.rtt = Math.round(item.rtt * 100) / 100));\n\n    expect(result.details.items).toEqual([\n      {\n        origin: 'https://www.google-analytics.com',\n        rtt: 3.67,\n      },\n      {\n        origin: 'https://pwa.rocks',\n        rtt: 3.02,\n      },\n      {\n        origin: 'https://www.googletagmanager.com',\n        rtt: 2.62,\n      },\n    ]);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/metrics/speed-index-test.js": {
      "tests": [
        {
          "id": "711",
          "name": "Performance: speed-index audit works on a real trace",
          "location": {
            "start": {
              "column": 4,
              "line": 18
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\n/* eslint-env jest */\n\nconst Audit = require('../../../audits/metrics/speed-index.js');\nconst assert = require('assert').strict;\nconst options = Audit.defaultOptions;\n\nconst pwaTrace = require('../../fixtures/traces/progressive-app-m60.json');\nconst pwaDevtoolsLog = require('../../fixtures/traces/progressive-app-m60.devtools.log.json');\n\ndescribe('Performance: speed-index audit', () => {\n  it('works on a real trace', () => {\n    const artifacts = {\n      traces: {defaultPass: pwaTrace},\n      devtoolsLogs: {defaultPass: pwaDevtoolsLog},\n    };\n\n    const settings = {throttlingMethod: 'provided'};\n    return Audit.audit(artifacts, {options, settings, computedCache: new Map()}).then(result => {\n      assert.equal(result.score, 1);\n      assert.equal(result.numericValue, 605);\n    });\n  }, 10000);\n});\n"
    },
    "lighthouse-core/test/audits/accessibility/list-test.js": {
      "tests": [
        {
          "id": "712",
          "name": "Accessibility: list audit generates an audit output",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "713",
          "name": "Accessibility: list audit generates an audit output (single node)",
          "location": {
            "start": {
              "column": 4,
              "line": 29
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../../audits/accessibility/list.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Accessibility: list audit', () => {\n  it('generates an audit output', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'list',\n          nodes: [],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n\n  it('generates an audit output (single node)', () => {\n    const artifacts = {\n      Accessibility: {\n        violations: [{\n          id: 'list',\n          nodes: [{}],\n          help: 'http://example.com/',\n        }],\n      },\n    };\n\n    const output = Audit.audit(artifacts);\n    assert.equal(output.score, 0);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/final-screenshot-test.js": {
      "tests": [
        {
          "id": "714",
          "name": "Final screenshot should extract a final screenshot from a trace",
          "location": {
            "start": {
              "column": 4,
              "line": 16
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2018 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst assert = require('assert').strict;\n\nconst FinalScreenshotAudit = require('../../audits/final-screenshot.js');\nconst pwaTrace = require('../fixtures/traces/progressive-app-m60.json');\n\n/* eslint-env jest */\n\ndescribe('Final screenshot', () => {\n  it('should extract a final screenshot from a trace', async () => {\n    const artifacts = Object.assign({\n      traces: {defaultPass: pwaTrace},\n    });\n    const results = await FinalScreenshotAudit.audit(artifacts, {computedCache: new Map()});\n\n    assert.equal(results.score, 1);\n    assert.equal(results.details.timing, 818);\n    assert.equal(results.details.timestamp, 225414990064);\n    assert.ok(results.details.data.startsWith('data:image/jpeg;base64,/9j/4AAQSkZJRgABA'));\n  });\n});\n"
    },
    "lighthouse-core/test/audits/dobetterweb/appcache-manifest-test.js": {
      "tests": [
        {
          "id": "715",
          "name": "Appcache manifest audit fails when <html> contains a manifest attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "716",
          "name": "Appcache manifest audit passes when <html> does not contain a manifest attribute",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst AppCacheManifestAttrAudit = require('../../../audits/dobetterweb/appcache-manifest.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Appcache manifest audit', () => {\n  it('fails when <html> contains a manifest attribute', () => {\n    const auditResult = AppCacheManifestAttrAudit.audit({\n      AppCacheManifest: 'manifest-name',\n    });\n    assert.equal(auditResult.score, 0);\n    expect(auditResult.displayValue).toBeDisplayString(/manifest-name/);\n  });\n\n  it('passes when <html> does not contain a manifest attribute', () => {\n    assert.equal(AppCacheManifestAttrAudit.audit({\n      AppCacheManifest: null,\n    }).score, 1);\n  });\n});\n"
    },
    "lighthouse-core/test/audits/manual-audit-test.js": {
      "tests": [
        {
          "id": "717",
          "name": "ManualAudit sets defaults",
          "location": {
            "start": {
              "column": 4,
              "line": 24
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2017 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst ManualAudit = require('../../audits/manual/manual-audit.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\n// Extend the Audit class but fail to implement meta. It should throw errors.\nclass TestAudit extends ManualAudit {\n  static get meta() {\n    return Object.assign({\n      id: 'manual-audit',\n      description: 'Some help text.',\n    }, super.partialMeta);\n  }\n}\n\ndescribe('ManualAudit', () => {\n  it('sets defaults', () => {\n    assert.equal(TestAudit.meta.id, 'manual-audit');\n    assert.equal(TestAudit.meta.requiredArtifacts.length, 0);\n    assert.equal(TestAudit.meta.scoreDisplayMode, 'manual');\n  });\n});\n"
    },
    "lighthouse-core/test/audits/main-thread-tasks-test.js": {
      "tests": [
        {
          "id": "718",
          "name": "Main thread tasks audit should work",
          "location": {
            "start": {
              "column": 4,
              "line": 15
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2019 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst MainThreadTasks = require('../../audits/main-thread-tasks.js');\n\nconst acceptableTrace = require('../fixtures/traces/progressive-app-m60.json');\n\n/* eslint-env jest */\n\ndescribe('Main thread tasks audit', () => {\n  it('should work', async () => {\n    const artifacts = {traces: {defaultPass: acceptableTrace}};\n    const result = await MainThreadTasks.audit(artifacts, {computedCache: new Map()});\n    expect(result.details.items).toHaveLength(39);\n\n    for (const item of result.details.items) {\n      expect(Number.isFinite(item.startTime)).toBeTruthy();\n      expect(Number.isFinite(item.duration)).toBeTruthy();\n    }\n  });\n});\n"
    },
    "lighthouse-core/test/audits/redirects-http-test.js": {
      "tests": [
        {
          "id": "719",
          "name": "Security: HTTP->HTTPS audit fails when no redirect detected",
          "location": {
            "start": {
              "column": 4,
              "line": 14
            }
          }
        },
        {
          "id": "720",
          "name": "Security: HTTP->HTTPS audit passes when redirect detected",
          "location": {
            "start": {
              "column": 4,
              "line": 22
            }
          }
        }
      ],
      "source": "/**\n * @license Copyright 2016 The Lighthouse Authors. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\"); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0\n * Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License.\n */\n'use strict';\n\nconst Audit = require('../../audits/redirects-http.js');\nconst assert = require('assert').strict;\n\n/* eslint-env jest */\n\ndescribe('Security: HTTP->HTTPS audit', () => {\n  it('fails when no redirect detected', () => {\n    return assert.equal(Audit.audit({\n      HTTPRedirect: {\n        value: false,\n      },\n    }).score, 0);\n  });\n\n  it('passes when redirect detected', () => {\n    return assert.equal(Audit.audit({\n      HTTPRedirect: {\n        value: true,\n      },\n    }).score, 1);\n  });\n});\n"
    }
  },
  "projectRoot": "/home/nicojs/github/stryker-js/perf/test/lighthouse",
  "config": {
    "$schema": "../../../packages/core/schema/stryker-schema.json",
    "packageManager": "yarn",
    "reporters": [
      "html",
      "clear-text",
      "progress",
      "json"
    ],
    "concurrency": 4,
    "jest": {
      "config": {
        "testMatch": [
          "**/lighthouse-core/test/audits/**/*-test.js"
        ],
        "setupFilesAfterEnv": [
          "./lighthouse-core/test/test-utils.js"
        ],
        "testEnvironment": "node",
        "transform": {},
        "collectCoverage": false
      },
      "projectType": "custom",
      "enableFindRelatedTests": true,
      "enableBail": true
    },
    "mutate": [
      "lighthouse-core/audits/metrics/**/*.js"
    ],
    "testRunner": "jest",
    "coverageAnalysis": "perTest",
    "allowConsoleColors": true,
    "checkers": [],
    "maxTestRunnerReuse": 0,
    "commandRunner": {
      "command": "npm test"
    },
    "clearTextReporter": {
      "allowColor": true,
      "logTests": true,
      "maxTestsToLog": 3
    },
    "dashboard": {
      "baseUrl": "https://dashboard.stryker-mutator.io/api/reports",
      "reportType": "full"
    },
    "eventReporter": {
      "baseDir": "reports/mutation/events"
    },
    "fileLogLevel": "off",
    "inPlace": false,
    "logLevel": "info",
    "maxConcurrentTestRunners": 9007199254740991,
    "mutator": {
      "plugins": null,
      "excludedMutations": []
    },
    "plugins": [
      "/home/nicojs/github/stryker-js/packages/jest-runner/",
      "/home/nicojs/github/stryker-js/packages/core/dist/src/reporters/index.js"
    ],
    "appendPlugins": [],
    "jsonReporter": {
      "fileName": "reports/mutation/mutation.json"
    },
    "disableTypeChecks": "{test,src,lib}/**/*.{js,ts,jsx,tsx,html,vue}",
    "symlinkNodeModules": true,
    "tempDirName": ".stryker-tmp",
    "cleanTempDir": true,
    "testRunnerNodeArgs": [],
    "thresholds": {
      "high": 80,
      "low": 60,
      "break": null
    },
    "timeoutFactor": 1.5,
    "timeoutMS": 5000,
    "dryRunTimeoutMinutes": 5,
    "tsconfigFile": "tsconfig.json",
    "warnings": true,
    "configFile": "stryker.conf.json"
  },
  "framework": {
    "name": "StrykerJS",
    "version": "4.5.1",
    "branding": {
      "homepageUrl": "https://stryker-mutator.io",
      "imageUrl": "data:image/svg+xml;utf8,%3Csvg viewBox='0 0 1458 1458' xmlns='http://www.w3.org/2000/svg' fill-rule='evenodd' clip-rule='evenodd' stroke-linejoin='round' stroke-miterlimit='2'%3E%3Cpath fill='none' d='M0 0h1458v1458H0z'/%3E%3CclipPath id='a'%3E%3Cpath d='M0 0h1458v1458H0z'/%3E%3C/clipPath%3E%3Cg clip-path='url(%23a)'%3E%3Cpath d='M1458 729c0 402.655-326.345 729-729 729S0 1131.655 0 729C0 326.445 326.345 0 729 0s729 326.345 729 729' fill='%23e74c3c' fill-rule='nonzero'/%3E%3Cpath d='M778.349 1456.15L576.6 1254.401l233-105 85-78.668v-64.332l-257-257-44-187-50-208 251.806-82.793L1076.6 389.401l380.14 379.15c-19.681 367.728-311.914 663.049-678.391 687.599z' fill-opacity='.3'/%3E%3Cpath d='M753.4 329.503c41.79 0 74.579 7.83 97.925 25.444 23.571 18.015 41.69 43.956 55.167 77.097l11.662 28.679 165.733-58.183-14.137-32.13c-26.688-60.655-64.896-108.61-114.191-144.011-49.329-35.423-117.458-54.302-204.859-54.302-50.78 0-95.646 7.376-134.767 21.542-40.093 14.671-74.09 34.79-102.239 60.259-28.84 26.207-50.646 57.06-65.496 92.701-14.718 35.052-22.101 72.538-22.101 112.401 0 72.536 20.667 133.294 61.165 182.704 38.624 47.255 98.346 88.037 179.861 121.291 42.257 17.475 78.715 33.125 109.227 46.994 27.193 12.361 49.294 26.124 66.157 41.751 15.309 14.186 26.497 30.584 33.63 49.258 7.721 20.214 11.16 45.69 11.16 76.402 0 28.021-4.251 51.787-13.591 71.219-8.832 18.374-20.171 33.178-34.523 44.219-14.787 11.374-31.193 19.591-49.393 24.466-19.68 5.359-39.14 7.993-58.69 7.993-29.359 0-54.387-3.407-75.182-10.747-20.112-7.013-37.144-16.144-51.259-27.486-13.618-11.009-24.971-23.766-33.744-38.279-9.64-15.8-17.272-31.924-23.032-48.408l-10.965-31.376-161.669 60.585 10.734 30.124c10.191 28.601 24.197 56.228 42.059 82.748 18.208 27.144 41.322 51.369 69.525 72.745 27.695 21.075 60.904 38.218 99.481 51.041 37.777 12.664 82.004 19.159 132.552 19.159 49.998 0 95.818-8.321 137.611-24.622 42.228-16.471 78.436-38.992 108.835-67.291 30.719-28.597 54.631-62.103 71.834-100.642 17.263-38.56 25.923-79.392 25.923-122.248 0-54.339-8.368-100.37-24.208-138.32-16.29-38.759-38.252-71.661-65.948-98.797-26.965-26.418-58.269-48.835-93.858-67.175-33.655-17.241-69.196-33.11-106.593-47.533-35.934-13.429-65.822-26.601-89.948-39.525-22.153-11.868-40.009-24.21-53.547-37.309-11.429-11.13-19.83-23.678-24.718-37.664-5.413-15.49-7.98-33.423-7.98-53.577 0-40.883 11.293-71.522 37.086-90.539 28.443-20.825 64.985-30.658 109.311-30.658z' fill='%23f1c40f' fill-rule='nonzero'/%3E%3Cpath d='M720 0h18v113h-18zM1458 738v-18h-113v18h113zM720 1345h18v113h-18zM113 738v-18H0v18h113z'/%3E%3C/g%3E%3C/svg%3E"
    },
    "dependencies": {
      "mocha": "8.3.2",
      "jasmine": "3.7.0",
      "jasmine-core": "3.7.1",
      "jest": "24.9.0",
      "typescript": "3.9.7"
    }
  }
}
